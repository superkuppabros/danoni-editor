{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?58b9","webpack:///./src/App.vue","webpack:///./src/App.vue?96b3","webpack:///./src/App.vue?a286","webpack:///./src/pages/Editor.vue?407b","webpack:///./src/components/editor/EditorController.vue?666b","webpack:///./src/components/editor/EditorMain.vue?e081","webpack:///./src/model/PageScore.ts","webpack:///./src/components/editor/EditorConstant.ts","webpack:///./src/components/editor/service/MusicService.ts","webpack:///./src/components/editor/helper/toPx.ts","webpack:///./src/components/editor/service/NoteService.ts","webpack:///./src/components/editor/service/SpeedPieceService.ts","webpack:///./src/components/editor/service/PageScoreService.ts","webpack:///./src/components/editor/helper/Calculator.ts","webpack:///./src/components/editor/service/CurrentPositionService.ts","webpack:///./src/components/editor/SpeedPiece.vue?fd5f","webpack:///./src/components/editor/SpeedPiece.vue","webpack:///./src/components/editor/SpeedPiece.vue?b675","webpack:///./src/components/editor/SpeedPiece.vue?1995","webpack:///./src/components/editor/helper/undo.ts","webpack:///./src/model/KeyConfig.ts","webpack:///./src/components/common/createCustomKeyConfig.ts","webpack:///./src/components/editor/EditorMain.vue","webpack:///./src/components/editor/EditorMain.vue?7838","webpack:///./src/components/editor/EditorMain.vue?7b67","webpack:///./src/components/editor/EditorOption.vue?c01d","webpack:///./src/components/editor/EditorOption.vue","webpack:///./src/components/editor/EditorOption.vue?55c1","webpack:///./src/components/editor/EditorOption.vue?133b","webpack:///./src/model/ScoreData.ts","webpack:///./src/components/editor/service/ScoreConvertService.ts","webpack:///./src/components/editor/service/LevelCalcService.ts","webpack:///./src/components/editor/service/ScoreRevivalService.ts","webpack:///./src/components/editor/EditorSave.vue?00fd","webpack:///./src/components/editor/EditorSave.vue","webpack:///./src/components/editor/EditorSave.vue?0e02","webpack:///./src/components/editor/EditorSave.vue?a161","webpack:///./src/components/editor/EditorController.vue","webpack:///./src/components/editor/EditorController.vue?c5dc","webpack:///./src/components/editor/EditorController.vue?280c","webpack:///./src/pages/Editor.vue","webpack:///./src/pages/Editor.vue?9ca7","webpack:///./src/pages/Editor.vue?983f","webpack:///./src/pages/Start.vue?9b81","webpack:///./src/components/start/StartMain.vue?fcf6","webpack:///./src/components/start/StartUploader.vue?4221","webpack:///./src/components/start/StartUploader.vue","webpack:///./src/components/start/StartUploader.vue?0c8c","webpack:///./src/components/start/StartUploader.vue?5c4e","webpack:///./src/components/start/StartLoad.vue?c0e5","webpack:///./src/components/start/StartLoad.vue","webpack:///./src/components/start/StartLoad.vue?61aa","webpack:///./src/components/start/StartLoad.vue?347a","webpack:///./src/components/start/StartMain.vue","webpack:///./src/components/start/StartMain.vue?834a","webpack:///./src/components/start/StartMain.vue?9ff1","webpack:///./src/pages/Start.vue","webpack:///./src/pages/Start.vue?249f","webpack:///./src/pages/Start.vue?dbc7","webpack:///./src/pages/Configure.vue?78d9","webpack:///./src/components/configure/ConfigureMain.vue?10d1","webpack:///./src/components/configure/ConfigureUploader.vue?17d1","webpack:///./src/components/configure/ConfigureUploader.vue","webpack:///./src/components/configure/ConfigureUploader.vue?9e7e","webpack:///./src/components/configure/ConfigureUploader.vue?ad6c","webpack:///./src/components/configure/ConfigureDesign.vue?de11","webpack:///./src/components/configure/ConfigureDesign.vue","webpack:///./src/components/configure/ConfigureDesign.vue?e012","webpack:///./src/components/configure/ConfigureDesign.vue?33a6","webpack:///./src/components/configure/ConfigureMain.vue","webpack:///./src/components/configure/ConfigureMain.vue?cb8f","webpack:///./src/components/configure/ConfigureMain.vue?92ce","webpack:///./src/pages/Configure.vue","webpack:///./src/pages/Configure.vue?f052","webpack:///./src/pages/Configure.vue?0491","webpack:///./src/router.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_h","$createElement","_c","_self","staticRenderFns","extend","component","attrs","selectedKey","loadScoreDataStr","loadMusicUrl","pageNum","scoreData","keyConfig","keyKind","timing","scoreNumber","musicVolume","musicRate","on","pageMinus","pagePlus","pageJump","$event","save","staticClass","_m","_v","_s","ref","domProps","getLabelNumByPageNum","callLabelOperation","labelMinus","labelNum","labelPlus","directives","rawName","expression","modifiers","target","composing","$set","_n","$forceUpdate","convertWithQuarters","displayScoreDataInfo","convert","path","preventDefault","keydownAction","arguments","_l","scores","page","speed","index","position","type","isReverse","model","callback","$$v","moveIntervalFrame","keyNum","speeds","notes","Array","fill","map","freezes","noteWidth","noteHeight","verticalSizeNum","editorHeight","quarterInterval","fps","canvasMarginHorizontal","canvasMarginVertical","noteColors","freezeColors","laneColors","audio","context","AudioContext","load","track","createMediaElementSource","gainNode","createGain","connect","destination","play","startTime","gain","playbackRate","duration","currentTime","setTimeout","pause","timer","clearTimeout","toPx","pos","stage","notesLayer","operationQueue","num","isHighlightedFreeze","JSON","parse","localStorage","getItem","hasNote","lane","pageScore","isFreeze","includes","exists","add","remove","removedFreezes","filter","removedNotes","draw","colorGroup","color","note","Rect","x","y","width","height","id","clear","findOne","destroy","addOne","displayPage","fillFreeze","removeOne","laneFreezes","sort","a","b","startParity","reduce","acc","score","unshift","fills","find","each","node","freezeStart","freezeEnd","opacity","Math","min","removeLanes","removedLanes","noteStatus","removeOnPosition","addOnPosition","currentPosition","notesOnPosition","forEach","obj","delta","newPosition","newPage","movedLanes","originalLanes","editorWidth","hasSpeedPiece","some","radius","triangle","RegularPolygon","sides","rotation","copyScoreStore","displayPageScore","copy","DefaultPageScore","cut","write","paste","insert","timings","label","delete","positionToFrame","blankFrame","framePerPosition","bpm","startFrame","startNum","frameToPagePosition","frame","rawPosition","round","adjustedPosition","floor","positionToSeconds","secondsToTimeStr","seconds","mm","sec","ss","currentPositionLayer","changeCurrentPosition","yValue","maybeLine","line","Line","points","stroke","strokeWidth","maybeTriangle","currentFrame","currentSeconds","currentTimeStr","displayedText","textWidth","textHeight","maybeText","text","Text","fontSize","align","move","musicAnimate","currentPositionLine","tween","Tween","style","top","inputValue","prop","event","props","Boolean","Number","propValue","String","computed","set","$emit","undo","noteService","pageScoreService","operation","pop","undoPage","undoPosition","DefaultKeyConfig","keys","chars","alternativeKeys","noteNames","freezeNames","createCustomKeyConfig","customKeyConfigStr","assign","loadScoreData","propScoreNumber","components","SpeedPiece","Audio","isReverseStr","divisor","musicService","MusicService","musicTimer","currentPositionService","undefined","previousPosition","previousPage","previousDate","Date","methods","baseLayerDraw","baseLayer","destroyChildren","xPos","filler","yPos","rect","charStr","keyText","verticalAlign","playMusicLoop","startPosition","endPosition","endTime","loop","playDuration","stopMusicLoop","speedPieceService","laneArr","pageMove","changeDivisor","currentPositionIncrease","currentPositionDecrease","e","positionLineMove","isRaise","mustCtrlAction","code","shiftKey","targetPage","targetPosition","withCtrlAction","ctrlKey","speedType","possiblyLane","max","indexOf","isSimultaneous","now","threshold","getTime","mounted","Stage","container","Layer","$refs","canvas","HTMLElement","focus","beforeDestroy","watch","inputScoreNumber","inputMusicVolume","inputMusicRate","setItem","defaultPageScore","toFrameData","initialPageScore","labelCounter","maxPageNum","frameScores","pageNoteFrames","notesArr","freezeNoteFrames","freezesArr","speedsNoteFrames","newSpeed","framesToOutputData","initialData","boosts","outputData","currentPage","concat","makeEasySave","labels","startNumbers","bpms","easySave","join","scorePostfix","noteStr","str","laneNum","replace","freezeStr","speedStr","boostStr","cutLastDefault","len","copiedScoreData","quarterNotes","pushQuartersPageNum","pushQuartersLane","newScoreData","quartersPageScore","stringify","calcFlattenData","noteFrames","freezeFrames","flattenData","allScorebook","frzStartData","frzEndData","calcLaneContinuous","laneContinuous","frames","_value","continuousFrame","diff","adj","calcAdjustValue","currentFrzNum","uniqueScorebook","scoreDataInfo","level","single","double","overTriple","overTripleFrame","nextFrame","decreaseFrzNum","f","hitsNum","doubleAdj","increaseFrzNum","exDecreaseFrzNum","singleAdj","calcLevel","totalNotes","adjFunc","sqrt","totalAdj","tripleCorrectedLevel","roundedLevel","countNotes","notesCountArr","freezesCountArr","createScoreDataInfoStr","levelStr","doubleStr","continuousStr","arrowsCount","totalfreezes","arrowNumStr","notesStr","freezesStr","overTripleFrameStr","dataInfoStr","delimiter","calcScoreData","dict","speedChangeNames","speedChangeFrames","maxFrame","findMaxNumber","maxPage","noteScores","makeScores","freezeScores","speedFrames","_","speedValues","boostFrames","boostValues","frameSpeeds","speedsArr","frameSpeed","pagePosition","pageScores","dosConvert","dosData","regRes","exec","extractedScoreNumber","regExp","RegExp","splitArray","split","rawDict","elem","fromOldCWToNewCW","parseInt","parseFloat","curr","laneLen","arr","laneFrames","difData","firstNum","habaNum","ceil","startNumber","dictKeys","inputKeyPhrase","trim","staticStyle","submitPhrase","resetForm","phraseHistory","keyPhrase","phrasesLengthMax","EditorMain","EditorOption","EditorSave","storedKeyKind","sessionStorage","selectedKeyKind","selectedKeyNum","scoreRevivalService","alert","scoreConvertService","labelMove","changeScoreData","writeClipBoard","message","navigator","clipboard","writeText","postfix","toString","converter","Promise","onlineSave","localSave","xhr","XMLHttpRequest","apiUrl","open","setRequestHeader","send","levelChecker","frameData","scoreDataInfoStr","getNearestLabelNumByPageNum","labelOperation","labelFlag","oldTiming","newStartNum","newTiming","EditorController","beforeRouteLeave","to","from","next","answer","confirm","beforeunloadAlert","returnValue","created","addEventListener","destroyed","removeEventListener","musicTitle","onMusicFileRecieve","scoreTitle","onScoreFileRecieve","$$selectedVal","options","selected","val","multiple","params","scoreDataStr","musicUrl","ondragover","ondrop","loadFile","msg","vue","file","dataTransfer","dropEffect","files","HTMLInputElement","newFile","StartUploader","StartLoad","keyKinds","localSaveDataStr","mimeTypePattern","match","FileReader","onload","readAsDataURL","readAsText","moveToEditor","$router","loadData","fetch","response","json","replaceAll","removeItem","StartMain","confTitle","onConfFileRecieve","resetConf","_q","simultaneousThreshold","newValue","isHighlightedFreezeStr","ConfigureUploader","ConfigureDesign","storage","ConfigureMain","config","productionTip","use","routes","Start","Editor","Configure","install","router","h","App","$mount"],"mappings":"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OACA,OACA,OACA,OACA,OACA,OACA,SACA,OACA,OACA,UAEFC,MAAO,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC1DC,gBAAiB,CACf,GACA,GACA,GACA,OACA,GACA,GACA,GACA,SACA,GACA,GACA,SAEFC,UAAW,CACT,YACA,eACA,YACA,aACA,UACA,gBACA,aACA,aACA,aACA,WACA,eAEFC,YAAa,CACX,eACA,eACA,eACA,gBACA,aACA,eACA,gBACA,gBACA,gBACA,cACA,kBAEFxI,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAG7C,MAAO,CACLQ,GAAI,GACJ1B,IAAK,GACLsJ,KAAM,CACJ,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QAEFC,MAAO,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC1DC,gBAAiB,CACf,GACA,OACA,GACA,OACA,GACA,OACA,GACA,QACA,GACA,OACA,IAEFC,UAAW,CACT,YACA,YACA,WACA,UACA,aACA,aACA,aACA,aACA,YACA,WACA,eAEFC,YAAa,CACX,eACA,eACA,cACA,aACA,gBACA,gBACA,gBACA,gBACA,eACA,cACA,kBAEFxI,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAG7C,GAAM,CACJQ,GAAI,GACJ1B,IAAK,GACLsJ,KAAM,CACJ,OACA,OACA,OACA,OACA,OACA,QACA,OACA,SACA,OACA,OACA,SACA,QAEFC,MAAO,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC/DC,gBAAiB,CAAC,OAAQ,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,SAAU,IACxEC,UAAW,CACT,WACA,YACA,eACA,YACA,aACA,UACA,gBACA,aACA,aACA,aACA,WACA,eAEFC,YAAa,CACX,YACA,eACA,eACA,eACA,gBACA,aACA,eACA,gBACA,gBACA,gBACA,cACA,kBAEFxI,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGhD,GAAM,CACJQ,GAAI,GACJ1B,IAAK,GACLsJ,KAAM,CACJ,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,YACA,OACA,OACA,SACA,QAEFC,MAAO,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACpEC,gBAAiB,CACf,GACA,GACA,GACA,GACA,OACA,GACA,GACA,GACA,GACA,GACA,GACA,SACA,IAEFC,UAAW,CACT,YACA,YACA,UACA,aACA,aACA,aACA,aACA,WACA,cACA,aACA,aACA,WACA,eAEFC,YAAa,CACX,eACA,eACA,aACA,gBACA,gBACA,gBACA,gBACA,cACA,iBACA,gBACA,gBACA,cACA,kBAEFxI,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGnD,GAAM,CACJQ,GAAI,GACJ1B,IAAK,GACLsJ,KAAM,CACJ,OACA,OACA,OACA,OACA,OACA,QACA,OACA,SACA,OACA,OACA,OACA,SACA,OACA,QAEFC,MAAO,CACL,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAEFC,gBAAiB,CACf,OACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,OACA,GACA,GACA,SACA,GACA,eAEFC,UAAW,CACT,WACA,YACA,eACA,YACA,aACA,UACA,gBACA,aACA,gBACA,aACA,aACA,WACA,cACA,kBAEFC,YAAa,CACX,YACA,eACA,eACA,eACA,gBACA,aACA,eACA,gBACA,gBACA,gBACA,gBACA,cACA,iBACA,iBAEFxI,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGtD,MAAO,CACLQ,GAAI,GACJ1B,IAAK,GACLsJ,KAAM,CACJ,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,SACA,QAEFC,MAAO,CACL,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAEFC,gBAAiB,CACf,GACA,GACA,GACA,GACA,GACA,GACA,OACA,GACA,GACA,GACA,GACA,GACA,SACA,IAEFC,UAAW,CACT,WACA,aACA,WACA,aACA,gBACA,aACA,cACA,WACA,iBACA,cACA,YACA,YACA,UACA,cAEFC,YAAa,CACX,cACA,gBACA,cACA,gBACA,gBACA,gBACA,iBACA,cACA,gBACA,iBACA,eACA,eACA,aACA,iBAEFxI,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGtD,GAAM,CACJQ,GAAI,GACJ1B,IAAK,GACLsJ,KAAM,CACJ,OACA,OACA,SACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,SACA,QAEFC,MAAO,CACL,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAEFC,gBAAiB,CACf,GACA,GACA,SACA,GACA,GACA,GACA,GACA,OACA,GACA,GACA,GACA,GACA,GACA,SACA,IAEFC,UAAW,CACT,aACA,aACA,WACA,cACA,YACA,eACA,YACA,aACA,UACA,gBACA,aACA,aACA,aACA,WACA,eAEFC,YAAa,CACX,gBACA,gBACA,cACA,iBACA,eACA,eACA,eACA,gBACA,aACA,eACA,gBACA,gBACA,gBACA,cACA,kBAEFxI,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGzD,MAAO,CACLQ,GAAI,GACJ1B,IAAK,GACLsJ,KAAM,CACJ,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,YACA,OACA,OACA,SACA,QAEFC,MAAO,CACL,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAEFC,gBAAiB,CACf,GACA,GACA,GACA,GACA,GACA,GACA,GACA,OACA,GACA,GACA,GACA,GACA,GACA,GACA,SACA,IAEFC,UAAW,CACT,WACA,aACA,WACA,aACA,aACA,WACA,cACA,cACA,aACA,aACA,WACA,cACA,YACA,YACA,UACA,cAEFC,YAAa,CACX,cACA,gBACA,cACA,gBACA,gBACA,cACA,iBACA,iBACA,gBACA,gBACA,cACA,iBACA,eACA,eACA,aACA,iBAEFxI,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAG5D,GAAM,CACJQ,GAAI,GACJ1B,IAAK,GACLsJ,KAAM,CACJ,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QACA,OACA,SACA,aAEFC,MAAO,CACL,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAEFC,gBAAiB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,QAClDC,UAAW,CACT,aACA,aACA,aACA,aACA,WACA,WACA,cACA,cACA,aACA,aACA,aACA,aACA,aACA,WACA,WACA,cACA,eAEFC,YAAa,CACX,gBACA,gBACA,gBACA,gBACA,cACA,cACA,iBACA,iBACA,gBACA,gBACA,gBACA,gBACA,gBACA,cACA,cACA,iBACA,kBAEFxI,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAG/D,GAAM,CACJQ,GAAI,GACJ1B,IAAK,GACLsJ,KAAM,CACJ,OACA,OACA,SACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QACA,OACA,SACA,OACA,OACA,SACA,QAEFC,MAAO,CACL,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAEFC,gBAAiB,CACf,GACA,GACA,SACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,OACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,SACA,IAEFC,UAAW,CACT,aACA,aACA,WACA,cACA,YACA,eACA,YACA,aACA,UACA,gBACA,aACA,WACA,aACA,gBACA,aACA,cACA,WACA,iBACA,cACA,aACA,aACA,WACA,eAEFC,YAAa,CACX,gBACA,gBACA,cACA,iBACA,eACA,eACA,eACA,gBACA,aACA,eACA,gBACA,YACA,gBACA,gBACA,gBACA,iBACA,cACA,gBACA,iBACA,gBACA,gBACA,cACA,kBAEFxI,WAAY,CACV,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,KCtpCC,SAASyI,IACd,IACIzP,EADE0P,EAAqBxJ,aAAaC,QAAQ,mBAEhD,GAAIuJ,EAAoB,CACtB,IAAMhG,EAAM1D,KAAKC,MAAMyJ,GACvB1P,EAAYpE,OAAO+T,OAAOR,EAAkBzF,QAE5C1J,EAAYmP,EAEd,OAAOnP,EC8DM,aAAIR,OAAO,CACxBjC,KAAM,aACN6Q,MAAO,CACLtO,QAASwO,OACTsB,cAAe,CAAE/M,KAAMjH,QACvBiE,aAAc2O,OACdxO,UAAW,CAAE6C,KAAMjH,QACnBqE,QAAS,CAAE4C,KAAM2L,QACjBtO,OAAQ,CAAE2C,KAAMjH,QAChBiU,gBAAiBvB,OACjBlO,YAAakO,OACbjO,UAAWiO,QAEbwB,WAAY,CAAEC,WAAU,GACxB5U,KAAA,W,MACQ4E,EAAYb,KAAK0Q,cACjB5P,EAAYyP,IACZxP,EAAUf,KAAKe,QACfkD,EAASnD,EAAUC,GAAS6F,IAC5BzB,EAAQ,IAAI2L,MAAM9Q,KAAKW,cACvBoQ,EAAwD,QAA5C,EAAW/J,aAAaC,Q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","file":"js/app.ed48996b.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\n\r\nexport default Vue.extend({\r\n  name: \"App\"\r\n});\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/ts-loader/index.js??ref--13-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/ts-loader/index.js??ref--13-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=dfedde86&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"editor\"}},[_c('editor-controller',{attrs:{\"selected-key\":_vm.selectedKey,\"load-score-data-str\":_vm.loadScoreDataStr,\"load-music-url\":_vm.loadMusicUrl}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"editor-controller\"}},[_c('editor-main',{attrs:{\"page-num\":_vm.pageNum,\"load-score-data\":_vm.scoreData,\"load-music-url\":_vm.loadMusicUrl,\"key-config\":_vm.keyConfig,\"key-kind\":_vm.keyKind,\"timing\":_vm.timing,\"prop-score-number\":_vm.scoreNumber,\"music-volume\":_vm.musicVolume,\"music-rate\":_vm.musicRate},on:{\"page-minus\":_vm.pageMinus,\"page-plus\":_vm.pagePlus,\"page-jump\":_vm.pageJump}}),_c('editor-option',{attrs:{\"scoreNumber\":_vm.scoreNumber,\"musicVolume\":_vm.musicVolume,\"musicRate\":_vm.musicRate},on:{\"update:scoreNumber\":function($event){_vm.scoreNumber=$event},\"update:score-number\":function($event){_vm.scoreNumber=$event},\"update:musicVolume\":function($event){_vm.musicVolume=$event},\"update:music-volume\":function($event){_vm.musicVolume=$event},\"update:musicRate\":function($event){_vm.musicRate=$event},\"update:music-rate\":function($event){_vm.musicRate=$event}}}),_c('editor-save',{on:{\"save\":_vm.save}}),_c('div',{attrs:{\"id\":\"editor-menu\"}},[_c('div',{staticClass:\"menu-item-container\",attrs:{\"id\":\"menu-page\"}},[_vm._m(0),_c('div',{staticClass:\"menu-move-display\"},[_c('div',{staticClass:\"menu-move-btn\",on:{\"click\":function($event){return _vm.pageMinus(5)}}},[_vm._v(\"\")]),_c('div',{staticClass:\"menu-move-btn\",on:{\"click\":function($event){return _vm.pageMinus(1)}}},[_vm._v(\"\")]),_c('div',{staticClass:\"menu-move-txt\"},[_vm._v(_vm._s(_vm.pageNum))]),_c('div',{staticClass:\"menu-move-btn\",on:{\"click\":function($event){return _vm.pagePlus(1)}}},[_vm._v(\"\")]),_c('div',{staticClass:\"menu-move-btn\",on:{\"click\":function($event){return _vm.pagePlus(5)}}},[_vm._v(\"\")])])]),_c('div',{staticClass:\"menu-item-container\",attrs:{\"id\":\"menu-label\"}},[_c('div',{staticClass:\"menu-move-header\"},[_c('div',{staticClass:\"menu-txt\"},[_vm._v(\"Label\")]),_c('input',{ref:\"label-checkbox\",staticClass:\"uk-checkbox\",attrs:{\"id\":\"menu-label-checkbox\",\"type\":\"checkbox\",\"disabled\":_vm.pageNum === 1},domProps:{\"checked\":_vm.getLabelNumByPageNum(_vm.pageNum) !== -1},on:{\"click\":_vm.callLabelOperation}})]),_c('div',{staticClass:\"menu-move-display\"},[_c('div',{staticClass:\"menu-move-btn\",on:{\"click\":function($event){return _vm.labelMinus(5)}}},[_vm._v(\"\")]),_c('div',{staticClass:\"menu-move-btn\",on:{\"click\":function($event){return _vm.labelMinus(1)}}},[_vm._v(\"\")]),_c('div',{staticClass:\"menu-move-txt\"},[_vm._v(_vm._s(_vm.labelNum))]),_c('div',{staticClass:\"menu-move-btn\",on:{\"click\":function($event){return _vm.labelPlus(1)}}},[_vm._v(\"\")]),_c('div',{staticClass:\"menu-move-btn\",on:{\"click\":function($event){return _vm.labelPlus(5)}}},[_vm._v(\"\")])])]),_c('div',{staticClass:\"menu-item-container\",attrs:{\"id\":\"menu-adj\"}},[_c('div',{staticClass:\"menu-txt\"},[_vm._v(\"Blank Frame\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.scoreData.blankFrame),expression:\"scoreData.blankFrame\",modifiers:{\"number\":true}}],staticClass:\"uk-input uk-form-small\",attrs:{\"type\":\"number\",\"step\":\"0.01\"},domProps:{\"value\":(_vm.scoreData.blankFrame)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.scoreData, \"blankFrame\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"menu-item-container\",attrs:{\"id\":\"menu-sn\"}},[_c('div',{staticClass:\"menu-txt\"},[_vm._v(\"Start Number\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.timing.startNum),expression:\"timing.startNum\",modifiers:{\"number\":true}}],staticClass:\"uk-input uk-form-small\",attrs:{\"type\":\"number\",\"step\":\"0.01\"},domProps:{\"value\":(_vm.timing.startNum)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.timing, \"startNum\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"menu-item-container\",attrs:{\"id\":\"menu-bpm\"}},[_c('div',{staticClass:\"menu-txt\"},[_vm._v(\"BPM\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.timing.bpm),expression:\"timing.bpm\",modifiers:{\"number\":true}}],staticClass:\"uk-input uk-form-small\",attrs:{\"type\":\"number\",\"step\":\"0.01\"},domProps:{\"value\":(_vm.timing.bpm)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.timing, \"bpm\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"menu-item-container\",attrs:{\"id\":\"menu-output\"}},[_c('a',{staticClass:\"menu-output-btn btn-orange\",attrs:{\"href\":\"#editor-option\",\"uk-toggle\":\"\"}},[_vm._v(\"OPTION\")]),_c('div',{staticClass:\"menu-output-btn btn-gray\",on:{\"click\":_vm.convertWithQuarters}},[_vm._v(\" TEST \")]),_c('div',{staticClass:\"menu-output-btn btn-blue\",attrs:{\"href\":\"#editor-save\",\"uk-toggle\":\"\"}},[_vm._v(\" SAVE \")]),_c('div',{staticClass:\"menu-output-btn btn-gray\",on:{\"click\":_vm.displayScoreDataInfo}},[_vm._v(\" CALC \")]),_c('div',{staticClass:\"menu-output-btn btn-red\",on:{\"click\":_vm.convert}},[_vm._v(\"GO!\")])])]),_c('router-link',{staticClass:\"uk-modal-close-default editor-close\",attrs:{\"type\":\"button\",\"href\":\"../\",\"uk-close\":\"\",\"to\":{\n      name: 'start',\n      path: '/'\n    }}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"menu-move-header\"},[_c('div',{staticClass:\"menu-txt\"},[_vm._v(\"Page\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"editor-main\"}},[_c('div',{ref:\"canvas\",attrs:{\"id\":\"canvas\",\"tabindex\":\"-1\"},on:{\"keydown\":function($event){$event.preventDefault();return _vm.keydownAction.apply(null, arguments)}}}),_vm._l((_vm.scoreData.scores[_vm.page - 1].speeds),function(speed,index){return _c('speed-piece',{key:index,attrs:{\"position\":speed.position,\"type\":speed.type,\"isReverse\":_vm.isReverse},model:{value:(speed.value),callback:function ($$v) {_vm.$set(speed, \"value\", $$v)},expression:\"speed.value\"}})}),_c('div',{attrs:{\"id\":\"editor-mode-text\"}},[_vm._v(\" : \"+_vm._s(_vm.mode)+\" (\"+_vm._s(_vm.moveIntervalFrame)+\"F) \")])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Speed } from \"./Speed\";\r\n\r\nexport interface PageScore {\r\n  notes: number[][];\r\n  freezes: number[][];\r\n  speeds: Speed[];\r\n}\r\n\r\nexport class DefaultPageScore implements PageScore {\r\n  notes: number[][];\r\n  freezes: number[][];\r\n\r\n  constructor(keyNum: number) {\r\n    this.notes = new Array(keyNum).fill([]).map(() => []);\r\n    this.freezes = new Array(keyNum).fill([]).map(() => []);\r\n  }\r\n\r\n  speeds = [];\r\n}\r\n","export const noteWidth = 30;\r\nexport const noteHeight = 5;\r\nexport const verticalSizeNum = 384;\r\nexport const editorHeight = verticalSizeNum;\r\nexport const quarterInterval = verticalSizeNum / 8;\r\nexport const fps = 60;\r\n\r\nexport const canvasMarginHorizontal = 50;\r\nexport const canvasMarginVertical = 25;\r\n\r\nexport const noteColors = [\"#ff0000\", \"#0000ff\", \"#00cc00\", \"#ff9000\"];\r\nexport const freezeColors = [\"#ff4dd2\", \"#00ffff\", \"#ceff00\", \"#c99b7d\"];\r\nexport const laneColors = [\"#fff0ff\", \"#f0f0ff\", \"#f0fff0\", \"#fff0dd\"];\r\n","export class MusicService {\r\n  private context: AudioContext = new AudioContext();\r\n  private gainNode: GainNode;\r\n\r\n  constructor(private audio: HTMLAudioElement) {\r\n    audio.load();\r\n    const track = this.context.createMediaElementSource(audio);\r\n    const gainNode = this.context.createGain();\r\n    track.connect(gainNode);\r\n    gainNode.connect(this.context.destination);\r\n    this.gainNode = gainNode;\r\n  }\r\n\r\n  play(startTime: number, musicVolume: number, musicRate: number): void {\r\n    this.gainNode.gain.value = musicVolume;\r\n    this.audio.playbackRate = musicRate;\r\n\r\n    const duration = this.audio.duration;\r\n    if (duration > startTime) {\r\n      this.audio.currentTime = startTime;\r\n      if (startTime < 0) {\r\n        setTimeout(() => this.audio.play(), -startTime * 1000);\r\n      } else this.audio.play();\r\n    }\r\n  }\r\n\r\n  pause(timer?: number) {\r\n    this.audio.pause();\r\n    clearTimeout(timer);\r\n  }\r\n}\r\n","import { verticalSizeNum } from \"../EditorConstant\";\r\n\r\nexport default function toPx(pos: number, isReverse: boolean): number {\r\n  return isReverse ? pos : verticalSizeNum - pos;\r\n}\r\n","import Konva from \"konva\";\r\nimport { ScoreData } from \"@/model/ScoreData\";\r\nimport { CustomKeyConfig } from \"@/model/KeyConfig\";\r\nimport { CustomKeyKind } from \"@/model/KeyKind\";\r\nimport {\r\n  freezeColors,\r\n  noteColors,\r\n  noteWidth,\r\n  noteHeight,\r\n  verticalSizeNum\r\n} from \"../EditorConstant\";\r\nimport toPx from \"../helper/toPx\";\r\nimport { cloneDeep } from \"lodash\";\r\nimport { Operation } from \"@/model/OperationQueue\";\r\n\r\nexport class NoteService {\r\n  constructor(\r\n    private scoreData: ScoreData,\r\n    private keyConfig: CustomKeyConfig,\r\n    private keyKind: CustomKeyKind,\r\n    private isReverse: boolean,\r\n    private stage: Konva.Stage,\r\n    private notesLayer: Konva.Layer,\r\n    private operationQueue: Operation[]\r\n  ) {}\r\n\r\n  private keyNum = this.keyConfig[this.keyKind].num;\r\n  private isHighlightedFreeze: string = JSON.parse(\r\n    localStorage.getItem(\"isHighlightedFreeze\") ?? \"true\"\r\n  );\r\n\r\n  // \r\n  hasNote(\r\n    page: number,\r\n    lane: number,\r\n    position: number\r\n  ): { exists: boolean; isFreeze: boolean } {\r\n    const pageScore = this.scoreData.scores[page - 1];\r\n    const isFreeze = pageScore.freezes[lane].includes(position);\r\n    const exists = pageScore.notes[lane].includes(position) || isFreeze;\r\n    return { exists, isFreeze };\r\n  }\r\n\r\n  // \r\n  add(page: number, lane: number, position: number, isFreeze: boolean): void {\r\n    if (isFreeze) this.scoreData.scores[page - 1].freezes[lane].push(position);\r\n    else this.scoreData.scores[page - 1].notes[lane].push(position);\r\n  }\r\n\r\n  // \r\n  remove(page: number, lane: number, position: number): void {\r\n    const removedFreezes = this.scoreData.scores[page - 1].freezes[lane].filter(\r\n      pos => pos !== position\r\n    );\r\n    this.scoreData.scores[page - 1].freezes.splice(lane, 1, removedFreezes);\r\n\r\n    const removedNotes = this.scoreData.scores[page - 1].notes[lane].filter(\r\n      pos => pos !== position\r\n    );\r\n    this.scoreData.scores[page - 1].notes.splice(lane, 1, removedNotes);\r\n  }\r\n\r\n  // \r\n  draw(lane: number, position: number, isFreeze: boolean): void {\r\n    const stage = this.stage as Konva.Stage;\r\n    const notesLayer = this.notesLayer as Konva.Layer;\r\n\r\n    const colorGroup = this.keyConfig[this.keyKind].colorGroup;\r\n    const color = isFreeze\r\n      ? freezeColors[colorGroup[lane]]\r\n      : noteColors[colorGroup[lane]];\r\n\r\n    const note = new Konva.Rect({\r\n      x: lane * noteWidth,\r\n      y: toPx(position, this.isReverse) - noteHeight / 2,\r\n      width: noteWidth,\r\n      height: noteHeight,\r\n      fill: color,\r\n      id: `note-${lane}-${position}`\r\n    });\r\n    notesLayer.add(note);\r\n    stage.add(notesLayer);\r\n  }\r\n\r\n  // \r\n  clear(lane: number, position: number): void {\r\n    const stage = this.stage;\r\n    const notesLayer = this.notesLayer;\r\n\r\n    const note = notesLayer.findOne(`#note-${lane}-${position}`);\r\n    note.destroy();\r\n    stage.add(notesLayer);\r\n  }\r\n\r\n  // 1\r\n  addOne(\r\n    page: number,\r\n    displayPage: number,\r\n    lane: number,\r\n    position: number,\r\n    isFreeze: boolean\r\n  ) {\r\n    this.add(page, lane, position, isFreeze);\r\n    if (page === displayPage) {\r\n      this.draw(lane, position, isFreeze);\r\n    }\r\n    if (isFreeze) this.fillFreeze(displayPage, lane);\r\n    this.operationQueue.push({\r\n      type: \"ADD_NOTE\",\r\n      page,\r\n      position,\r\n      lane,\r\n      isFreeze\r\n    });\r\n  }\r\n\r\n  // 1\r\n  removeOne(page: number, displayPage: number, lane: number, position: number) {\r\n    this.remove(page, lane, position);\r\n    if (page === displayPage) {\r\n      this.clear(lane, position);\r\n    }\r\n    this.fillFreeze(displayPage, lane);\r\n    const { exists, isFreeze } = this.hasNote(page, lane, position);\r\n    if (exists)\r\n      this.operationQueue.push({\r\n        type: \"REMOVE_NOTE\",\r\n        page,\r\n        position,\r\n        lane,\r\n        isFreeze\r\n      });\r\n  }\r\n\r\n  // \r\n  fillFreeze(page: number, lane: number) {\r\n    if (!this.isHighlightedFreeze) return false;\r\n    const stage = this.stage;\r\n    const notesLayer = this.notesLayer;\r\n\r\n    const colorGroup = this.keyConfig[this.keyKind].colorGroup;\r\n    const color = freezeColors[colorGroup[lane]];\r\n\r\n    const laneFreezes: number[] = cloneDeep(\r\n      this.scoreData.scores[page - 1].freezes[lane]\r\n    ).sort((a, b) => a - b);\r\n\r\n    const startParity =\r\n      this.scoreData.scores.reduce((acc, score, index) => {\r\n        return index < page - 1 ? acc + score.freezes[lane].length : acc;\r\n      }, 0) % 2;\r\n\r\n    if (startParity === 1) laneFreezes.unshift(0);\r\n    laneFreezes.push(verticalSizeNum);\r\n\r\n    const fills = notesLayer.find(`.freeze-fill-${lane}`);\r\n    fills.each(node => node.destroy());\r\n\r\n    while (laneFreezes.length > 0) {\r\n      const freezeStart = laneFreezes.shift() as number;\r\n      const freezeEnd = laneFreezes.shift() ?? verticalSizeNum;\r\n      const height = freezeEnd - freezeStart;\r\n      const opacity = 0.3;\r\n\r\n      const fillFreeze = new Konva.Rect({\r\n        x: lane * noteWidth,\r\n        y: Math.min(\r\n          toPx(freezeStart, this.isReverse),\r\n          toPx(freezeEnd, this.isReverse)\r\n        ),\r\n        width: noteWidth,\r\n        height,\r\n        opacity,\r\n        fill: color,\r\n        name: `freeze-fill-${lane}`,\r\n        id: `freeze-fill-${lane}-${freezeStart}`\r\n      });\r\n      notesLayer.add(fillFreeze);\r\n    }\r\n    stage.add(notesLayer);\r\n  }\r\n\r\n  // \r\n  removeLanes(page: number, position: number): NoteOnPosition[] {\r\n    const keyNum = this.keyNum;\r\n    const removedLanes: NoteOnPosition[] = [];\r\n    for (let lane = 0; lane < keyNum; lane++) {\r\n      const noteStatus = this.hasNote(page, lane, position);\r\n      if (noteStatus.exists) {\r\n        this.remove(page, lane, position);\r\n        removedLanes.push({\r\n          lane,\r\n          isFreeze: noteStatus.isFreeze\r\n        });\r\n      }\r\n    }\r\n    return removedLanes;\r\n  }\r\n\r\n  removeOnPosition(page: number, position: number): void {\r\n    const removedLanes = this.removeLanes(page, position);\r\n    this.operationQueue.push({\r\n      type: \"REMOVE_ON_POSITION\",\r\n      page,\r\n      position,\r\n      removedLanes\r\n    });\r\n  }\r\n\r\n  // \r\n  addOnPosition(\r\n    page: number,\r\n    currentPosition: number,\r\n    notesOnPosition: NoteOnPosition[]\r\n  ) {\r\n    notesOnPosition.forEach(obj =>\r\n      this.add(page, obj.lane, currentPosition, obj.isFreeze)\r\n    );\r\n  }\r\n\r\n  // \r\n  shift(page: number, currentPosition: number, delta: number): void {\r\n    let newPosition = currentPosition + delta;\r\n    let newPage = page;\r\n    if (newPosition < 0) {\r\n      if (page === 1) return;\r\n      else {\r\n        newPage--;\r\n        newPosition += verticalSizeNum;\r\n      }\r\n    } else if (newPosition >= verticalSizeNum) {\r\n      newPage++;\r\n      newPosition -= verticalSizeNum;\r\n    }\r\n\r\n    const movedLanes = this.removeLanes(page, currentPosition);\r\n    const originalLanes = this.removeLanes(newPage, newPosition);\r\n    this.addOnPosition(newPage, newPosition, movedLanes);\r\n\r\n    this.operationQueue.push({\r\n      type: \"SHIFT\",\r\n      page,\r\n      position: currentPosition,\r\n      newPage,\r\n      newPosition,\r\n      movedLanes,\r\n      originalLanes\r\n    });\r\n  }\r\n}\r\n\r\nexport type NoteOnPosition = {\r\n  lane: number;\r\n  isFreeze: boolean;\r\n};\r\n","import Konva from \"konva\";\r\nimport { ScoreData } from \"@/model/ScoreData\";\r\nimport { SpeedType } from \"@/model/Speed\";\r\nimport toPx from \"../helper/toPx\";\r\n\r\nexport class SpeedPieceService {\r\n  constructor(\r\n    private scoreData: ScoreData,\r\n    private editorWidth: number,\r\n    private isReverse: boolean,\r\n    private stage: Konva.Stage,\r\n    private notesLayer: Konva.Layer\r\n  ) {}\r\n\r\n  // \r\n  hasSpeedPiece(page: number, position: number): boolean {\r\n    return this.scoreData.scores[page - 1].speeds.some(\r\n      speed => speed.position === position\r\n    );\r\n  }\r\n\r\n  // \r\n  add(page: number, position: number, type: SpeedType, value = 1) {\r\n    this.scoreData.scores[page - 1].speeds.push({\r\n      position,\r\n      value,\r\n      type\r\n    });\r\n  }\r\n\r\n  // \r\n  remove(page: number, position: number) {\r\n    this.scoreData.scores[page - 1].speeds = this.scoreData.scores[\r\n      page - 1\r\n    ].speeds.filter(speed => speed.position !== position);\r\n  }\r\n\r\n  // \r\n  draw(position: number, type: SpeedType) {\r\n    const stage = this.stage as Konva.Stage;\r\n    const notesLayer = this.notesLayer as Konva.Layer;\r\n\r\n    const color = type === \"speed\" ? \"orange\" : \"purple\";\r\n    const radius = 6;\r\n    const triangle = new Konva.RegularPolygon({\r\n      sides: 3,\r\n      radius,\r\n      rotation: 30,\r\n      fill: color,\r\n      x: this.editorWidth + radius,\r\n      y: toPx(position, this.isReverse),\r\n      id: `speed-${position}`\r\n    });\r\n\r\n    notesLayer.add(triangle);\r\n    stage.add(notesLayer);\r\n  }\r\n\r\n  // \r\n  clear(position: number): void {\r\n    const stage = this.stage as Konva.Stage;\r\n    const notesLayer = this.notesLayer as Konva.Layer;\r\n\r\n    const note = notesLayer.findOne(`#speed-${position}`);\r\n    note.destroy();\r\n    stage.add(notesLayer);\r\n  }\r\n}\r\n","import { Operation } from \"@/model/OperationQueue\";\r\nimport { PageScore, DefaultPageScore } from \"@/model/PageScore\";\r\nimport { ScoreData } from \"@/model/ScoreData\";\r\nimport { cloneDeep } from \"lodash\";\r\n\r\nexport class PageScoreService {\r\n  constructor(\r\n    private scoreData: ScoreData,\r\n    private copyScoreStore: PageScore,\r\n    private keyNum: number,\r\n    private displayPageScore: (page: number) => void,\r\n    private operationQueue: Operation[]\r\n  ) {}\r\n\r\n  // \r\n  copy(page: number) {\r\n    const pageScore = cloneDeep(this.scoreData.scores[page - 1]);\r\n    this.copyScoreStore = pageScore;\r\n  }\r\n\r\n  // \r\n  clear(page: number) {\r\n    this.scoreData.scores.splice(\r\n      page - 1,\r\n      1,\r\n      new DefaultPageScore(this.keyNum)\r\n    );\r\n    this.displayPageScore(page);\r\n  }\r\n\r\n  // \r\n  cut(page: number) {\r\n    this.copy(page);\r\n    this.clear(page);\r\n\r\n    const copyScoreStore = cloneDeep(this.copyScoreStore);\r\n    this.operationQueue.push({\r\n      type: \"CUT\",\r\n      page,\r\n      copyScoreStore\r\n    });\r\n  }\r\n\r\n  // \r\n  write(page: number, pageScore: PageScore) {\r\n    this.scoreData.scores.splice(page - 1, 1, pageScore);\r\n    this.displayPageScore(page);\r\n  }\r\n\r\n  // \r\n  paste(page: number, pageScore = cloneDeep(this.copyScoreStore)) {\r\n    this.write(page, pageScore);\r\n    this.operationQueue.push({\r\n      type: \"PASTE\",\r\n      page\r\n    });\r\n  }\r\n\r\n  // ()\r\n  insert(page: number, pageScore: PageScore) {\r\n    this.scoreData.scores.splice(page - 1, 0, pageScore);\r\n\r\n    const timings = this.scoreData.timings;\r\n    this.scoreData.timings = timings.map(timing => {\r\n      if (timing.label > page) timing.label++;\r\n      return timing;\r\n    });\r\n\r\n    this.displayPageScore(page);\r\n  }\r\n\r\n  // \r\n  add(page: number, pageScore = cloneDeep(this.copyScoreStore)) {\r\n    this.insert(page, pageScore);\r\n    this.operationQueue.push({\r\n      type: \"ADD_PAGE\",\r\n      page\r\n    });\r\n  }\r\n\r\n  // ()\r\n  remove(page: number) {\r\n    this.scoreData.scores.splice(page - 1, 1);\r\n\r\n    const timings = this.scoreData.timings;\r\n    this.scoreData.timings = timings.map(timing => {\r\n      if (timing.label > page) timing.label--;\r\n      return timing;\r\n    });\r\n    this.displayPageScore(page);\r\n  }\r\n\r\n  // \r\n  delete(page: number) {\r\n    this.copy(page);\r\n    this.remove(page);\r\n\r\n    const copyScoreStore = cloneDeep(this.copyScoreStore);\r\n    this.operationQueue.push({\r\n      type: \"REMOVE_PAGE\",\r\n      page,\r\n      copyScoreStore\r\n    });\r\n  }\r\n}\r\n","import { Timing } from \"@/model/Timing\";\r\nimport { fps, quarterInterval, verticalSizeNum } from \"../EditorConstant\";\r\n\r\nexport function positionToFrame(\r\n  timing: Timing,\r\n  page: number,\r\n  position: number,\r\n  blankFrame = 0\r\n): number {\r\n  const framePerPosition = (60 * fps) / quarterInterval / timing.bpm;\r\n  const startFrame =\r\n    blankFrame +\r\n    timing.startNum +\r\n    (page - timing.label) * verticalSizeNum * framePerPosition;\r\n  return startFrame + position * framePerPosition;\r\n}\r\n\r\nexport function frameToPagePosition(\r\n  timing: Timing,\r\n  frame: number,\r\n  blankFrame: number\r\n): { page: number; position: number } {\r\n  const framePerPosition = (60 * fps) / quarterInterval / timing.bpm;\r\n\r\n  const rawPosition = Math.round(\r\n    (frame - blankFrame - timing.startNum) / framePerPosition\r\n  );\r\n  // \r\n  let adjustedPosition: number = rawPosition;\r\n  if (rawPosition % 4 == 1) adjustedPosition = rawPosition - 1;\r\n  else if (rawPosition % 4 == 3) adjustedPosition = rawPosition + 1;\r\n\r\n  const page = Math.floor(adjustedPosition / verticalSizeNum) + timing.label;\r\n  const position = adjustedPosition % verticalSizeNum;\r\n\r\n  return { page, position };\r\n}\r\n\r\nexport function positionToSeconds(\r\n  timing: Timing,\r\n  page: number,\r\n  position: number,\r\n  blankFrame = 0\r\n): number {\r\n  return positionToFrame(timing, page, position, blankFrame) / fps;\r\n}\r\n\r\nexport function secondsToTimeStr(seconds: number): string {\r\n  const mm = Math.floor(seconds / 60);\r\n  const sec = Math.floor(seconds % 60);\r\n  const ss = sec < 10 ? `0${sec}` : `${sec}`;\r\n  return `${mm}:${ss}`;\r\n}\r\n","import Konva from \"konva\";\r\nimport { ScoreData } from \"@/model/ScoreData\";\r\nimport { editorHeight, canvasMarginHorizontal } from \"../EditorConstant\";\r\nimport {\r\n  positionToFrame,\r\n  positionToSeconds,\r\n  secondsToTimeStr\r\n} from \"../helper/Calculator\";\r\nimport { Timing } from \"@/model/Timing\";\r\nimport toPx from \"../helper/toPx\";\r\n\r\nexport class CurrentPositionService {\r\n  constructor(\r\n    private scoreData: ScoreData,\r\n    private editorWidth: number,\r\n    private isReverse: boolean,\r\n    private stage: Konva.Stage,\r\n    private currentPositionLayer: Konva.Layer,\r\n    private changeCurrentPosition: (newPos: number) => void\r\n  ) {}\r\n\r\n  // \r\n  draw(position: number, page: number, timing: Timing): void {\r\n    const stage = this.stage;\r\n    const currentPositionLayer = this.currentPositionLayer;\r\n\r\n    const color = \"#d8d800\";\r\n    const yValue = toPx(position, this.isReverse);\r\n\r\n    const maybeLine = currentPositionLayer.findOne(\"#currentPositionLine\");\r\n    const line: Konva.Line =\r\n      maybeLine instanceof Konva.Line\r\n        ? maybeLine.y(yValue)\r\n        : new Konva.Line({\r\n            y: yValue,\r\n            points: [0, 0, this.editorWidth, 0],\r\n            stroke: color,\r\n            strokeWidth: 1.75,\r\n            id: \"currentPositionLine\"\r\n          });\r\n    const radius = 6;\r\n\r\n    const maybeTriangle = currentPositionLayer.findOne(\r\n      \"#currentPositionTriangle\"\r\n    );\r\n    const triangle: Konva.RegularPolygon =\r\n      maybeTriangle instanceof Konva.RegularPolygon\r\n        ? maybeTriangle.y(yValue)\r\n        : new Konva.RegularPolygon({\r\n            sides: 3,\r\n            radius,\r\n            rotation: -30,\r\n            fill: color,\r\n            x: -radius,\r\n            y: yValue,\r\n            id: `currentPositionTriangle`\r\n          });\r\n\r\n    const blankFrame = this.scoreData.blankFrame;\r\n    const currentFrame =\r\n      positionToFrame(timing, page, position, blankFrame) < 100000\r\n        ? Math.round(positionToFrame(timing, page, position, blankFrame) * 10) /\r\n          10\r\n        : Math.round(positionToFrame(timing, page, position, blankFrame));\r\n\r\n    const currentSeconds = positionToSeconds(\r\n      timing,\r\n      page,\r\n      position,\r\n      blankFrame\r\n    );\r\n    const currentTimeStr = secondsToTimeStr(currentSeconds);\r\n    const displayedText = `${currentFrame}\\n[${currentTimeStr}]`;\r\n    const textWidth = 40;\r\n    const textHeight = 22;\r\n\r\n    const maybeText = currentPositionLayer.findOne(\"#currentPositionText\");\r\n    const text: Konva.Text =\r\n      maybeText instanceof Konva.Text\r\n        ? maybeText.y(yValue - textHeight / 2).text(displayedText)\r\n        : new Konva.Text({\r\n            width: textWidth,\r\n            height: textHeight,\r\n            text: displayedText,\r\n            fill: \"black\",\r\n            fontSize: textHeight / 2,\r\n            align: \"center\",\r\n            x: -canvasMarginHorizontal + 2,\r\n            y: yValue - textHeight / 2,\r\n            id: `currentPositionText`\r\n          });\r\n\r\n    currentPositionLayer.add(line, triangle, text);\r\n    stage.add(currentPositionLayer);\r\n  }\r\n\r\n  // \r\n  move(position: number, page: number, timing: Timing): void {\r\n    this.changeCurrentPosition(position);\r\n    this.draw(position, page, timing);\r\n  }\r\n\r\n  // \r\n  musicAnimate(duration: number) {\r\n    const stage = this.stage;\r\n    const currentPositionLayer = this.currentPositionLayer;\r\n\r\n    const node = currentPositionLayer.findOne(\"#musicPosition\");\r\n    const currentPositionLine: Konva.Line =\r\n      node instanceof Konva.Line\r\n        ? node.y(toPx(0, this.isReverse))\r\n        : new Konva.Line({\r\n            y: toPx(0, this.isReverse),\r\n            points: [0, 0, this.editorWidth, 0],\r\n            stroke: \"#8000ff\",\r\n            strokeWidth: 1.75,\r\n            id: \"musicPosition\"\r\n          });\r\n\r\n    currentPositionLayer.add(currentPositionLine);\r\n    stage.add(currentPositionLayer);\r\n\r\n    const tween = new Konva.Tween({\r\n      node: currentPositionLine,\r\n      duration: (duration * 4) / 5 / 1000, // 108\r\n      x: 0,\r\n      y: toPx(editorHeight, this.isReverse)\r\n    });\r\n\r\n    setTimeout(() => {\r\n      tween.play();\r\n    }, duration / 5);\r\n  }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputValue),expression:\"inputValue\"}],staticClass:\"editor-speed-piece\",style:({ top: _vm.top + 'px' }),attrs:{\"type\":\"number\",\"step\":\"0.01\"},domProps:{\"value\":(_vm.inputValue)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.inputValue=$event.target.value}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\r\nimport Vue, { PropType } from \"vue\";\r\nimport { SpeedType } from \"../../model/Speed\";\r\nimport toPx from \"./helper/toPx\";\r\nexport default Vue.extend({\r\n  name: \"SpeedPiece\",\r\n  model: {\r\n    prop: \"propValue\",\r\n    event: \"changeSpeed\"\r\n  },\r\n  props: {\r\n    isReverse: Boolean,\r\n    position: Number,\r\n    propValue: Number,\r\n    type: { type: String as PropType<SpeedType> }\r\n  },\r\n  computed: {\r\n    top(): number {\r\n      return toPx(this.position, this.isReverse) + 15;\r\n    },\r\n    inputValue: {\r\n      get(): number {\r\n        return this.propValue;\r\n      },\r\n      set(inputValue: string) {\r\n        const value = Number(inputValue);\r\n        this.$emit(\"changeSpeed\", value);\r\n      }\r\n    }\r\n  }\r\n});\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeedPiece.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeedPiece.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SpeedPiece.vue?vue&type=template&id=6727b045&\"\nimport script from \"./SpeedPiece.vue?vue&type=script&lang=ts&\"\nexport * from \"./SpeedPiece.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { Operation } from \"@/model/OperationQueue\";\r\nimport { NoteService } from \"../service/NoteService\";\r\nimport { PageScoreService } from \"../service/PageScoreService\";\r\n\r\n/* eslint @typescript-eslint/no-non-null-assertion: 0 */\r\n\r\nexport function undo(\r\n  operationQueue: Operation[],\r\n  noteService: NoteService,\r\n  pageScoreService: PageScoreService\r\n): { undoPage?: number; undoPosition?: number } {\r\n  const operation = operationQueue.pop();\r\n  if (!operation) return {};\r\n\r\n  switch (operation.type) {\r\n    case \"ADD_NOTE\":\r\n      noteService.remove(operation.page!, operation.lane!, operation.position!);\r\n      break;\r\n    case \"REMOVE_NOTE\":\r\n      noteService.add(\r\n        operation.page!,\r\n        operation.lane!,\r\n        operation.position!,\r\n        operation.isFreeze!\r\n      );\r\n      break;\r\n    case \"REMOVE_ON_POSITION\":\r\n      noteService.addOnPosition(\r\n        operation.page!,\r\n        operation.position!,\r\n        operation.removedLanes!\r\n      );\r\n      break;\r\n    case \"SHIFT\":\r\n      noteService.addOnPosition(\r\n        operation.page!,\r\n        operation.position!,\r\n        operation.movedLanes!\r\n      );\r\n      noteService.removeLanes(operation.newPage!, operation.newPosition!);\r\n      noteService.addOnPosition(\r\n        operation.newPage!,\r\n        operation.newPosition!,\r\n        operation.originalLanes!\r\n      );\r\n      break;\r\n    case \"CUT\":\r\n      pageScoreService.write(operation.page!, operation.copyScoreStore!);\r\n      break;\r\n    case \"PASTE\":\r\n      pageScoreService.clear(operation.page!);\r\n      break;\r\n    case \"ADD_PAGE\":\r\n      pageScoreService.remove(operation.page!);\r\n      break;\r\n    case \"REMOVE_PAGE\":\r\n      pageScoreService.insert(operation.page!, operation.copyScoreStore!);\r\n      break;\r\n  }\r\n\r\n  return {\r\n    undoPage: operation.page || 1,\r\n    undoPosition: operation.position || 0\r\n  };\r\n}\r\n","import { KeyKind, CustomKeyKind } from \"./KeyKind\";\r\n\r\nexport type KeyConfig = {\r\n  [keyKind in KeyKind]: {\r\n    id: number;\r\n    num: number;\r\n    keys: string[];\r\n    chars?: string[];\r\n    alternativeKeys: string[];\r\n    noteNames: string[];\r\n    freezeNames: string[];\r\n    colorGroup: number[];\r\n  };\r\n};\r\n\r\nexport type CustomKeyConfig = {\r\n  [customKeyKind in CustomKeyKind]: {\r\n    id: number;\r\n    num: number;\r\n    keys: string[];\r\n    chars?: string[];\r\n    alternativeKeys: string[];\r\n    noteNames: string[];\r\n    freezeNames: string[];\r\n    colorGroup: number[];\r\n  };\r\n};\r\n\r\nexport const DefaultKeyConfig: KeyConfig = {\r\n  \"5\": {\r\n    id: 1,\r\n    num: 5,\r\n    keys: [\"KeyJ\", \"KeyK\", \"KeyI\", \"KeyL\", \"KeyG\"],\r\n    chars: [\"J\", \"K\", \"I\", \"L\", \"G\"],\r\n    alternativeKeys: [\"KeyS\", \"KeyD\", \"KeyE\", \"KeyF\", \"KeyH\"],\r\n    noteNames: [\r\n      \"left_data\",\r\n      \"down_data\",\r\n      \"up_data\",\r\n      \"right_data\",\r\n      \"space_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzLeft_data\",\r\n      \"frzDown_data\",\r\n      \"frzUp_data\",\r\n      \"frzRight_data\",\r\n      \"frzSpace_data\"\r\n    ],\r\n    colorGroup: [0, 0, 0, 0, 2]\r\n  },\r\n\r\n  \"7\": {\r\n    id: 2,\r\n    num: 7,\r\n    keys: [\"KeyS\", \"KeyD\", \"KeyF\", \"KeyG\", \"KeyJ\", \"KeyK\", \"KeyL\"],\r\n    chars: [\"S\", \"D\", \"F\", \"G\", \"J\", \"K\", \"L\"],\r\n    alternativeKeys: [\"\", \"\", \"\", \"KeyH\", \"\", \"\", \"\"],\r\n    noteNames: [\r\n      \"left_data\",\r\n      \"leftdia_data\",\r\n      \"down_data\",\r\n      \"space_data\",\r\n      \"up_data\",\r\n      \"rightdia_data\",\r\n      \"right_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzLeft_data\",\r\n      \"frzLdia_data\",\r\n      \"frzDown_data\",\r\n      \"frzSpace_data\",\r\n      \"frzUp_data\",\r\n      \"frzRdia_data\",\r\n      \"frzRight_data\"\r\n    ],\r\n    colorGroup: [0, 1, 0, 2, 0, 1, 0]\r\n  },\r\n\r\n  \"7i\": {\r\n    id: 3,\r\n    num: 7,\r\n    keys: [\"KeyZ\", \"KeyX\", \"KeyC\", \"KeyJ\", \"KeyK\", \"KeyI\", \"KeyL\"],\r\n    chars: [\"Z\", \"X\", \"C\", \"J\", \"K\", \"I\", \"L\"],\r\n    alternativeKeys: [\"KeyS\", \"KeyD\", \"KeyF\", \"\", \"\", \"KeyO\", \"\"],\r\n    noteNames: [\r\n      \"left_data\",\r\n      \"leftdia_data\",\r\n      \"down_data\",\r\n      \"space_data\",\r\n      \"up_data\",\r\n      \"rightdia_data\",\r\n      \"right_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzLeft_data\",\r\n      \"frzLdia_data\",\r\n      \"frzDown_data\",\r\n      \"frzSpace_data\",\r\n      \"frzUp_data\",\r\n      \"frzRdia_data\",\r\n      \"frzRight_data\"\r\n    ],\r\n    colorGroup: [1, 1, 1, 0, 0, 0, 0]\r\n  },\r\n\r\n  \"8\": {\r\n    id: 4,\r\n    num: 8,\r\n    keys: [\"KeyS\", \"KeyD\", \"KeyF\", \"KeyG\", \"KeyJ\", \"KeyK\", \"KeyL\", \"Semicolon\"],\r\n    chars: [\"S\", \"D\", \"F\", \"G\", \"J\", \"K\", \"L\", \"+\"],\r\n    alternativeKeys: [\"\", \"\", \"\", \"KeyH\", \"\", \"\", \"\", \"\"],\r\n    noteNames: [\r\n      \"left_data\",\r\n      \"leftdia_data\",\r\n      \"down_data\",\r\n      \"space_data\",\r\n      \"up_data\",\r\n      \"rightdia_data\",\r\n      \"right_data\",\r\n      \"sleft_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzLeft_data\",\r\n      \"frzLdia_data\",\r\n      \"frzDown_data\",\r\n      \"frzSpace_data\",\r\n      \"frzUp_data\",\r\n      \"frzRdia_data\",\r\n      \"frzRight_data\",\r\n      \"sfrzLeft_data\"\r\n    ],\r\n    colorGroup: [0, 1, 0, 2, 0, 1, 0, 2]\r\n  },\r\n\r\n  \"9A\": {\r\n    id: 5,\r\n    num: 9,\r\n    keys: [\r\n      \"KeyS\",\r\n      \"KeyD\",\r\n      \"KeyE\",\r\n      \"KeyF\",\r\n      \"KeyG\",\r\n      \"KeyJ\",\r\n      \"KeyK\",\r\n      \"KeyI\",\r\n      \"KeyL\"\r\n    ],\r\n    chars: [\"S\", \"D\", \"E\", \"F\", \"G\", \"J\", \"K\", \"I\", \"L\"],\r\n    alternativeKeys: [\"\", \"\", \"KeyR\", \"\", \"KeyH\", \"\", \"\", \"KeyO\", \"\"],\r\n    noteNames: [\r\n      \"left_data\",\r\n      \"down_data\",\r\n      \"up_data\",\r\n      \"right_data\",\r\n      \"space_data\",\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"sup_data\",\r\n      \"sright_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzLeft_data\",\r\n      \"frzDown_data\",\r\n      \"frzUp_data\",\r\n      \"frzRight_data\",\r\n      \"frzSpace_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\"\r\n    ],\r\n    colorGroup: [0, 0, 0, 0, 2, 1, 1, 1, 1]\r\n  },\r\n\r\n  \"9B\": {\r\n    id: 6,\r\n    num: 9,\r\n    keys: [\r\n      \"KeyA\",\r\n      \"KeyS\",\r\n      \"KeyD\",\r\n      \"KeyF\",\r\n      \"KeyG\",\r\n      \"KeyJ\",\r\n      \"KeyK\",\r\n      \"KeyL\",\r\n      \"Semicolon\"\r\n    ],\r\n    chars: [\"A\", \"S\", \"D\", \"F\", \"G\", \"J\", \"K\", \"L\", \"+\"],\r\n    alternativeKeys: [\"\", \"\", \"\", \"\", \"KeyH\", \"\", \"\", \"\", \"\"],\r\n    noteNames: [\r\n      \"left_data\",\r\n      \"down_data\",\r\n      \"up_data\",\r\n      \"right_data\",\r\n      \"space_data\",\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"sup_data\",\r\n      \"sright_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzLeft_data\",\r\n      \"frzDown_data\",\r\n      \"frzUp_data\",\r\n      \"frzRight_data\",\r\n      \"frzSpace_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\"\r\n    ],\r\n    colorGroup: [1, 0, 1, 0, 2, 0, 1, 0, 1]\r\n  },\r\n\r\n  \"9i\": {\r\n    id: 7,\r\n    num: 9,\r\n    keys: [\r\n      \"KeyA\",\r\n      \"KeyS\",\r\n      \"KeyD\",\r\n      \"KeyF\",\r\n      \"KeyG\",\r\n      \"KeyJ\",\r\n      \"KeyK\",\r\n      \"KeyI\",\r\n      \"KeyL\"\r\n    ],\r\n    chars: [\"A\", \"S\", \"D\", \"F\", \"G\", \"J\", \"K\", \"I\", \"L\"],\r\n    alternativeKeys: [\"\", \"\", \"\", \"\", \"KeyH\", \"\", \"\", \"KeyO\", \"\"],\r\n    noteNames: [\r\n      \"left_data\",\r\n      \"down_data\",\r\n      \"up_data\",\r\n      \"right_data\",\r\n      \"space_data\",\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"sup_data\",\r\n      \"sright_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzLeft_data\",\r\n      \"frzDown_data\",\r\n      \"frzUp_data\",\r\n      \"frzRight_data\",\r\n      \"frzSpace_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\"\r\n    ],\r\n    colorGroup: [1, 0, 1, 0, 2, 3, 3, 3, 3]\r\n  },\r\n\r\n  \"11\": {\r\n    id: 8,\r\n    num: 11,\r\n    keys: [\r\n      \"KeyS\",\r\n      \"KeyD\",\r\n      \"KeyF\",\r\n      \"KeyG\",\r\n      \"KeyJ\",\r\n      \"KeyK\",\r\n      \"KeyL\",\r\n      \"KeyU\",\r\n      \"KeyI\",\r\n      \"Digit8\",\r\n      \"KeyO\"\r\n    ],\r\n    alternativeKeys: [\"\", \"\", \"\", \"KeyH\", \"\", \"\", \"\", \"\", \"\", \"Digit9\", \"\"],\r\n    chars: [\"S\", \"D\", \"F\", \"G\", \"J\", \"K\", \"L\", \"U\", \"I\", \"8\", \"O\"],\r\n    noteNames: [\r\n      \"left_data\",\r\n      \"leftdia_data\",\r\n      \"down_data\",\r\n      \"space_data\",\r\n      \"up_data\",\r\n      \"rightdia_data\",\r\n      \"right_data\",\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"sup_data\",\r\n      \"sright_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzLeft_data\",\r\n      \"frzLdia_data\",\r\n      \"frzDown_data\",\r\n      \"frzSpace_data\",\r\n      \"frzUp_data\",\r\n      \"frzRdia_data\",\r\n      \"frzRight_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\"\r\n    ],\r\n    colorGroup: [0, 1, 0, 2, 0, 1, 0, 3, 3, 3, 3]\r\n  },\r\n\r\n  \"11L\": {\r\n    id: 9,\r\n    num: 11,\r\n    keys: [\r\n      \"KeyW\",\r\n      \"KeyE\",\r\n      \"Digit3\",\r\n      \"KeyR\",\r\n      \"KeyS\",\r\n      \"KeyD\",\r\n      \"KeyF\",\r\n      \"KeyG\",\r\n      \"KeyJ\",\r\n      \"KeyK\",\r\n      \"KeyL\"\r\n    ],\r\n    chars: [\"W\", \"E\", \"3\", \"R\", \"S\", \"D\", \"F\", \"G\", \"J\", \"K\", \"L\"],\r\n    alternativeKeys: [\"\", \"\", \"Digit4\", \"\", \"\", \"\", \"\", \"KeyH\", \"\", \"\", \"\"],\r\n    noteNames: [\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"sup_data\",\r\n      \"sright_data\",\r\n      \"left_data\",\r\n      \"leftdia_data\",\r\n      \"down_data\",\r\n      \"space_data\",\r\n      \"up_data\",\r\n      \"rightdia_data\",\r\n      \"right_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\",\r\n      \"frzLeft_data\",\r\n      \"frzLdia_data\",\r\n      \"frzDown_data\",\r\n      \"frzSpace_data\",\r\n      \"frzUp_data\",\r\n      \"frzRdia_data\",\r\n      \"frzRight_data\"\r\n    ],\r\n    colorGroup: [3, 3, 3, 3, 0, 1, 0, 2, 0, 1, 0]\r\n  },\r\n\r\n  \"11W\": {\r\n    id: 10,\r\n    num: 11,\r\n    keys: [\r\n      \"KeyS\",\r\n      \"KeyD\",\r\n      \"KeyF\",\r\n      \"KeyG\",\r\n      \"KeyJ\",\r\n      \"KeyK\",\r\n      \"KeyL\",\r\n      \"Digit2\",\r\n      \"KeyT\",\r\n      \"KeyY\",\r\n      \"Digit0\"\r\n    ],\r\n    chars: [\"S\", \"D\", \"F\", \"G\", \"J\", \"K\", \"L\", \"2\", \"T\", \"Y\", \"0\"],\r\n    alternativeKeys: [\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"KeyH\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"Digit1\",\r\n      \"\",\r\n      \"\",\r\n      \"Minus\"\r\n    ],\r\n    noteNames: [\r\n      \"left_data\",\r\n      \"leftdia_data\",\r\n      \"down_data\",\r\n      \"space_data\",\r\n      \"up_data\",\r\n      \"rightdia_data\",\r\n      \"right_data\",\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"sup_data\",\r\n      \"sright_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzLeft_data\",\r\n      \"frzLdia_data\",\r\n      \"frzDown_data\",\r\n      \"frzSpace_data\",\r\n      \"frzUp_data\",\r\n      \"frzRdia_data\",\r\n      \"frzRight_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\"\r\n    ],\r\n    colorGroup: [0, 1, 0, 2, 0, 1, 0, 2, 3, 3, 2]\r\n  },\r\n\r\n  \"11i\": {\r\n    id: 11,\r\n    num: 11,\r\n    keys: [\r\n      \"KeyS\",\r\n      \"KeyC\",\r\n      \"KeyD\",\r\n      \"KeyE\",\r\n      \"KeyF\",\r\n      \"KeyG\",\r\n      \"KeyJ\",\r\n      \"KeyM\",\r\n      \"KeyK\",\r\n      \"KeyI\",\r\n      \"KeyL\"\r\n    ],\r\n    chars: [\"S\", \"C\", \"D\", \"E\", \"F\", \"G\", \"J\", \"M\", \"K\", \"I\", \"L\"],\r\n    alternativeKeys: [\r\n      \"\",\r\n      \"KeyX\",\r\n      \"\",\r\n      \"KeyR\",\r\n      \"\",\r\n      \"KeyH\",\r\n      \"\",\r\n      \"Comma\",\r\n      \"\",\r\n      \"KeyO\",\r\n      \"\"\r\n    ],\r\n    noteNames: [\r\n      \"left_data\",\r\n      \"down_data\",\r\n      \"gor_data\",\r\n      \"up_data\",\r\n      \"right_data\",\r\n      \"space_data\",\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"siyo_data\",\r\n      \"sup_data\",\r\n      \"sright_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzLeft_data\",\r\n      \"frzDown_data\",\r\n      \"frzGor_data\",\r\n      \"frzUp_data\",\r\n      \"frzRight_data\",\r\n      \"frzSpace_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzIyo_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\"\r\n    ],\r\n    colorGroup: [0, 0, 2, 0, 0, 2, 1, 1, 2, 1, 1]\r\n  },\r\n\r\n  \"12\": {\r\n    id: 12,\r\n    num: 12,\r\n    keys: [\r\n      \"KeyG\",\r\n      \"KeyN\",\r\n      \"KeyJ\",\r\n      \"KeyM\",\r\n      \"KeyK\",\r\n      \"Comma\",\r\n      \"KeyL\",\r\n      \"Period\",\r\n      \"KeyU\",\r\n      \"KeyI\",\r\n      \"Digit8\",\r\n      \"KeyO\"\r\n    ],\r\n    chars: [\"G\", \"N\", \"J\", \"M\", \"K\", \"<\", \"L\", \">\", \"U\", \"I\", \"8\", \"O\"],\r\n    alternativeKeys: [\"KeyH\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"Digit9\", \"\"],\r\n    noteNames: [\r\n      \"oni_data\",\r\n      \"left_data\",\r\n      \"leftdia_data\",\r\n      \"down_data\",\r\n      \"space_data\",\r\n      \"up_data\",\r\n      \"rightdia_data\",\r\n      \"right_data\",\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"sup_data\",\r\n      \"sright_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"foni_data\",\r\n      \"frzLeft_data\",\r\n      \"frzLdia_data\",\r\n      \"frzDown_data\",\r\n      \"frzSpace_data\",\r\n      \"frzUp_data\",\r\n      \"frzRdia_data\",\r\n      \"frzRight_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\"\r\n    ],\r\n    colorGroup: [2, 0, 1, 0, 1, 0, 1, 0, 3, 3, 3, 3]\r\n  },\r\n\r\n  \"13\": {\r\n    id: 13,\r\n    num: 13,\r\n    keys: [\r\n      \"KeyA\",\r\n      \"KeyS\",\r\n      \"KeyD\",\r\n      \"KeyF\",\r\n      \"KeyG\",\r\n      \"KeyJ\",\r\n      \"KeyK\",\r\n      \"KeyL\",\r\n      \"Semicolon\",\r\n      \"KeyU\",\r\n      \"KeyI\",\r\n      \"Digit8\",\r\n      \"KeyO\"\r\n    ],\r\n    chars: [\"A\", \"S\", \"D\", \"F\", \"G\", \"J\", \"K\", \"L\", \"+\", \"U\", \"I\", \"8\", \"O\"],\r\n    alternativeKeys: [\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"KeyH\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"Digit9\",\r\n      \"\"\r\n    ],\r\n    noteNames: [\r\n      \"left_data\",\r\n      \"down_data\",\r\n      \"up_data\",\r\n      \"right_data\",\r\n      \"space_data\",\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"sup_data\",\r\n      \"sright_data\",\r\n      \"tleft_data\",\r\n      \"tdown_data\",\r\n      \"tup_data\",\r\n      \"tright_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzLeft_data\",\r\n      \"frzDown_data\",\r\n      \"frzUp_data\",\r\n      \"frzRight_data\",\r\n      \"frzSpace_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\",\r\n      \"tfrzLeft_data\",\r\n      \"tfrzDown_data\",\r\n      \"tfrzUp_data\",\r\n      \"tfrzRight_data\"\r\n    ],\r\n    colorGroup: [0, 0, 0, 0, 2, 1, 1, 1, 1, 3, 3, 3, 3]\r\n  },\r\n\r\n  \"14\": {\r\n    id: 14,\r\n    num: 14,\r\n    keys: [\r\n      \"KeyG\",\r\n      \"KeyN\",\r\n      \"KeyJ\",\r\n      \"KeyM\",\r\n      \"KeyK\",\r\n      \"Comma\",\r\n      \"KeyL\",\r\n      \"Period\",\r\n      \"KeyY\",\r\n      \"KeyU\",\r\n      \"KeyI\",\r\n      \"Digit8\",\r\n      \"KeyO\",\r\n      \"KeyP\"\r\n    ],\r\n    chars: [\r\n      \"G\",\r\n      \"N\",\r\n      \"J\",\r\n      \"M\",\r\n      \"K\",\r\n      \"<\",\r\n      \"L\",\r\n      \">\",\r\n      \"Y\",\r\n      \"U\",\r\n      \"I\",\r\n      \"8\",\r\n      \"O\",\r\n      \"P\"\r\n    ],\r\n    alternativeKeys: [\r\n      \"KeyH\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"KeyT\",\r\n      \"\",\r\n      \"\",\r\n      \"Digit9\",\r\n      \"\",\r\n      \"BracketLeft\"\r\n    ],\r\n    noteNames: [\r\n      \"oni_data\",\r\n      \"left_data\",\r\n      \"leftdia_data\",\r\n      \"down_data\",\r\n      \"space_data\",\r\n      \"up_data\",\r\n      \"rightdia_data\",\r\n      \"right_data\",\r\n      \"sleftdia_data\",\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"sup_data\",\r\n      \"sright_data\",\r\n      \"srightdia_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"foni_data\",\r\n      \"frzLeft_data\",\r\n      \"frzLdia_data\",\r\n      \"frzDown_data\",\r\n      \"frzSpace_data\",\r\n      \"frzUp_data\",\r\n      \"frzRdia_data\",\r\n      \"frzRight_data\",\r\n      \"sfrzLdia_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\",\r\n      \"sfrzRdia_data\"\r\n    ],\r\n    colorGroup: [2, 0, 1, 0, 1, 0, 1, 0, 2, 3, 3, 3, 3, 2]\r\n  },\r\n\r\n  \"14i\": {\r\n    id: 15,\r\n    num: 14,\r\n    keys: [\r\n      \"KeyZ\",\r\n      \"KeyX\",\r\n      \"KeyC\",\r\n      \"KeyS\",\r\n      \"KeyD\",\r\n      \"KeyF\",\r\n      \"KeyG\",\r\n      \"KeyJ\",\r\n      \"KeyK\",\r\n      \"KeyL\",\r\n      \"KeyU\",\r\n      \"KeyI\",\r\n      \"Digit8\",\r\n      \"KeyO\"\r\n    ],\r\n    chars: [\r\n      \"Z\",\r\n      \"X\",\r\n      \"C\",\r\n      \"S\",\r\n      \"D\",\r\n      \"F\",\r\n      \"G\",\r\n      \"J\",\r\n      \"K\",\r\n      \"L\",\r\n      \"U\",\r\n      \"I\",\r\n      \"8\",\r\n      \"O\"\r\n    ],\r\n    alternativeKeys: [\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"KeyH\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"Digit9\",\r\n      \"\"\r\n    ],\r\n    noteNames: [\r\n      \"gor_data\",\r\n      \"space_data\",\r\n      \"iyo_data\",\r\n      \"sleft_data\",\r\n      \"sleftdia_data\",\r\n      \"sdown_data\",\r\n      \"sspace_data\",\r\n      \"sup_data\",\r\n      \"srightdia_data\",\r\n      \"sright_data\",\r\n      \"left_data\",\r\n      \"down_data\",\r\n      \"up_data\",\r\n      \"right_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzGor_data\",\r\n      \"frzSpace_data\",\r\n      \"frzIyo_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzLdia_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzSpace_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRdia_data\",\r\n      \"sfrzRight_data\",\r\n      \"frzLeft_data\",\r\n      \"frzDown_data\",\r\n      \"frzUp_data\",\r\n      \"frzRight_data\"\r\n    ],\r\n    colorGroup: [2, 2, 2, 0, 1, 0, 2, 0, 1, 0, 3, 3, 3, 3]\r\n  },\r\n\r\n  \"15\": {\r\n    id: 16,\r\n    num: 15,\r\n    keys: [\r\n      \"KeyW\",\r\n      \"KeyE\",\r\n      \"Digit3\",\r\n      \"KeyR\",\r\n      \"KeyS\",\r\n      \"KeyD\",\r\n      \"KeyF\",\r\n      \"KeyG\",\r\n      \"KeyJ\",\r\n      \"KeyK\",\r\n      \"KeyL\",\r\n      \"KeyU\",\r\n      \"KeyI\",\r\n      \"Digit8\",\r\n      \"KeyO\"\r\n    ],\r\n    chars: [\r\n      \"W\",\r\n      \"E\",\r\n      \"3\",\r\n      \"R\",\r\n      \"S\",\r\n      \"D\",\r\n      \"F\",\r\n      \"G\",\r\n      \"J\",\r\n      \"K\",\r\n      \"L\",\r\n      \"U\",\r\n      \"I\",\r\n      \"8\",\r\n      \"O\"\r\n    ],\r\n    alternativeKeys: [\r\n      \"\",\r\n      \"\",\r\n      \"Digit4\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"KeyH\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"Digit9\",\r\n      \"\"\r\n    ],\r\n    noteNames: [\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"sup_data\",\r\n      \"sright_data\",\r\n      \"left_data\",\r\n      \"leftdia_data\",\r\n      \"down_data\",\r\n      \"space_data\",\r\n      \"up_data\",\r\n      \"rightdia_data\",\r\n      \"right_data\",\r\n      \"tleft_data\",\r\n      \"tdown_data\",\r\n      \"tup_data\",\r\n      \"tright_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\",\r\n      \"frzLeft_data\",\r\n      \"frzLdia_data\",\r\n      \"frzDown_data\",\r\n      \"frzSpace_data\",\r\n      \"frzUp_data\",\r\n      \"frzRdia_data\",\r\n      \"frzRight_data\",\r\n      \"tfrzLeft_data\",\r\n      \"tfrzDown_data\",\r\n      \"tfrzUp_data\",\r\n      \"tfrzRight_data\"\r\n    ],\r\n    colorGroup: [3, 3, 3, 3, 0, 1, 0, 2, 0, 1, 0, 3, 3, 3, 3]\r\n  },\r\n\r\n  \"16i\": {\r\n    id: 17,\r\n    num: 16,\r\n    keys: [\r\n      \"KeyZ\",\r\n      \"KeyX\",\r\n      \"KeyC\",\r\n      \"KeyA\",\r\n      \"KeyS\",\r\n      \"KeyD\",\r\n      \"KeyF\",\r\n      \"KeyG\",\r\n      \"KeyJ\",\r\n      \"KeyK\",\r\n      \"KeyL\",\r\n      \"Semicolon\",\r\n      \"KeyU\",\r\n      \"KeyI\",\r\n      \"Digit8\",\r\n      \"KeyO\"\r\n    ],\r\n    chars: [\r\n      \"Z\",\r\n      \"X\",\r\n      \"C\",\r\n      \"A\",\r\n      \"S\",\r\n      \"D\",\r\n      \"F\",\r\n      \"G\",\r\n      \"J\",\r\n      \"K\",\r\n      \"L\",\r\n      \"+\",\r\n      \"U\",\r\n      \"I\",\r\n      \"8\",\r\n      \"O\"\r\n    ],\r\n    alternativeKeys: [\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"KeyH\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"Digit9\",\r\n      \"\"\r\n    ],\r\n    noteNames: [\r\n      \"gor_data\",\r\n      \"space_data\",\r\n      \"iyo_data\",\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"sup_data\",\r\n      \"sright_data\",\r\n      \"aspace_data\",\r\n      \"aleft_data\",\r\n      \"adown_data\",\r\n      \"aup_data\",\r\n      \"aright_data\",\r\n      \"left_data\",\r\n      \"down_data\",\r\n      \"up_data\",\r\n      \"right_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzGor_data\",\r\n      \"frzSpace_data\",\r\n      \"frzIyo_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\",\r\n      \"afrzSpace_data\",\r\n      \"afrzLeft_data\",\r\n      \"afrzDown_data\",\r\n      \"afrzUp_data\",\r\n      \"afrzRight_data\",\r\n      \"frzLeft_data\",\r\n      \"frzDown_data\",\r\n      \"frzUp_data\",\r\n      \"frzRight_data\"\r\n    ],\r\n    colorGroup: [2, 2, 2, 1, 0, 1, 0, 2, 0, 1, 0, 1, 3, 3, 3, 3]\r\n  },\r\n\r\n  \"17\": {\r\n    id: 18,\r\n    num: 17,\r\n    keys: [\r\n      \"KeyA\",\r\n      \"KeyZ\",\r\n      \"KeyS\",\r\n      \"KeyX\",\r\n      \"KeyD\",\r\n      \"KeyC\",\r\n      \"KeyF\",\r\n      \"KeyV\",\r\n      \"KeyG\",\r\n      \"KeyN\",\r\n      \"KeyJ\",\r\n      \"KeyM\",\r\n      \"KeyK\",\r\n      \"Comma\",\r\n      \"KeyL\",\r\n      \"Period\",\r\n      \"Semicolon\"\r\n    ],\r\n    chars: [\r\n      \"A\",\r\n      \"Z\",\r\n      \"S\",\r\n      \"X\",\r\n      \"D\",\r\n      \"C\",\r\n      \"F\",\r\n      \"V\",\r\n      \"G\",\r\n      \"N\",\r\n      \"J\",\r\n      \"M\",\r\n      \"K\",\r\n      \"<\",\r\n      \"L\",\r\n      \">\",\r\n      \"+\"\r\n    ],\r\n    alternativeKeys: [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"KeyH\"],\r\n    noteNames: [\r\n      \"aleft_data\",\r\n      \"bleft_data\",\r\n      \"adown_data\",\r\n      \"bdown_data\",\r\n      \"aup_data\",\r\n      \"bup_data\",\r\n      \"aright_data\",\r\n      \"bright_data\",\r\n      \"space_data\",\r\n      \"cleft_data\",\r\n      \"dleft_data\",\r\n      \"cdown_data\",\r\n      \"ddown_data\",\r\n      \"cup_data\",\r\n      \"dup_data\",\r\n      \"cright_data\",\r\n      \"dright_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"afrzLeft_data\",\r\n      \"bfrzLeft_data\",\r\n      \"afrzDown_data\",\r\n      \"bfrzDown_data\",\r\n      \"afrzUp_data\",\r\n      \"bfrzUp_data\",\r\n      \"afrzRight_data\",\r\n      \"bfrzRight_data\",\r\n      \"frzSpace_data\",\r\n      \"cfrzLeft_data\",\r\n      \"dfrzLeft_data\",\r\n      \"cfrzDown_data\",\r\n      \"dfrzDown_data\",\r\n      \"cfrzUp_data\",\r\n      \"dfrzUp_data\",\r\n      \"cfrzRight_data\",\r\n      \"dfrzRight_data\"\r\n    ],\r\n    colorGroup: [0, 1, 0, 1, 0, 1, 0, 1, 2, 1, 0, 1, 0, 1, 0, 1, 0]\r\n  },\r\n\r\n  \"23\": {\r\n    id: 23,\r\n    num: 23,\r\n    keys: [\r\n      \"KeyW\",\r\n      \"KeyE\",\r\n      \"Digit3\",\r\n      \"KeyR\",\r\n      \"KeyZ\",\r\n      \"KeyS\",\r\n      \"KeyX\",\r\n      \"KeyD\",\r\n      \"KeyC\",\r\n      \"KeyF\",\r\n      \"KeyV\",\r\n      \"KeyG\",\r\n      \"KeyN\",\r\n      \"KeyJ\",\r\n      \"KeyM\",\r\n      \"KeyK\",\r\n      \"Comma\",\r\n      \"KeyL\",\r\n      \"Period\",\r\n      \"KeyU\",\r\n      \"KeyI\",\r\n      \"Digit8\",\r\n      \"KeyO\"\r\n    ],\r\n    chars: [\r\n      \"W\",\r\n      \"E\",\r\n      \"3\",\r\n      \"R\",\r\n      \"Z\",\r\n      \"S\",\r\n      \"X\",\r\n      \"D\",\r\n      \"C\",\r\n      \"F\",\r\n      \"V\",\r\n      \"G\",\r\n      \"N\",\r\n      \"J\",\r\n      \"M\",\r\n      \"K\",\r\n      \"<\",\r\n      \"L\",\r\n      \">\",\r\n      \"U\",\r\n      \"I\",\r\n      \"8\",\r\n      \"O\"\r\n    ],\r\n    alternativeKeys: [\r\n      \"\",\r\n      \"\",\r\n      \"Digit4\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"KeyH\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"Digit9\",\r\n      \"\"\r\n    ],\r\n    noteNames: [\r\n      \"aleft_data\",\r\n      \"adown_data\",\r\n      \"aup_data\",\r\n      \"aright_data\",\r\n      \"left_data\",\r\n      \"leftdia_data\",\r\n      \"down_data\",\r\n      \"space_data\",\r\n      \"up_data\",\r\n      \"rightdia_data\",\r\n      \"right_data\",\r\n      \"oni_data\",\r\n      \"sleft_data\",\r\n      \"sleftdia_data\",\r\n      \"sdown_data\",\r\n      \"sspace_data\",\r\n      \"sup_data\",\r\n      \"srightdia_data\",\r\n      \"sright_data\",\r\n      \"bleft_data\",\r\n      \"bdown_data\",\r\n      \"bup_data\",\r\n      \"bright_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"afrzLeft_data\",\r\n      \"afrzDown_data\",\r\n      \"afrzUp_data\",\r\n      \"afrzRight_data\",\r\n      \"frzLeft_data\",\r\n      \"frzLdia_data\",\r\n      \"frzDown_data\",\r\n      \"frzSpace_data\",\r\n      \"frzUp_data\",\r\n      \"frzRdia_data\",\r\n      \"frzRight_data\",\r\n      \"foni_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzLdia_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzSpace_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRdia_data\",\r\n      \"sfrzRight_data\",\r\n      \"bfrzLeft_data\",\r\n      \"bfrzDown_data\",\r\n      \"bfrzUp_data\",\r\n      \"bfrzRight_data\"\r\n    ],\r\n    colorGroup: [\r\n      3,\r\n      3,\r\n      3,\r\n      3,\r\n      0,\r\n      1,\r\n      0,\r\n      1,\r\n      0,\r\n      1,\r\n      0,\r\n      2,\r\n      0,\r\n      1,\r\n      0,\r\n      1,\r\n      0,\r\n      1,\r\n      0,\r\n      3,\r\n      3,\r\n      3,\r\n      3\r\n    ]\r\n  }\r\n};\r\n","import {\r\n  KeyConfig,\r\n  CustomKeyConfig,\r\n  DefaultKeyConfig\r\n} from \"@/model/KeyConfig\";\r\n\r\nexport function createCustomKeyConfig(): CustomKeyConfig {\r\n  const customKeyConfigStr = localStorage.getItem(\"customKeyConfig\");\r\n  let keyConfig: KeyConfig;\r\n  if (customKeyConfigStr) {\r\n    const obj = JSON.parse(customKeyConfigStr) as CustomKeyConfig;\r\n    keyConfig = Object.assign(DefaultKeyConfig, obj);\r\n  } else {\r\n    keyConfig = DefaultKeyConfig;\r\n  }\r\n  return keyConfig;\r\n}\r\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue, { PropType } from \"vue\";\r\nimport Konva from \"konva\";\r\nimport { CustomKeyConfig } from \"@/model/KeyConfig\";\r\nimport { ScoreData } from \"@/model/ScoreData\";\r\nimport { CustomKeyKind } from \"@/model/KeyKind\";\r\nimport { PageScore, DefaultPageScore } from \"@/model/PageScore\";\r\nimport {\r\n  noteWidth,\r\n  editorHeight,\r\n  verticalSizeNum,\r\n  quarterInterval,\r\n  noteColors,\r\n  laneColors,\r\n  canvasMarginHorizontal,\r\n  canvasMarginVertical\r\n} from \"./EditorConstant\";\r\nimport { Timing } from \"../../model/Timing\";\r\nimport { MusicService } from \"./service/MusicService\";\r\nimport { SpeedType } from \"../../model/Speed\";\r\nimport { Operation } from \"../../model/OperationQueue\";\r\nimport { NoteService } from \"./service/NoteService\";\r\nimport { SpeedPieceService } from \"./service/SpeedPieceService\";\r\nimport { PageScoreService } from \"./service/PageScoreService\";\r\nimport { CurrentPositionService } from \"./service/CurrentPositionService\";\r\nimport SpeedPiece from \"./SpeedPiece.vue\";\r\nimport { positionToSeconds, positionToFrame } from \"./helper/Calculator\";\r\nimport { undo } from \"./helper/undo\";\r\nimport { createCustomKeyConfig } from \"../common/createCustomKeyConfig\";\r\n\r\ntype DataType = {\r\n  currentPosition: number;\r\n  scoreData: ScoreData;\r\n  divisor: number;\r\n  keyNum: number;\r\n  page: number;\r\n  editorWidth: number;\r\n  isReverse: boolean;\r\n  musicTimer: number | null;\r\n  musicService: MusicService;\r\n  copyScoreStore: PageScore;\r\n  operationQueue: Operation[];\r\n  currentPositionService: CurrentPositionService;\r\n  noteService?: NoteService;\r\n  speedPieceService?: SpeedPieceService;\r\n  pageScoreService?: PageScoreService;\r\n  stage?: Konva.Stage;\r\n  baseLayer?: Konva.Layer;\r\n  notesLayer?: Konva.Layer;\r\n  currentPositionLayer?: Konva.Layer;\r\n  previousPosition: number;\r\n  previousPage: number;\r\n  previousDate: Date;\r\n};\r\n\r\nexport default Vue.extend({\r\n  name: \"EditorMain\",\r\n  props: {\r\n    pageNum: Number,\r\n    loadScoreData: { type: Object as PropType<ScoreData> },\r\n    loadMusicUrl: String,\r\n    keyConfig: { type: Object as PropType<CustomKeyConfig> },\r\n    keyKind: { type: String as PropType<CustomKeyKind> },\r\n    timing: { type: Object as PropType<Timing> },\r\n    propScoreNumber: Number,\r\n    musicVolume: Number,\r\n    musicRate: Number\r\n  },\r\n  components: { SpeedPiece },\r\n  data(): DataType {\r\n    const scoreData = this.loadScoreData;\r\n    const keyConfig = createCustomKeyConfig();\r\n    const keyKind = this.keyKind;\r\n    const keyNum = keyConfig[keyKind].num;\r\n    const audio = new Audio(this.loadMusicUrl);\r\n    const isReverseStr: string = localStorage.getItem(\"isReverse\") ?? \"false\";\r\n    const isReverse: boolean = JSON.parse(isReverseStr);\r\n    const operationQueue: Operation[] = [];\r\n\r\n    return {\r\n      currentPosition: 0,\r\n      scoreData,\r\n      divisor: 24,\r\n      page: 1,\r\n      keyNum,\r\n      isReverse,\r\n      editorWidth: noteWidth * keyConfig[keyKind].num,\r\n      musicService: new MusicService(audio),\r\n      musicTimer: null,\r\n      operationQueue,\r\n      copyScoreStore: new DefaultPageScore(keyNum),\r\n      currentPositionService: (undefined as unknown) as CurrentPositionService,\r\n      previousPosition: 0,\r\n      previousPage: 1,\r\n      previousDate: new Date(0)\r\n    };\r\n  },\r\n  methods: {\r\n    // \r\n    baseLayerDraw(): void {\r\n      const divisor = this.divisor;\r\n      const keyNum = this.keyNum;\r\n      const editorWidth = this.editorWidth;\r\n\r\n      const stage = this.stage as Konva.Stage;\r\n      const baseLayer = this.baseLayer as Konva.Layer;\r\n      const notesLayer = this.notesLayer as Konva.Layer;\r\n      const currentPositionLayer = this.currentPositionLayer as Konva.Layer;\r\n\r\n      baseLayer.destroyChildren();\r\n\r\n      // \r\n      for (let lane = 0; lane < keyNum; lane++) {\r\n        const xPos = (lane + 1) * noteWidth;\r\n\r\n        const colorGroup = this.keyConfig[this.keyKind].colorGroup;\r\n        const color = laneColors[colorGroup[lane]];\r\n\r\n        const filler = new Konva.Rect({\r\n          x: xPos - noteWidth,\r\n          width: noteWidth,\r\n          height: editorHeight,\r\n          fill: color,\r\n          strokeWidth: 0\r\n        });\r\n        baseLayer.add(filler);\r\n\r\n        const line = new Konva.Line({\r\n          points: [xPos, 0, xPos, editorHeight],\r\n          stroke: \"#969696\",\r\n          strokeWidth: 0.5\r\n        });\r\n        baseLayer.add(line);\r\n      }\r\n\r\n      // \r\n      for (let i = 0; i < verticalSizeNum / divisor; i++) {\r\n        const yPos = (i + 1) * divisor;\r\n        const line = new Konva.Line({\r\n          points: [0, yPos, editorWidth, yPos],\r\n          stroke: \"#969696\",\r\n          strokeWidth: (divisor * (i + 1)) % quarterInterval == 0 ? 1 : 0.5\r\n        });\r\n        baseLayer.add(line);\r\n      }\r\n\r\n      // \r\n      const rect = new Konva.Rect({\r\n        width: editorWidth,\r\n        height: editorHeight,\r\n        stroke: \"black\",\r\n        strokeWidth: 1\r\n      });\r\n      baseLayer.add(rect);\r\n\r\n      // \r\n      for (let lane = 0; lane < keyNum; lane++) {\r\n        const xPos = (lane + 1) * noteWidth;\r\n\r\n        const keyConfig = this.keyConfig[this.keyKind];\r\n        const colorGroup = keyConfig.colorGroup;\r\n        const color = noteColors[colorGroup[lane]];\r\n\r\n        const chars = keyConfig.chars;\r\n\r\n        if (chars) {\r\n          const charStr = chars[lane];\r\n\r\n          const keyText = new Konva.Text({\r\n            x: xPos - noteWidth,\r\n            y: editorHeight + 5,\r\n            width: noteWidth,\r\n            align: \"center\",\r\n            verticalAlign: \"middle\",\r\n            text: charStr,\r\n            fontSize: 11,\r\n            fill: color\r\n          });\r\n          baseLayer.add(keyText);\r\n        }\r\n      }\r\n\r\n      stage.add(baseLayer);\r\n      stage.add(notesLayer);\r\n      stage.add(currentPositionLayer);\r\n    },\r\n\r\n    // \r\n    playMusicLoop(timing: Timing) {\r\n      const startPosition = -verticalSizeNum / 4;\r\n      const endPosition = verticalSizeNum;\r\n      const startTime = positionToSeconds(timing, this.page, startPosition);\r\n      const endTime = positionToSeconds(timing, this.page, endPosition);\r\n\r\n      const musicVolume = this.musicVolume;\r\n      const musicRate = this.musicRate;\r\n\r\n      const loop = (startTime: number, endTime: number) => {\r\n        const playDuration = ((endTime - startTime) * 1000) / musicRate;\r\n        this.musicService.play(startTime, musicVolume, musicRate);\r\n        this.currentPositionService.musicAnimate(playDuration);\r\n        if (this.musicTimer) {\r\n          const timer: number = setTimeout(() => {\r\n            this.musicService.pause();\r\n            loop(startTime, endTime);\r\n          }, playDuration);\r\n          this.musicTimer = timer;\r\n        }\r\n      };\r\n\r\n      this.musicTimer = 1;\r\n      loop(startTime, endTime);\r\n    },\r\n\r\n    // \r\n    stopMusicLoop(timer: number) {\r\n      const stage = this.stage as Konva.Stage;\r\n      const currentPositionLayer = this.currentPositionLayer as Konva.Layer;\r\n      const node = currentPositionLayer.findOne(\"#musicPosition\");\r\n      node.destroy();\r\n      stage.add(currentPositionLayer);\r\n\r\n      this.musicService.pause(timer);\r\n      this.musicTimer = null;\r\n    },\r\n\r\n    // \r\n    displayPageScore(page: number): void {\r\n      const stage = this.stage as Konva.Stage;\r\n      const notesLayer = this.notesLayer as Konva.Layer;\r\n      const noteService = this.noteService as NoteService;\r\n      const speedPieceService = this.speedPieceService as SpeedPieceService;\r\n\r\n      const pageScore = this.scoreData.scores[page - 1];\r\n\r\n      notesLayer.destroyChildren();\r\n      stage.add(notesLayer);\r\n\r\n      pageScore.notes.forEach((laneArr, lane) => {\r\n        laneArr.forEach(position => {\r\n          noteService.draw(lane, position, false);\r\n        });\r\n      });\r\n      pageScore.freezes.forEach((laneArr, lane) => {\r\n        laneArr.forEach(position => {\r\n          noteService.draw(lane, position, true);\r\n        });\r\n        noteService.fillFreeze(this.page, lane);\r\n      });\r\n      pageScore.speeds.forEach(speed => {\r\n        speedPieceService.draw(speed.position, speed.type);\r\n      });\r\n    },\r\n\r\n    // \r\n    pageMove(page: number): void {\r\n      this.page = page;\r\n      this.$emit(\"page-jump\", page);\r\n\r\n      //  + 1empty\r\n      if (!this.scoreData.scores[page]) this.scoreData.scores.length = page + 1;\r\n      this.scoreData.scores = [...this.scoreData.scores].map(pageScore => {\r\n        if (!pageScore) return new DefaultPageScore(this.keyNum);\r\n        else return pageScore;\r\n      });\r\n      this.displayPageScore(page);\r\n\r\n      // \r\n      if (this.musicTimer) {\r\n        this.stopMusicLoop(this.musicTimer);\r\n        this.playMusicLoop(this.timing);\r\n      }\r\n\r\n      this.currentPositionService.draw(this.currentPosition, page, this.timing);\r\n    },\r\n    pageMinus(n: number, position = 0): void {\r\n      this.$emit(\"page-minus\", n);\r\n      this.currentPositionService.move(position, this.page, this.timing);\r\n    },\r\n    pagePlus(n: number): void {\r\n      this.$emit(\"page-plus\", n);\r\n      this.currentPositionService.move(0, this.page, this.timing);\r\n    },\r\n\r\n    // \r\n    changeDivisor(divisor: number) {\r\n      this.divisor = divisor;\r\n      if (this.currentPosition % divisor !== 0) {\r\n        this.currentPositionService.move(\r\n          Math.floor(this.currentPosition / divisor) * divisor,\r\n          this.page,\r\n          this.timing\r\n        );\r\n      }\r\n      this.baseLayerDraw();\r\n    },\r\n\r\n    // \r\n    currentPositionIncrease() {\r\n      this.currentPosition += this.divisor;\r\n      if (this.currentPosition >= verticalSizeNum) this.pagePlus(1);\r\n      else\r\n        this.currentPositionService.move(\r\n          this.currentPosition,\r\n          this.page,\r\n          this.timing\r\n        );\r\n    },\r\n\r\n    currentPositionDecrease() {\r\n      this.currentPosition -= this.divisor;\r\n      if (this.currentPosition < 0) {\r\n        if (this.page === 1) this.currentPosition = 0;\r\n        else this.pageMinus(1, this.currentPosition + verticalSizeNum);\r\n      } else\r\n        this.currentPositionService.move(\r\n          this.currentPosition,\r\n          this.page,\r\n          this.timing\r\n        );\r\n    },\r\n\r\n    // \r\n    keydownAction(e: KeyboardEvent): void {\r\n      const noteService = this.noteService as NoteService;\r\n      const speedPieceService = this.speedPieceService as SpeedPieceService;\r\n      const pageScoreService = this.pageScoreService as PageScoreService;\r\n\r\n      const page = this.page;\r\n      const currentPosition = this.currentPosition;\r\n      const divisor = this.divisor;\r\n\r\n      const positionLineMove = (isRaise: boolean) => {\r\n        return isRaise === this.isReverse\r\n          ? this.currentPositionDecrease\r\n          : this.currentPositionIncrease;\r\n      };\r\n\r\n      const mustCtrlAction = (e: KeyboardEvent) => {\r\n        switch (e.code) {\r\n          case \"KeyX\":\r\n            if (e.shiftKey) pageScoreService.delete(page);\r\n            else pageScoreService.cut(page);\r\n            break;\r\n          case \"KeyC\":\r\n            pageScoreService.copy(page);\r\n            break;\r\n          case \"KeyV\":\r\n            if (e.shiftKey) pageScoreService.add(page);\r\n            else pageScoreService.paste(page);\r\n            break;\r\n          case \"KeyZ\": {\r\n            const { undoPage, undoPosition } = undo(\r\n              this.operationQueue,\r\n              noteService,\r\n              pageScoreService\r\n            );\r\n            const targetPage = undoPage != undefined ? undoPage : page;\r\n            const targetPosition =\r\n              undoPosition != undefined ? undoPosition : currentPosition;\r\n            this.pageMove(targetPage);\r\n            this.currentPositionService.move(\r\n              targetPosition,\r\n              targetPage,\r\n              this.timing\r\n            );\r\n            this.displayPageScore(targetPage);\r\n            break;\r\n          }\r\n          case \"ArrowUp\": {\r\n            const delta = this.isReverse ? -divisor : divisor;\r\n            noteService.shift(page, currentPosition, delta);\r\n            positionLineMove(true)();\r\n            this.displayPageScore(this.page);\r\n            break;\r\n          }\r\n          case \"ArrowDown\": {\r\n            const delta = this.isReverse ? divisor : -divisor;\r\n            noteService.shift(page, currentPosition, delta);\r\n            positionLineMove(false)();\r\n            this.displayPageScore(this.page);\r\n            break;\r\n          }\r\n        }\r\n      };\r\n\r\n      const withCtrlAction = (e: KeyboardEvent) => {\r\n        switch (e.code) {\r\n          case \"Digit1\":\r\n            this.changeDivisor(quarterInterval);\r\n            break;\r\n          case \"Digit2\":\r\n            this.changeDivisor(quarterInterval / 2);\r\n            break;\r\n          case \"Digit3\":\r\n            this.changeDivisor(quarterInterval / 4);\r\n            break;\r\n          case \"Digit4\":\r\n            this.changeDivisor(quarterInterval / 3);\r\n            break;\r\n          case \"Digit5\":\r\n            this.changeDivisor(quarterInterval / 6);\r\n            break;\r\n          case \"Digit6\":\r\n            this.changeDivisor(quarterInterval / 12);\r\n            break;\r\n          case \"Digit7\":\r\n            this.changeDivisor(quarterInterval / 8);\r\n            break;\r\n        }\r\n      };\r\n\r\n      if (e.ctrlKey) {\r\n        mustCtrlAction(e);\r\n        withCtrlAction(e);\r\n      } else {\r\n        switch (e.code) {\r\n          case \"Enter\": {\r\n            if (!this.musicTimer) {\r\n              const timing = this.timing;\r\n              this.playMusicLoop(timing);\r\n            } else {\r\n              const timer = this.musicTimer;\r\n              this.stopMusicLoop(timer);\r\n            }\r\n            break;\r\n          }\r\n          case \"Backspace\":\r\n            noteService.removeOnPosition(this.page, this.currentPosition);\r\n            this.displayPageScore(this.page);\r\n            break;\r\n          case \"Space\": // \r\n            this.currentPositionIncrease();\r\n            break;\r\n          case \"ArrowUp\":\r\n            positionLineMove(true)();\r\n            break;\r\n          case \"KeyB\": // \r\n            this.currentPositionDecrease();\r\n            break;\r\n          case \"ArrowDown\":\r\n            positionLineMove(false)();\r\n            break;\r\n          case \"ArrowLeft\":\r\n            if (e.shiftKey) this.pageMinus(5);\r\n            else this.pageMinus(1);\r\n            break;\r\n          case \"ArrowRight\":\r\n            if (e.shiftKey) this.pagePlus(5);\r\n            else this.pagePlus(1);\r\n            break;\r\n          case \"Quote\":\r\n            {\r\n              const speedType: SpeedType = e.shiftKey ? \"boost\" : \"speed\";\r\n              const page = this.page;\r\n              const position = this.currentPosition;\r\n\r\n              if (speedPieceService.hasSpeedPiece(page, position)) {\r\n                speedPieceService.remove(page, position);\r\n                speedPieceService.clear(position);\r\n              } else {\r\n                speedPieceService.add(page, position, speedType);\r\n                speedPieceService.draw(position, speedType);\r\n              }\r\n            }\r\n            break;\r\n\r\n          default: {\r\n            const possiblyLane = Math.max(\r\n              this.keyConfig[this.keyKind].keys.indexOf(e.code),\r\n              this.keyConfig[this.keyKind].alternativeKeys.indexOf(e.code)\r\n            );\r\n            const isFreeze = e.shiftKey;\r\n\r\n            let page = this.page;\r\n            let position = this.currentPosition;\r\n            let isSimultaneous = false;\r\n\r\n            if (possiblyLane >= 0) {\r\n              // /\r\n              const now = new Date();\r\n              const threshold: number = JSON.parse(\r\n                localStorage.getItem(\"simultaneousThreshold\") ?? \"30\"\r\n              );\r\n\r\n              if (now.getTime() - this.previousDate.getTime() <= threshold) {\r\n                page = this.previousPage;\r\n                position = this.previousPosition;\r\n                isSimultaneous = true;\r\n              } else {\r\n                this.previousDate = now;\r\n              }\r\n\r\n              // /\r\n              if (noteService.hasNote(page, possiblyLane, position).exists) {\r\n                noteService.removeOne(page, this.page, possiblyLane, position);\r\n              } else {\r\n                noteService.addOne(\r\n                  page,\r\n                  this.page,\r\n                  possiblyLane,\r\n                  position,\r\n                  isFreeze\r\n                );\r\n              }\r\n\r\n              // \r\n              if (!isSimultaneous) {\r\n                this.currentPositionIncrease();\r\n                this.previousPage = page;\r\n                this.previousPosition = position;\r\n              }\r\n            } else {\r\n              withCtrlAction(e);\r\n            }\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    mode(): number {\r\n      return (quarterInterval / this.divisor) * 4;\r\n    },\r\n\r\n    moveIntervalFrame(): number {\r\n      return (\r\n        Math.round(\r\n          (positionToFrame(this.timing, this.page, this.divisor) -\r\n            positionToFrame(this.timing, this.page, 0)) *\r\n            100\r\n        ) / 100\r\n      );\r\n    }\r\n  },\r\n\r\n  mounted(): void {\r\n    const stage = new Konva.Stage({\r\n      x: canvasMarginHorizontal,\r\n      y: canvasMarginVertical,\r\n      container: \"canvas\",\r\n      width: this.editorWidth + canvasMarginHorizontal * 2,\r\n      height: editorHeight + canvasMarginVertical * 2\r\n    });\r\n    const baseLayer = new Konva.Layer({\r\n      container: \"baseLayer\"\r\n    });\r\n    const currentPositionLayer = new Konva.Layer({\r\n      container: \"currentPositionLayer\"\r\n    });\r\n    const notesLayer = new Konva.Layer({\r\n      container: \"notesLayer\"\r\n    });\r\n\r\n    this.stage = stage;\r\n    this.baseLayer = baseLayer;\r\n    this.currentPositionLayer = currentPositionLayer;\r\n    this.notesLayer = notesLayer;\r\n\r\n    this.noteService = new NoteService(\r\n      this.scoreData,\r\n      this.keyConfig,\r\n      this.keyKind,\r\n      this.isReverse,\r\n      this.stage,\r\n      this.notesLayer,\r\n      this.operationQueue\r\n    );\r\n\r\n    this.speedPieceService = new SpeedPieceService(\r\n      this.scoreData,\r\n      this.editorWidth,\r\n      this.isReverse,\r\n      this.stage,\r\n      this.notesLayer\r\n    );\r\n\r\n    this.pageScoreService = new PageScoreService(\r\n      this.scoreData,\r\n      this.copyScoreStore,\r\n      this.keyNum,\r\n      this.displayPageScore,\r\n      this.operationQueue\r\n    );\r\n\r\n    this.currentPositionService = new CurrentPositionService(\r\n      this.scoreData,\r\n      this.editorWidth,\r\n      this.isReverse,\r\n      this.stage,\r\n      this.currentPositionLayer,\r\n      position => (this.currentPosition = position)\r\n    );\r\n\r\n    this.baseLayerDraw();\r\n    this.currentPositionService.draw(0, 1, this.timing);\r\n    this.pageMove(1);\r\n    this.displayPageScore(1);\r\n\r\n    // \r\n    if (this.$refs.canvas instanceof HTMLElement) this.$refs.canvas.focus();\r\n  },\r\n\r\n  beforeDestroy(): void {\r\n    // \r\n    if (this.musicTimer) this.stopMusicLoop(this.musicTimer);\r\n  },\r\n\r\n  watch: {\r\n    pageNum(newPage: number): void {\r\n      this.pageMove(newPage);\r\n    },\r\n\r\n    scoreData(scoreData: ScoreData): void {\r\n      this.$emit(\"changeScoreData\", scoreData);\r\n    },\r\n\r\n    propScoreNumber(scoreNumber: number) {\r\n      this.scoreData.scoreNumber = scoreNumber;\r\n    }\r\n  }\r\n});\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorMain.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorMain.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EditorMain.vue?vue&type=template&id=04b6c7eb&\"\nimport script from \"./EditorMain.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditorMain.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"uk-modal-dialog\",attrs:{\"id\":\"editor-option\",\"uk-modal\":\"\",\"container\":\"#editor-controller\"}},[_c('button',{staticClass:\"uk-modal-close-default\",attrs:{\"type\":\"button\",\"uk-close\":\"\"}}),_c('h2',{staticClass:\"uk-modal-title\"},[_vm._v(\"Option Settings\")]),_c('div',{staticClass:\"option-item-container\",attrs:{\"id\":\"option-score-number\"}},[_c('div',{staticClass:\"menu-txt\"},[_vm._v(\"Score No.\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.inputScoreNumber),expression:\"inputScoreNumber\",modifiers:{\"number\":true}}],staticClass:\"uk-input uk-form-small\",attrs:{\"type\":\"number\",\"min\":\"1\"},domProps:{\"value\":(_vm.inputScoreNumber)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.inputScoreNumber=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"option-item-container\",attrs:{\"id\":\"option-music-volume\"}},[_c('div',{staticClass:\"menu-txt\"},[_vm._v(\"Music Volume\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.inputMusicVolume),expression:\"inputMusicVolume\",modifiers:{\"number\":true}}],staticClass:\"uk-range uk-form-small\",attrs:{\"type\":\"range\",\"min\":\"0\",\"max\":\"1\",\"step\":\"0.05\"},domProps:{\"value\":(_vm.inputMusicVolume)},on:{\"__r\":function($event){_vm.inputMusicVolume=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"option-item-container\",attrs:{\"id\":\"option-music-rate\"}},[_c('div',{staticClass:\"menu-txt\"},[_vm._v(\"Music Speed\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.inputMusicRate),expression:\"inputMusicRate\",modifiers:{\"number\":true}}],staticClass:\"uk-input uk-form-small\",attrs:{\"type\":\"number\",\"min\":\"0.25\",\"max\":\"2\",\"step\":\"0.05\"},domProps:{\"value\":(_vm.inputMusicRate)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.inputMusicRate=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\nexport default Vue.extend({\r\n  name: \"EditorOption\",\r\n  props: {\r\n    scoreNumber: Number,\r\n    musicVolume: Number,\r\n    musicRate: Number\r\n  },\r\n  computed: {\r\n    inputScoreNumber: {\r\n      get(): number {\r\n        return this.scoreNumber;\r\n      },\r\n      set(scoreNumber: string) {\r\n        const value = Number(scoreNumber);\r\n        this.$emit(\"update:scoreNumber\", value);\r\n      }\r\n    },\r\n\r\n    inputMusicVolume: {\r\n      get(): number {\r\n        return this.musicVolume;\r\n      },\r\n      set(musicVolume: string) {\r\n        localStorage.setItem(\"musicVolume\", musicVolume);\r\n        const value = Number(musicVolume);\r\n        this.$emit(\"update:musicVolume\", value);\r\n      }\r\n    },\r\n\r\n    inputMusicRate: {\r\n      get(): number {\r\n        return this.musicRate;\r\n      },\r\n      set(musicRate: string) {\r\n        const value = Number(musicRate);\r\n        this.$emit(\"update:musicRate\", value);\r\n      }\r\n    }\r\n  }\r\n});\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorOption.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorOption.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EditorOption.vue?vue&type=template&id=3f8ffbb8&\"\nimport script from \"./EditorOption.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditorOption.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { Timing } from \"./Timing\";\r\nimport { PageScore, DefaultPageScore } from \"./PageScore\";\r\nimport { CustomKeyKind } from \"./KeyKind\";\r\n\r\nexport interface ScoreData {\r\n  keyKind?: CustomKeyKind;\r\n  blankFrame: number;\r\n  timings: Timing[];\r\n  scoreNumber?: number;\r\n  scores: PageScore[];\r\n}\r\n\r\nexport class DefaultScoreData implements ScoreData {\r\n  keyKind?: CustomKeyKind;\r\n  scores: PageScore[];\r\n\r\n  constructor(keyNum: number) {\r\n    this.scores = [new DefaultPageScore(keyNum)];\r\n  }\r\n\r\n  blankFrame = 200;\r\n\r\n  timings: Timing[] = [\r\n    {\r\n      label: 1,\r\n      startNum: 0,\r\n      bpm: 140\r\n    }\r\n  ];\r\n\r\n  scoreNumber = 1;\r\n}\r\n","import { cloneDeep, isEqual } from \"lodash\";\nimport { CustomKeyConfig } from \"@/model/KeyConfig\";\nimport { ScoreData } from \"@/model/ScoreData\";\nimport { CustomKeyKind } from \"@/model/KeyKind\";\nimport { PageScore, DefaultPageScore } from \"@/model/PageScore\";\nimport { quarterInterval } from \"../EditorConstant\";\nimport { Speed } from \"@/model/Speed\";\nimport { positionToFrame } from \"../helper/Calculator\";\n\nexport type FrameData = {\n  notes: number[][];\n  freezes: number[][];\n  speeds: Speed[];\n};\n\nexport type OutputData = {\n  notes: number[][];\n  freezes: number[][];\n  speeds: Speed[];\n  boosts: Speed[];\n};\n\nexport class ScoreConvertService {\n  constructor(\n    private keyKind: CustomKeyKind,\n    private keyConfig: CustomKeyConfig\n  ) {}\n\n  private keyNum = this.keyConfig[this.keyKind].num;\n  private defaultPageScore = new DefaultPageScore(this.keyNum);\n\n  toFrameData(scoreData: ScoreData): FrameData[] {\n    const initialPageScore = new DefaultPageScore(this.keyNum);\n    const blankFrame = scoreData.blankFrame;\n    const timings = scoreData.timings.sort((a, b) => a.label - b.label);\n    const scores = scoreData.scores;\n\n    let labelCounter = 0;\n    const maxPageNum = scores.length + 1;\n    const frameScores: PageScore[] = [];\n\n    for (let pageNum = 1; pageNum < maxPageNum; pageNum++) {\n      const pageScore = scores[pageNum - 1];\n      if (pageScore === undefined) frameScores.push(initialPageScore);\n      else {\n        if (timings[labelCounter] && pageNum === timings[labelCounter].label)\n          labelCounter++;\n        const timing = timings[labelCounter - 1];\n        const calculateFrame = (position: number) =>\n          Math.round(positionToFrame(timing, pageNum, position, blankFrame));\n\n        const pageNoteFrames = pageScore.notes.map(notesArr =>\n          notesArr.sort((a, b) => a - b).map(calculateFrame)\n        );\n        const freezeNoteFrames = pageScore.freezes.map(freezesArr =>\n          freezesArr.sort((a, b) => a - b).map(calculateFrame)\n        );\n        const speedsNoteFrames = pageScore.speeds.map(speed => {\n          const newSpeed: Speed = cloneDeep(speed);\n          newSpeed.position = calculateFrame(speed.position);\n          return newSpeed;\n        });\n        frameScores.push({\n          notes: pageNoteFrames,\n          freezes: freezeNoteFrames,\n          speeds: speedsNoteFrames\n        });\n      }\n    }\n    return frameScores;\n  }\n\n  framesToOutputData(frameScores: FrameData[]) {\n    const initialData = {\n      notes: new Array(this.keyNum).fill([]).map(() => []),\n      freezes: new Array(this.keyNum).fill([]).map(() => []),\n      speeds: [],\n      boosts: []\n    };\n\n    const outputData: OutputData = frameScores.reduce(\n      (data: OutputData, currentPage) => {\n        for (let i = 0; i < this.keyNum; i++) {\n          data.notes[i] = data.notes[i].concat(currentPage.notes[i]);\n          data.freezes[i] = data.freezes[i].concat(currentPage.freezes[i]);\n        }\n        data.speeds = data.speeds.concat(\n          currentPage.speeds.filter(speed => speed.type === \"speed\")\n        );\n        data.boosts = data.boosts.concat(\n          currentPage.speeds.filter(speed => speed.type === \"boost\")\n        );\n        return data;\n      },\n      initialData\n    );\n\n    return outputData;\n  }\n\n  private makeEasySave(scoreData: ScoreData): string {\n    const keyKind: string = scoreData.keyKind as string;\n    const blankFrame: number = scoreData.blankFrame;\n    const labels: number[] = scoreData.timings.map(timing => timing.label);\n    const startNumbers: number[] = scoreData.timings.map(\n      timing => timing.startNum\n    );\n    const bpms: number[] = scoreData.timings.map(timing => timing.bpm);\n    const scoreNumber = scoreData.scoreNumber || 1;\n\n    const easySave =\n      `|es_keyKind=${keyKind}` +\n      `|es_blankFrame=${blankFrame}` +\n      `|es_label=${labels.join(\",\")}` +\n      `|es_startNumber=${startNumbers.join(\",\")}` +\n      `|es_bpm=${bpms.join(\",\")}` +\n      `|es_scoreNumber=${scoreNumber}|`;\n\n    return easySave;\n  }\n\n  convert(scoreData: ScoreData, scorePostfix = \"\"): string {\n    const frameScores = this.toFrameData(scoreData);\n    const data = this.framesToOutputData(frameScores);\n\n    data.speeds.sort((a, b) => a.position - b.position);\n    data.boosts.sort((a, b) => a.position - b.position);\n\n    const noteStr = data.notes\n      .reduce(\n        (str, notesArr, laneNum) =>\n          `${str}${\n            this.keyConfig[this.keyKind].noteNames[laneNum]\n          }=${notesArr.join(\",\")}|`,\n        \"|\"\n      )\n      .replace(/_/g, `${scorePostfix}_`);\n\n    const freezeStr = data.freezes\n      .reduce(\n        (str, freezesArr, laneNum) =>\n          `${str}${\n            this.keyConfig[this.keyKind].freezeNames[laneNum]\n          }=${freezesArr.join(\",\")}|`,\n        \"\"\n      )\n      .replace(/_/g, `${scorePostfix}_`);\n\n    const speedStr = (\n      \"speed_data=\" +\n      data.speeds.map(speed => `${speed.position},${speed.value}`).join(\",\") +\n      \"|\"\n    ).replace(/_/g, `${scorePostfix}_`);\n    const boostStr = (\n      \"boost_data=\" +\n      data.boosts.map(speed => `${speed.position},${speed.value}`).join(\",\") +\n      \"|\"\n    ).replace(/_/g, `${scorePostfix}_`);\n\n    const easySave = this.makeEasySave(scoreData);\n\n    return `${noteStr + freezeStr}\n|${speedStr + boostStr}\n${easySave}\n`;\n  }\n\n  cutLastDefault(scoreData: ScoreData): ScoreData {\n    const len = scoreData.scores.length;\n    const copiedScoreData = cloneDeep(scoreData);\n    let i = len - 1;\n    while (i >= 0) {\n      if (isEqual(copiedScoreData.scores[i], this.defaultPageScore)) {\n        copiedScoreData.scores.pop();\n        i--;\n      } else break;\n    }\n    return copiedScoreData;\n  }\n\n  // \n  convertWithQuarters(scoreData: ScoreData, scorePostfix = \"\"): string {\n    const quarterNotes: number[] = [];\n    for (let i = 0; i < 8; i++) {\n      quarterNotes.push(i * quarterInterval);\n    }\n\n    // Todo: \n    const pushQuartersPageNum = 20;\n\n    // Todo: \n    const pushQuartersLane = 0;\n\n    const newScoreData = this.cutLastDefault(cloneDeep(scoreData));\n\n    for (let i = 0; i < pushQuartersPageNum; i++) {\n      const quartersPageScore: PageScore = new DefaultPageScore(this.keyNum);\n      quartersPageScore.notes[pushQuartersLane] = quarterNotes;\n      newScoreData.scores.push(quartersPageScore);\n    }\n\n    return this.convert(this.cutLastDefault(newScoreData), scorePostfix);\n  }\n\n  save(scoreData: ScoreData): string {\n    return JSON.stringify(this.cutLastDefault(scoreData));\n  }\n}\n","/**\r\n * \r\n * cf.) https://github.com/cwtickle/danoniplus/blob/v15.1.3/js/danoni_main.js#L1400-L1594\r\n */\r\n\r\nimport { flattenDeep, cloneDeep, sum, uniq } from \"lodash\";\r\n\r\nexport type FlattenData = {\r\n  allScorebook: number[];\r\n  frzStartData: number[];\r\n  frzEndData: number[];\r\n};\r\n\r\nexport type ScoreDataInfo = {\r\n  level: number;\r\n  single: number;\r\n  double: number;\r\n  overTriple: number;\r\n  overTripleFrame: number[];\r\n  laneContinuous: number;\r\n};\r\n\r\nexport class LevelCalcService {\r\n  // \r\n  calcFlattenData(\r\n    noteFrames: number[][],\r\n    freezeFrames: number[][]\r\n  ): FlattenData {\r\n    const flattenData: FlattenData = {\r\n      allScorebook: [],\r\n      frzStartData: [],\r\n      frzEndData: []\r\n    };\r\n\r\n    freezeFrames.forEach(laneFreezes => {\r\n      flattenData.frzStartData = flattenData.frzStartData.concat(\r\n        laneFreezes.filter((value, index) => index % 2 == 0)\r\n      );\r\n      flattenData.frzEndData = flattenData.frzEndData.concat(\r\n        laneFreezes.filter((value, index) => index % 2 == 1)\r\n      );\r\n    });\r\n\r\n    flattenData.frzStartData.sort((a, b) => a - b);\r\n    flattenData.frzEndData.sort((a, b) => a - b);\r\n    flattenData.allScorebook = flattenDeep(\r\n      noteFrames.concat(flattenData.frzStartData)\r\n    ).sort((a, b) => a - b);\r\n\r\n    return flattenData;\r\n  }\r\n\r\n  // \r\n  calcLaneContinuous(noteFrames: number[][], freezeFrames: number[][]): number {\r\n    const keyNum = noteFrames.length;\r\n    let laneContinuous = 0;\r\n    for (let i = 0; i < keyNum; i++) {\r\n      const frames = noteFrames[i]\r\n        .concat(freezeFrames[i].filter((_value, index) => index % 2 == 0))\r\n        .sort((a, b) => a - b);\r\n      laneContinuous += frames.reduce((acc, value, index) => {\r\n        const continuousFrame = 10; // \r\n        const diff = index !== 0 ? value - frames[index - 1] : continuousFrame;\r\n        const adj =\r\n          diff < continuousFrame\r\n            ? continuousFrame / diff ** 2 - 1 / continuousFrame\r\n            : 0;\r\n        return acc + adj;\r\n      }, 0);\r\n    }\r\n    return laneContinuous;\r\n  }\r\n\r\n  // \r\n  calcAdjustValue(flattenData: FlattenData): ScoreDataInfo {\r\n    const data = cloneDeep(flattenData);\r\n    const allScorebook = data.allScorebook;\r\n    const frzStartData = data.frzStartData;\r\n    const frzEndData = data.frzEndData;\r\n\r\n    allScorebook.unshift(allScorebook[0] - 100);\r\n    allScorebook.push(allScorebook[allScorebook.length - 1] + 100);\r\n    let currentFrzNum = 0;\r\n    const uniqueScorebook = uniq(allScorebook);\r\n    const scoreDataInfo: ScoreDataInfo = {\r\n      level: 0,\r\n      single: 0,\r\n      double: 0,\r\n      overTriple: 0,\r\n      overTripleFrame: [],\r\n      laneContinuous: 0\r\n    };\r\n\r\n    uniqueScorebook.forEach((frame, index) => {\r\n      const nextFrame = uniqueScorebook[index + 1];\r\n\r\n      const decreaseFrzNum = frzEndData.filter(f => f < frame).length;\r\n      currentFrzNum -= decreaseFrzNum;\r\n      frzEndData.splice(0, decreaseFrzNum);\r\n\r\n      // 3\r\n\r\n      if (index !== uniqueScorebook.length - 1 && index !== 0) {\r\n        const hitsNum = allScorebook.filter(f => f === frame).length;\r\n        if (hitsNum + currentFrzNum > 2) {\r\n          scoreDataInfo.overTriple += Math.min(\r\n            hitsNum,\r\n            hitsNum + currentFrzNum - 2\r\n          );\r\n          scoreDataInfo.overTripleFrame.push(frame);\r\n        }\r\n        if (hitsNum >= 2 && currentFrzNum === 0) {\r\n          const doubleAdj =\r\n            40 / ((frame - uniqueScorebook[index - 1]) * (nextFrame - frame));\r\n          scoreDataInfo.double += doubleAdj;\r\n        }\r\n\r\n        const increaseFrzNum = frzStartData.filter(f => f === frame).length;\r\n        currentFrzNum += increaseFrzNum;\r\n        frzStartData.splice(0, increaseFrzNum);\r\n\r\n        const exDecreaseFrzNum = frzEndData.filter(f => f < nextFrame).length;\r\n        currentFrzNum -= exDecreaseFrzNum;\r\n        frzEndData.splice(0, exDecreaseFrzNum);\r\n\r\n        if (currentFrzNum < 2) {\r\n          const singleAdj = 2 / ((2 - currentFrzNum) * (nextFrame - frame));\r\n          scoreDataInfo.single += singleAdj;\r\n        }\r\n      }\r\n    });\r\n    return scoreDataInfo;\r\n  }\r\n\r\n  calcLevel(noteFrames: number[][], freezeFrames: number[][]): ScoreDataInfo {\r\n    const flattenData = this.calcFlattenData(noteFrames, freezeFrames);\r\n    const laneContinuous = this.calcLaneContinuous(noteFrames, freezeFrames);\r\n    const scoreDataInfo = this.calcAdjustValue(flattenData);\r\n    scoreDataInfo.laneContinuous = laneContinuous;\r\n\r\n    const totalNotes = flattenData.allScorebook.length;\r\n    if (totalNotes === 0) return scoreDataInfo;\r\n    else if (totalNotes === 1)\r\n      return Object.assign(scoreDataInfo, { level: 0.01 });\r\n    else {\r\n      const adjFunc = (adj: number) =>\r\n        (adj / Math.sqrt(totalNotes - 1 - scoreDataInfo.overTriple)) * 4;\r\n      const totalAdj = adjFunc(\r\n        scoreDataInfo.single +\r\n          scoreDataInfo.double +\r\n          scoreDataInfo.laneContinuous\r\n      );\r\n      scoreDataInfo.single = adjFunc(scoreDataInfo.single);\r\n      scoreDataInfo.double = adjFunc(scoreDataInfo.double);\r\n      scoreDataInfo.laneContinuous = adjFunc(scoreDataInfo.laneContinuous);\r\n\r\n      const tripleCorrectedLevel =\r\n        (totalAdj * (totalNotes - 1)) /\r\n        (totalNotes - 1 - scoreDataInfo.overTriple);\r\n      const roundedLevel = Math.round(tripleCorrectedLevel * 100) / 100;\r\n\r\n      return Object.assign(scoreDataInfo, { level: roundedLevel });\r\n    }\r\n  }\r\n\r\n  countNotes(noteFrames: number[][], freezeFrames: number[][]) {\r\n    const notesCountArr = noteFrames.map(notes => notes.length);\r\n    const freezesCountArr = freezeFrames.map(freezes => freezes.length / 2);\r\n    return { notesCountArr, freezesCountArr };\r\n  }\r\n\r\n  createScoreDataInfoStr(\r\n    noteFrames: number[][],\r\n    freezeFrames: number[][]\r\n  ): string {\r\n    const scoreDataInfo = this.calcLevel(noteFrames, freezeFrames);\r\n\r\n    const levelStr = `: ${scoreDataInfo.level}${\r\n      scoreDataInfo.overTriple > 0 ? \"*\" : \"\"\r\n    }`;\r\n    const doubleStr = `: ${scoreDataInfo.double}`;\r\n    const continuousStr = `: ${scoreDataInfo.laneContinuous}`;\r\n\r\n    const arrowsCount = this.countNotes(noteFrames, freezeFrames);\r\n    const totalNotes = sum(arrowsCount.notesCountArr);\r\n    const totalfreezes = sum(arrowsCount.freezesCountArr);\r\n    const arrowNumStr = `: ${totalNotes +\r\n      totalfreezes}(${totalNotes} + ${totalfreezes})`;\r\n    const notesStr = `: (${arrowsCount.notesCountArr.join(\"/\")})`;\r\n    const freezesStr = `: (${arrowsCount.freezesCountArr.join(\"/\")})`;\r\n    const overTripleFrameStr = `3: (${scoreDataInfo.overTripleFrame.join(\r\n      \"/\"\r\n    )})`;\r\n\r\n    const dataInfoStr = `${levelStr}\r\n${doubleStr}\r\n${continuousStr}\r\n${arrowNumStr}\r\n${notesStr}\r\n${freezesStr}\r\n${overTripleFrameStr}`;\r\n    return dataInfoStr;\r\n  }\r\n}\r\n","import { compact, fromPairs } from \"lodash\";\nimport { CustomKeyConfig } from \"@/model/KeyConfig\";\nimport { Timing } from \"@/model/Timing\";\nimport { KeyKind } from \"@/model/KeyKind\";\nimport { ScoreData } from \"@/model/ScoreData\";\nimport { frameToPagePosition } from \"../helper/Calculator\";\nimport { Speed, SpeedType } from \"@/model/Speed\";\nimport { PageScore } from \"@/model/PageScore\";\n\nexport class ScoreRevivalService {\n  constructor(private keyConfig: CustomKeyConfig) {}\n\n  private delimiter = \"|\";\n\n  dosConvert(dosData: string): ScoreData | null {\n    const regRes = /scoreNumber=(\\d+)/.exec(dosData);\n    const extractedScoreNumber: string = regRes ? regRes[1] : \"1\";\n    const regExp = RegExp(extractedScoreNumber + \"_\", \"g\");\n\n    const splitArray = compact(\n      dosData\n        .replace(regExp, \"_\")\n        .replace(/&/g, \"|\")\n        .replace(/\\|es_/g, \"|\")\n        .replace(/\\n/g, \"\")\n        .split(this.delimiter)\n    );\n\n    const rawDict: { [name: string]: string } = fromPairs(\n      splitArray.map(elem => elem.split(\"=\"))\n    );\n    try {\n      const dict = this.fromOldCWToNewCW(rawDict);\n      const keyKind: string = dict[\"keyKind\"];\n      const blankFrame: number = parseInt(dict[\"blankFrame\"]);\n      const labels: number[] = dict[\"label\"]\n        .split(\",\")\n        .map((x: string) => parseInt(x));\n      const startNumbers: number[] = dict[\"startNumber\"]\n        .split(\",\")\n        .map((x: string) => parseFloat(x));\n      const bpms: number[] = dict[\"bpm\"]\n        .split(\",\")\n        .map((x: string) => parseFloat(x));\n      const scoreNumber: number = parseInt(dict[\"scoreNumber\"]);\n\n      const timings: Timing[] = labels.map((label, index) => ({\n        label,\n        startNum: startNumbers[index],\n        bpm: bpms[index]\n      }));\n      const scoreData: ScoreData = {\n        keyKind,\n        blankFrame,\n        timings,\n        scoreNumber,\n        scores: []\n      };\n      return this.calcScoreData(dict, timings, scoreData);\n    } catch {\n      return null;\n    }\n  }\n\n  private calcScoreData = (\n    dict: { [name: string]: string },\n    timings: Timing[],\n    scoreData: ScoreData\n  ) => {\n    const keyKind = scoreData.keyKind as KeyKind;\n    const scoreNumber = scoreData.scoreNumber as number;\n\n    const noteNames: string[] = this.keyConfig[keyKind].noteNames;\n    const freezeNames: string[] = this.keyConfig[keyKind].freezeNames;\n    const speedChangeNames: string[] =\n      \"speed_data\" in dict\n        ? [\"speed_data\", \"boost_data\"]\n        : [\"speed_change\", \"boost_data\"];\n\n    const [noteFrames, freezeFrames, speedChangeFrames]: number[][][] = [\n      noteNames,\n      freezeNames,\n      speedChangeNames\n    ].map(names =>\n      names\n        .map((keyNameWithNum: string) =>\n          keyNameWithNum.replace(scoreNumber.toString(), \"\")\n        )\n        .map((keyName: string) =>\n          dict[keyName]\n            .split(\",\")\n            .filter(x => x)\n            .map((x: string) => Number(x))\n        )\n    );\n\n    const maxFrame = Math.max(\n      this.findMaxNumber(noteFrames),\n      this.findMaxNumber(freezeFrames)\n    );\n    const maxPage = frameToPagePosition(\n      timings.slice(-1)[0],\n      maxFrame,\n      scoreData.blankFrame\n    ).page;\n    const noteScores = this.makeScores(noteFrames, timings, scoreData, maxPage);\n    const freezeScores = this.makeScores(\n      freezeFrames,\n      timings,\n      scoreData,\n      maxPage\n    );\n\n    const speedFrames = speedChangeFrames[0].filter((_, i) => i % 2 == 0);\n    const speedValues = speedChangeFrames[0].filter((_, i) => i % 2 == 1);\n    const boostFrames = speedChangeFrames[1].filter((_, i) => i % 2 == 0);\n    const boostValues = speedChangeFrames[1].filter((_, i) => i % 2 == 1);\n\n    const frameSpeeds: {\n      frame: number;\n      value: number;\n      type: SpeedType;\n    }[] = speedFrames\n      .map((frame, i) => {\n        return { frame, value: speedValues[i], type: \"speed\" as SpeedType };\n      })\n      .concat(\n        boostFrames.map((frame, i) => {\n          return { frame, value: boostValues[i], type: \"boost\" as SpeedType };\n        })\n      )\n      .sort((a, b) => a.frame - b.frame);\n\n    const speedsArr: Speed[][] = new Array(maxPage).fill([]).map(() => []);\n    frameSpeeds.forEach(frameSpeed => {\n      const frame = frameSpeed.frame;\n      const value = frameSpeed.value;\n      const type = frameSpeed.type;\n      const blankFrame = scoreData.blankFrame;\n      let labelCounter = 0;\n      while (\n        labelCounter + 1 < timings.length &&\n        frame >= timings[labelCounter + 1].startNum + blankFrame\n      ) {\n        labelCounter++;\n      }\n      const pagePosition = frameToPagePosition(\n        timings[labelCounter],\n        frame,\n        blankFrame\n      );\n      const page = pagePosition.page;\n      const position = pagePosition.position;\n      if (page >= 1 && position >= 0)\n        speedsArr[page - 1].push({ position, value, type });\n    });\n\n    const pageScores: PageScore[] = new Array(maxPage).fill({}).map((_, i) => {\n      return {\n        notes: noteScores[i],\n        freezes: freezeScores[i],\n        speeds: speedsArr[i]\n      };\n    });\n\n    scoreData.scores = pageScores;\n    return scoreData;\n  };\n\n  private findMaxNumber(frames: number[][]): number {\n    return frames.reduce(\n      (acc, curr) => Math.max(acc, curr.slice(-1)[0] | 0),\n      0\n    );\n  }\n\n  private makeScores(\n    frames: number[][],\n    timings: Timing[],\n    scoreData: ScoreData,\n    maxPage: number\n  ): number[][][] {\n    const laneLen = frames.length;\n    const blankFrame = scoreData.blankFrame;\n    const arr: number[][][] = new Array(maxPage).fill([]).map(() => {\n      return new Array(laneLen).fill([]).map(() => []);\n    });\n\n    frames.forEach((laneFrames, lane) => {\n      let labelCounter = 0;\n      laneFrames.forEach(frame => {\n        while (\n          labelCounter + 1 < timings.length &&\n          frame >= timings[labelCounter + 1].startNum + blankFrame\n        ) {\n          labelCounter++;\n        }\n        const pagePosition = frameToPagePosition(\n          timings[labelCounter],\n          frame,\n          blankFrame\n        );\n        const page = pagePosition.page;\n        const position = pagePosition.position;\n        if (page >= 1 && position >= 0) arr[page - 1][lane].push(position);\n      });\n    });\n\n    return arr;\n  }\n\n  private fromOldCWToNewCW(dict: {\n    [name: string]: string;\n  }): { [name: string]: string } {\n    try {\n      const difData: string[] = dict[\"difData\"].split(\",\");\n      const firstNum: number[] = dict[\"first_num\"]\n        .split(\",\")\n        .map((x: string) => Number(x));\n      const habaNum: number[] = dict[\"haba_num\"]\n        .split(\",\")\n        .map((x: string) => Number(x));\n      const habaPageNum: number[] = dict[\"haba_page_num\"]\n        .split(\",\")\n        .map((x: string) => Number(x));\n      dict.keyKind = difData[0];\n      dict.blankFrame = \"200\";\n      let counter = 0; // \n      dict.label = habaPageNum\n        .map(x => x * 2 + 1)\n        .map((x, i) => {\n          if (i != 0 && habaPageNum[i] - habaPageNum[i - 1]) counter++;\n          return Math.ceil(x + counter);\n        })\n        .join(\",\");\n      dict.startNumber = firstNum.map(x => x - 200).join(\",\");\n      dict.bpm = habaNum.map(x => 1800 / x).join(\",\");\n      const dictKeys = Object.keys(dict).join(\",\");\n      const regRes = /(\\d+)_/.exec(dictKeys);\n      dict.scoreNumber = regRes ? regRes[1] : \"1\";\n      return dict;\n    } catch {\n      return dict;\n    }\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"uk-modal-dialog\",attrs:{\"id\":\"editor-save\",\"uk-modal\":\"\",\"container\":\"#editor-controller\"}},[_c('button',{staticClass:\"uk-modal-close-default\",attrs:{\"type\":\"button\",\"uk-close\":\"\"}}),_c('h2',{staticClass:\"uk-modal-title\"},[_vm._v(\"Save\")]),_vm._m(0),_c('div',{staticClass:\"save-item-container\",attrs:{\"id\":\"save-key-phrase\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.inputKeyPhrase),expression:\"inputKeyPhrase\",modifiers:{\"trim\":true}}],staticClass:\"uk-input uk-form-small\",attrs:{\"type\":\"text\",\"max\":\"50\",\"list\":\"phrase-history\"},domProps:{\"value\":(_vm.inputKeyPhrase)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.inputKeyPhrase=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('datalist',{attrs:{\"id\":\"phrase-history\"}},_vm._l((_vm.phraseHistory),function(p){return _c('option',{key:p},[_vm._v(_vm._s(p))])}),0)]),_c('div',{staticClass:\"save-item-container\",staticStyle:{\"display\":\"flex\"}},[_c('div',{staticClass:\"save-output-btn btn-red\",on:{\"click\":_vm.submitPhrase}},[_vm._v(\"OK\")]),_c('div',{staticClass:\"save-output-btn btn-gray\",on:{\"click\":_vm.resetForm}},[_vm._v(\"RESET\")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"save-item-container\",attrs:{\"id\":\"save-key-phrase\"}},[_c('div',{staticClass:\"save-txt\"},[_vm._v(\" \"),_c('br'),_vm._v(\" () \")])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\n\r\ntype DataType = {\r\n  keyPhrase: string;\r\n  phraseHistory: string[];\r\n};\r\n\r\nexport default Vue.extend({\r\n  name: \"EditorOption\",\r\n  data(): DataType {\r\n    const phraseHistory: string[] = JSON.parse(\r\n      localStorage.getItem(\"keyPhrases\") || \"[]\"\r\n    );\r\n    return {\r\n      keyPhrase: \"\",\r\n      phraseHistory\r\n    };\r\n  },\r\n  computed: {\r\n    inputKeyPhrase: {\r\n      get(): string {\r\n        return this.keyPhrase;\r\n      },\r\n      set(keyPhrase: string) {\r\n        this.keyPhrase = keyPhrase;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    submitPhrase() {\r\n      const keyPhrase = this.keyPhrase;\r\n\r\n      const phrasesLengthMax = 10;\r\n      if (this.phraseHistory.includes(keyPhrase)) {\r\n        // keyPhrase\r\n        const arr = this.phraseHistory.filter(x => x !== keyPhrase);\r\n        arr.unshift(keyPhrase);\r\n        this.phraseHistory = arr;\r\n      } else {\r\n        this.phraseHistory.unshift(keyPhrase);\r\n        if (this.phraseHistory.length > phrasesLengthMax)\r\n          this.phraseHistory.pop();\r\n      }\r\n      localStorage.setItem(\"keyPhrases\", JSON.stringify(this.phraseHistory));\r\n\r\n      this.$emit(\"save\", keyPhrase);\r\n    },\r\n\r\n    resetForm() {\r\n      this.keyPhrase = \"\";\r\n    }\r\n  }\r\n});\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorSave.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorSave.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EditorSave.vue?vue&type=template&id=01fe0a46&\"\nimport script from \"./EditorSave.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditorSave.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\nimport EditorMain from \"./EditorMain.vue\";\r\nimport EditorOption from \"./EditorOption.vue\";\r\nimport { Timing } from \"../../model/Timing\";\r\nimport { ScoreData, DefaultScoreData } from \"../../model/ScoreData\";\r\nimport { ScoreConvertService } from \"./service/ScoreConvertService\";\r\nimport { LevelCalcService } from \"./service/LevelCalcService\";\r\nimport { CustomKeyKind } from \"../../model/KeyKind\";\r\nimport { CustomKeyConfig } from \"../../model/KeyConfig\";\r\nimport { fps, quarterInterval, verticalSizeNum } from \"./EditorConstant\";\r\nimport { createCustomKeyConfig } from \"../common/createCustomKeyConfig\";\r\nimport { DefaultPageScore } from \"@/model/PageScore\";\r\nimport { ScoreRevivalService } from \"./service/ScoreRevivalService\";\r\nimport EditorSave from \"./EditorSave.vue\";\r\n\r\ntype DataType = {\r\n  pageNum: number;\r\n  labelNum: number;\r\n  timing: Timing;\r\n  scoreData: ScoreData;\r\n  keyKind: CustomKeyKind;\r\n  keyConfig: CustomKeyConfig;\r\n  scoreNumber: number;\r\n  musicVolume: number;\r\n  musicRate: number;\r\n  scoreConvertService: ScoreConvertService;\r\n};\r\n\r\nexport default Vue.extend({\r\n  name: \"EditorController\",\r\n  components: {\r\n    EditorMain,\r\n    EditorOption,\r\n    EditorSave\r\n  },\r\n  props: {\r\n    selectedKey: String,\r\n    loadScoreDataStr: String,\r\n    loadMusicUrl: String\r\n  },\r\n  data(): DataType {\r\n    const keyConfig = createCustomKeyConfig();\r\n\r\n    let scoreData: ScoreData;\r\n    const storedKeyKind = sessionStorage.getItem(\"keyKind\");\r\n\r\n    const selectedKeyKind = (storedKeyKind ||\r\n      this.selectedKey) as CustomKeyKind;\r\n    const selectedKeyNum = keyConfig[selectedKeyKind].num;\r\n\r\n    const scoreRevivalService = new ScoreRevivalService(keyConfig);\r\n    try {\r\n      //TODO: \r\n      if (!this.loadScoreDataStr) {\r\n        scoreData = new DefaultScoreData(selectedKeyNum);\r\n      } else if (\r\n        scoreRevivalService.dosConvert(this.loadScoreDataStr) != null\r\n      ) {\r\n        scoreData = scoreRevivalService.dosConvert(\r\n          this.loadScoreDataStr\r\n        ) as ScoreData;\r\n      } else\r\n        scoreData = (JSON.parse(this.loadScoreDataStr) as unknown) as ScoreData;\r\n      if (scoreData.scores.length === 0) {\r\n        scoreData.scores.push(new DefaultPageScore(selectedKeyNum));\r\n      }\r\n    } catch {\r\n      alert(\"\");\r\n      scoreData = new DefaultScoreData(selectedKeyNum);\r\n    }\r\n\r\n    const keyKind = (scoreData.keyKind || selectedKeyKind) as CustomKeyKind;\r\n    scoreData.keyKind = keyKind;\r\n    sessionStorage.setItem(\"keyKind\", keyKind); // key\r\n\r\n    return {\r\n      pageNum: 1,\r\n      labelNum: 1,\r\n      timing: scoreData.timings[0],\r\n      scoreData,\r\n      keyKind,\r\n      keyConfig,\r\n      scoreNumber: scoreData.scoreNumber ? scoreData.scoreNumber : 1,\r\n      musicVolume: Number(localStorage.getItem(\"musicVolume\")) || 1.0,\r\n      musicRate: 1.0,\r\n      scoreConvertService: new ScoreConvertService(keyKind, keyConfig)\r\n    };\r\n  },\r\n  methods: {\r\n    pageMinus(n: number): void {\r\n      this.pageNum = Math.max(1, this.pageNum - n);\r\n    },\r\n    pagePlus(n: number): void {\r\n      this.pageNum += n;\r\n    },\r\n    pageJump(page: number): void {\r\n      this.pageNum = page;\r\n    },\r\n    labelMinus(n: number): void {\r\n      this.labelNum = Math.max(1, this.labelNum - n);\r\n      this.labelMove(this.labelNum);\r\n      this.pageNum = this.scoreData.timings[this.labelNum - 1].label;\r\n    },\r\n    labelPlus(n: number): void {\r\n      this.labelNum = Math.min(\r\n        this.scoreData.timings.length,\r\n        this.labelNum + n\r\n      );\r\n      this.labelMove(this.labelNum);\r\n      this.pageNum = this.scoreData.timings[this.labelNum - 1].label;\r\n    },\r\n    labelMove(labelNum: number): void {\r\n      const timing = this.scoreData.timings[labelNum - 1];\r\n      this.labelNum = labelNum;\r\n      this.timing = timing;\r\n    },\r\n    changeScoreData(scoreData: ScoreData) {\r\n      this.scoreData = scoreData;\r\n    },\r\n\r\n    writeClipBoard(data: string, message: string): void {\r\n      if (navigator.clipboard) {\r\n        navigator.clipboard.writeText(data);\r\n        alert(message);\r\n      }\r\n    },\r\n\r\n    convert(): void {\r\n      // NOTE: scoreNo\r\n      const postfix =\r\n        this.scoreData.scoreNumber !== 1 && this.scoreData.scoreNumber\r\n          ? this.scoreData.scoreNumber.toString()\r\n          : \"\";\r\n      const converter = this.scoreConvertService;\r\n      const data: string = converter.convert(this.scoreData, postfix);\r\n      const message = \"\";\r\n      this.writeClipBoard(data, message);\r\n\r\n      // \r\n      localStorage.setItem(\"saveData\", converter.save(this.scoreData));\r\n    },\r\n    async save(keyPhrase: string): Promise<void> {\r\n      if (keyPhrase) {\r\n        await this.onlineSave(keyPhrase);\r\n        const message = \"\";\r\n        alert(message);\r\n      } else if (keyPhrase === \"\") {\r\n        this.localSave();\r\n      }\r\n    },\r\n    localSave(): void {\r\n      const converter = this.scoreConvertService;\r\n      const data: string = converter.save(this.scoreData);\r\n      const message = \"\";\r\n      this.writeClipBoard(data, message);\r\n    },\r\n    async onlineSave(keyPhrase: string): Promise<void> {\r\n      const converter = this.scoreConvertService;\r\n      const data: string = converter.save(this.scoreData);\r\n\r\n      const xhr = new XMLHttpRequest();\r\n      const apiUrl =\r\n        \"https://asia-northeast1-danoni-editor-backend.cloudfunctions.net/addSaveData\";\r\n      xhr.open(\"POST\", apiUrl);\r\n      xhr.setRequestHeader(\"Content-Type\", \"application/json; charset=utf-8\");\r\n      xhr.send(JSON.stringify({ keyPhrase, data }));\r\n    },\r\n    convertWithQuarters(): void {\r\n      // NOTE: scoreNo\r\n      const postfix =\r\n        this.scoreData.scoreNumber !== 1 && this.scoreData.scoreNumber\r\n          ? this.scoreData.scoreNumber.toString()\r\n          : \"\";\r\n      const converter = this.scoreConvertService;\r\n      const data: string = converter.convertWithQuarters(\r\n        this.scoreData,\r\n        postfix\r\n      );\r\n      const message = \"\";\r\n      this.writeClipBoard(data, message);\r\n    },\r\n\r\n    displayScoreDataInfo(): void {\r\n      const levelChecker = new LevelCalcService();\r\n      const frameData = this.scoreConvertService.toFrameData(this.scoreData);\r\n      const outputData = this.scoreConvertService.framesToOutputData(frameData);\r\n      const scoreDataInfoStr = levelChecker.createScoreDataInfoStr(\r\n        outputData.notes,\r\n        outputData.freezes\r\n      );\r\n      alert(scoreDataInfoStr);\r\n    },\r\n\r\n    getLabelNumByPageNum(pageNum: number): number {\r\n      const labels = this.scoreData.timings.map(timing => timing.label);\r\n      return labels.indexOf(pageNum);\r\n    },\r\n    getNearestLabelNumByPageNum(pageNum: number): number {\r\n      const labels = this.scoreData.timings.map(timing => timing.label);\r\n      const labelNum = labels.reduce(\r\n        (acc, label) => (label <= pageNum ? acc + 1 : acc),\r\n        0\r\n      );\r\n      return labelNum;\r\n    },\r\n    labelOperation(pageNum: number, labelFlag: boolean): void {\r\n      if (labelFlag) {\r\n        // \r\n        const labelNum = this.getLabelNumByPageNum(pageNum);\r\n        this.scoreData.timings.splice(labelNum, 1);\r\n        this.labelNum--;\r\n        this.timing = this.scoreData.timings[this.labelNum - 1];\r\n      } else {\r\n        // \r\n        const oldTiming = this.timing;\r\n        const framePerPosition = (60 * fps) / quarterInterval / oldTiming.bpm;\r\n        const newStartNum =\r\n          Math.round(\r\n            (oldTiming.startNum +\r\n              (pageNum - oldTiming.label) *\r\n                verticalSizeNum *\r\n                framePerPosition) *\r\n              100\r\n          ) / 100;\r\n        const newTiming: Timing = {\r\n          label: pageNum,\r\n          startNum: newStartNum,\r\n          bpm: oldTiming.bpm\r\n        };\r\n        this.scoreData.timings.splice(this.labelNum, 0, newTiming);\r\n        this.timing = newTiming;\r\n        this.labelNum++;\r\n      }\r\n    },\r\n    callLabelOperation(): void {\r\n      const pageNum = this.pageNum;\r\n      const labelFlag = this.getLabelNumByPageNum(pageNum) !== -1;\r\n      this.labelOperation(pageNum, labelFlag);\r\n      this.pageNum = pageNum;\r\n    }\r\n  },\r\n  watch: {\r\n    pageNum(newPage: number) {\r\n      const labelNum = this.getNearestLabelNumByPageNum(newPage);\r\n      this.labelNum = labelNum;\r\n      this.labelMove(labelNum);\r\n    }\r\n  },\r\n  mounted() {\r\n    if (!this.scoreData.scoreNumber) this.scoreData.scoreNumber = 1;\r\n  }\r\n});\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorController.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorController.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EditorController.vue?vue&type=template&id=d9a9ab7c&\"\nimport script from \"./EditorController.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditorController.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\nimport EditorController from \"@/components/editor/EditorController.vue\";\r\n\r\nexport default Vue.extend({\r\n  name: \"Editor\",\r\n  components: {\r\n    EditorController\r\n  },\r\n  props: {\r\n    loadScoreDataStr: String,\r\n    loadMusicUrl: String,\r\n    selectedKey: String\r\n  },\r\n  beforeRouteLeave(to, from, next) {\r\n    const answer = window.confirm(\"\");\r\n    if (answer) next();\r\n    else next(false);\r\n  },\r\n\r\n  methods: {\r\n    beforeunloadAlert(event: BeforeUnloadEvent) {\r\n      event.returnValue = \"\";\r\n    }\r\n  },\r\n  created() {\r\n    window.addEventListener(\"beforeunload\", this.beforeunloadAlert);\r\n  },\r\n  destroyed() {\r\n    window.removeEventListener(\"beforeunload\", this.beforeunloadAlert);\r\n  }\r\n});\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Editor.vue?vue&type=template&id=71f92896&\"\nimport script from \"./Editor.vue?vue&type=script&lang=ts&\"\nexport * from \"./Editor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"start\"}},[_c('start-main')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"start-container\"}},[_c('start-load',{on:{\"load\":_vm.load}}),_c('div',{attrs:{\"id\":\"start-title\"}},[_vm._v(\"DancingOnigiri Editor\")]),_c('div',{attrs:{\"id\":\"start-menu\"}},[_c('start-uploader',{attrs:{\"msg\":_vm.musicTitle},on:{\"fileRecieve\":_vm.onMusicFileRecieve}}),_c('start-uploader',{attrs:{\"msg\":_vm.scoreTitle},on:{\"fileRecieve\":_vm.onScoreFileRecieve}}),_c('div',{attrs:{\"id\":\"start-go-next\"}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedKey),expression:\"selectedKey\"}],staticClass:\"uk-select uk-form-width-medium\",attrs:{\"id\":\"start-key-selector\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedKey=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.keyKinds),function(keyKind){return _c('option',{key:keyKind},[_vm._v(_vm._s(keyKind))])}),0),_c('router-link',{staticClass:\"start-btn btn-orange\",attrs:{\"to\":{\n          name: 'configure',\n          path: 'configure'\n        }}},[_vm._v(\"CONFIG\")]),_c('div',{staticClass:\"start-btn btn-blue\",attrs:{\"href\":\"#start-load\",\"uk-toggle\":\"\"}},[_vm._v(\"LOAD\")]),_c('router-link',{staticClass:\"start-btn btn-red\",attrs:{\"to\":{\n          name: 'editor',\n          path: 'editor',\n          params: {\n            scoreData: _vm.scoreDataStr,\n            musicUrl: _vm.musicUrl,\n            key: _vm.selectedKey\n          }\n        }}},[_vm._v(\"START\")])],1),_c('div',{attrs:{\"id\":\"start-version\"}},[_vm._v(\"ver 3.1.1 created by SKB\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"start-uploader\",on:{\"dragover\":function($event){$event.preventDefault();return _vm.ondragover.apply(null, arguments)},\"drop\":function($event){$event.preventDefault();return _vm.ondrop.apply(null, arguments)}}},[_c('div',{staticClass:\"uk-placeholder uk-text-center uk-margin-remove-bottom start-droparea\",attrs:{\"uk-form-custom\":\"\"}},[_c('input',{ref:\"input\",attrs:{\"type\":\"file\"},on:{\"change\":_vm.loadFile}}),_c('span',{attrs:{\"uk-icon\":\"icon: upload\"}}),_c('span',{staticClass:\"uk-text-middle\"},[_vm._v(\" \"+_vm._s(_vm.msg)+\" \")]),_c('span',{staticClass:\"uk-text-middle uk-link\"},[_vm._v(\"\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\n\r\ntype DataType = {\r\n  vue: Vue;\r\n  file: File | null;\r\n};\r\n\r\nexport default Vue.extend({\r\n  name: \"StartUploader\",\r\n  props: {\r\n    msg: String\r\n  },\r\n  data(): DataType {\r\n    return {\r\n      vue: this,\r\n      file: null\r\n    };\r\n  },\r\n  methods: {\r\n    ondragover(e: DragEvent): void {\r\n      if (e.dataTransfer) e.dataTransfer.dropEffect = \"copy\";\r\n    },\r\n    ondrop(e: DragEvent): void {\r\n      if (e.dataTransfer) {\r\n        const file = e.dataTransfer.files[0] || null;\r\n        this.file = file;\r\n      } else {\r\n        this.file = null;\r\n      }\r\n    },\r\n    loadFile(e: Event): void {\r\n      if (e.target instanceof HTMLInputElement) {\r\n        const file = e.target.files ? e.target.files[0] : null;\r\n        this.file = file;\r\n      } else {\r\n        this.file = null;\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    file(newFile: File | null) {\r\n      if (!(newFile === null)) {\r\n        this.$emit(\"fileRecieve\", newFile);\r\n      } else {\r\n        alert(\"\");\r\n      }\r\n    }\r\n  }\r\n});\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StartUploader.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StartUploader.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StartUploader.vue?vue&type=template&id=2734a9a6&\"\nimport script from \"./StartUploader.vue?vue&type=script&lang=ts&\"\nexport * from \"./StartUploader.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"uk-modal-dialog\",attrs:{\"id\":\"start-load\",\"uk-modal\":\"\",\"container\":\"#start-container\"}},[_c('button',{staticClass:\"uk-modal-close-default\",attrs:{\"type\":\"button\",\"uk-close\":\"\"}}),_c('h2',{staticClass:\"uk-modal-title\"},[_vm._v(\"Load\")]),_vm._m(0),_c('div',{staticClass:\"save-item-container\",attrs:{\"id\":\"save-key-phrase\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.inputKeyPhrase),expression:\"inputKeyPhrase\",modifiers:{\"trim\":true}}],staticClass:\"uk-input uk-form-small\",attrs:{\"type\":\"text\",\"max\":\"50\",\"list\":\"phrase-history\"},domProps:{\"value\":(_vm.inputKeyPhrase)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.inputKeyPhrase=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('datalist',{attrs:{\"id\":\"phrase-history\"}},_vm._l((_vm.phraseHistory),function(p){return _c('option',{key:p},[_vm._v(_vm._s(p))])}),0)]),_c('div',{staticClass:\"save-item-container\",staticStyle:{\"display\":\"flex\"}},[_c('div',{staticClass:\"save-output-btn btn-red\",on:{\"click\":_vm.submitPhrase}},[_vm._v(\"OK\")]),_c('div',{staticClass:\"save-output-btn btn-gray\",on:{\"click\":_vm.resetForm}},[_vm._v(\"RESET\")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"save-item-container\",attrs:{\"id\":\"save-key-phrase\"}},[_c('div',{staticClass:\"save-txt\"},[_vm._v(\" \"),_c('br'),_vm._v(\" () \")])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\n\r\ntype DataType = {\r\n  keyPhrase: string;\r\n  phraseHistory: string[];\r\n};\r\n\r\nexport default Vue.extend({\r\n  name: \"EditorOption\",\r\n  data(): DataType {\r\n    const phraseHistory: string[] = JSON.parse(\r\n      localStorage.getItem(\"keyPhrases\") || \"[]\"\r\n    );\r\n    return {\r\n      keyPhrase: \"\",\r\n      phraseHistory\r\n    };\r\n  },\r\n  computed: {\r\n    inputKeyPhrase: {\r\n      get(): string {\r\n        return this.keyPhrase;\r\n      },\r\n      set(keyPhrase: string) {\r\n        this.keyPhrase = keyPhrase;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    submitPhrase() {\r\n      const keyPhrase = this.keyPhrase;\r\n      this.$emit(\"load\", keyPhrase);\r\n    },\r\n    resetForm() {\r\n      this.keyPhrase = \"\";\r\n    }\r\n  }\r\n});\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StartLoad.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StartLoad.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StartLoad.vue?vue&type=template&id=10e14aa3&\"\nimport script from \"./StartLoad.vue?vue&type=script&lang=ts&\"\nexport * from \"./StartLoad.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\nimport StartUploader from \"./StartUploader.vue\";\r\nimport { CustomKeyKind } from \"@/model/KeyKind\";\r\nimport { CustomKeyConfig } from \"../../model/KeyConfig\";\r\nimport { createCustomKeyConfig } from \"../common/createCustomKeyConfig\";\r\nimport StartLoad from \"./StartLoad.vue\";\r\n\r\ntype DataType = {\r\n  keyConfig: CustomKeyConfig;\r\n  musicTitle: string;\r\n  scoreTitle: string;\r\n  selectedKey: CustomKeyKind;\r\n  musicUrl: string | null;\r\n  scoreDataStr: string | null;\r\n};\r\n\r\nexport default Vue.extend({\r\n  name: \"StartMain\",\r\n  components: {\r\n    StartUploader,\r\n    StartLoad\r\n  },\r\n  data(): DataType {\r\n    const keyConfig = createCustomKeyConfig();\r\n\r\n    return {\r\n      keyConfig,\r\n      musicTitle: \"\",\r\n      scoreTitle: \"\",\r\n      selectedKey: \"5\",\r\n      musicUrl: null,\r\n      scoreDataStr: null\r\n    };\r\n  },\r\n  computed: {\r\n    keyKinds(): CustomKeyKind[] {\r\n      const keyConfig = this.keyConfig as CustomKeyConfig;\r\n      const keys = Object.keys(keyConfig) as CustomKeyKind[];\r\n      keys.sort((a, b) => keyConfig[a].id - keyConfig[b].id);\r\n      return keys;\r\n    },\r\n\r\n    localSaveDataStr(): string {\r\n      return localStorage.getItem(\"saveData\") ?? \"\";\r\n    }\r\n  },\r\n  methods: {\r\n    onMusicFileRecieve(file: File) {\r\n      const mimeTypePattern = \"audio.*\";\r\n      if (!file.type.match(mimeTypePattern))\r\n        alert(\"\");\r\n      else {\r\n        const reader = new FileReader();\r\n        reader.onload = () => {\r\n          const result = reader.result;\r\n          if (typeof result == \"string\") {\r\n            this.musicUrl = result;\r\n            this.musicTitle = file.name;\r\n          }\r\n        };\r\n        reader.readAsDataURL(file);\r\n      }\r\n    },\r\n    onScoreFileRecieve(file: File) {\r\n      const mimeTypePattern = \"(application/json|text/plain)\";\r\n      if (!file.type.match(mimeTypePattern))\r\n        alert(\"\");\r\n      else {\r\n        const reader = new FileReader();\r\n        reader.onload = () => {\r\n          const result = reader.result;\r\n          if (typeof result == \"string\") {\r\n            this.scoreDataStr = result;\r\n            this.scoreTitle = file.name;\r\n          }\r\n        };\r\n        reader.readAsText(file);\r\n      }\r\n    },\r\n    moveToEditor(scoreData: string, musicUrl: string, key: string) {\r\n      this.$router.push({\r\n        name: \"editor\",\r\n        path: \"editor\",\r\n        params: { scoreData, musicUrl, key }\r\n      });\r\n    },\r\n    async loadData(keyPhrase: string) {\r\n      const apiUrl = `https://asia-northeast1-danoni-editor-backend.cloudfunctions.net/getSaveData?keyPhrase=${keyPhrase}`;\r\n      const response = await fetch(apiUrl);\r\n      const json = await response.json();\r\n      return JSON.stringify(json.data || \"\");\r\n    },\r\n    async load(keyPhrase: string): Promise<void> {\r\n      if (keyPhrase === null) return;\r\n      else if (keyPhrase === \"\")\r\n        this.moveToEditor(\r\n          this.localSaveDataStr,\r\n          this.musicUrl || \"\",\r\n          this.selectedKey\r\n        );\r\n      else {\r\n        try {\r\n          const save = await this.loadData(keyPhrase);\r\n          // \r\n          const scoreData = save\r\n            .replaceAll('\\\\\"', '\"')\r\n            .slice(1)\r\n            .slice(0, -1);\r\n          this.moveToEditor(scoreData, this.musicUrl || \"\", this.selectedKey);\r\n        } catch {\r\n          alert(\"\");\r\n        }\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    sessionStorage.removeItem(\"keyKind\");\r\n  }\r\n});\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StartMain.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StartMain.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StartMain.vue?vue&type=template&id=f780d06e&\"\nimport script from \"./StartMain.vue?vue&type=script&lang=ts&\"\nexport * from \"./StartMain.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\nimport StartMain from \"@/components/start/StartMain.vue\";\r\n\r\nexport default Vue.extend({\r\n  name: \"Start\",\r\n  components: {\r\n    StartMain\r\n  }\r\n});\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Start.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Start.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Start.vue?vue&type=template&id=68ad6a46&\"\nimport script from \"./Start.vue?vue&type=script&lang=ts&\"\nexport * from \"./Start.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"configure\"}},[_c('configure-main')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"configure-container\"}},[_vm._m(0),_c('h3',{staticClass:\"configure-context-title\"},[_vm._v(\"Key Config\")]),_c('div',{attrs:{\"id\":\"configure-uploader\"}},[_c('configure-uploader',{attrs:{\"msg\":_vm.confTitle},on:{\"fileRecieve\":_vm.onConfFileRecieve}}),_c('div',{staticClass:\"start-btn btn-gray\",on:{\"click\":_vm.resetConf}},[_vm._v(\"RESET\")])],1),_c('configure-design'),_c('div',{attrs:{\"id\":\"start-go-next\"}},[_c('router-link',{staticClass:\"start-btn btn-blue\",attrs:{\"to\":{\n        name: 'start',\n        path: '/'\n      }}},[_vm._v(\"BACK\")])],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"configure-title\"}},[_c('h2',[_vm._v(\"Configure\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"configure-conf-select\"},on:{\"dragover\":function($event){$event.preventDefault();return _vm.ondragover.apply(null, arguments)},\"drop\":function($event){$event.preventDefault();return _vm.ondrop.apply(null, arguments)}}},[_c('div',{staticClass:\"uk-placeholder uk-text-center uk-margin-remove-bottom uk-form-width-medium\",attrs:{\"uk-form-custom\":\"\",\"id\":\"configure-droparea\"}},[_c('input',{ref:\"input\",attrs:{\"type\":\"file\",\"id\":\"configure-droparea-input\"},on:{\"change\":_vm.loadFile}}),_c('div',{attrs:{\"id\":\"configure-droparea-text\"}},[_c('span',{attrs:{\"uk-icon\":\"icon: upload\"}}),_c('span',{staticClass:\"uk-text-middle\"},[_vm._v(_vm._s(_vm.msg))]),_c('span',{staticClass:\"uk-text-middle uk-link\"},[_vm._v(\"\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\n\r\ntype DataType = {\r\n  vue: Vue;\r\n  file: File | null;\r\n};\r\n\r\nexport default Vue.extend({\r\n  name: \"ConfigureUploader\",\r\n  props: {\r\n    msg: String\r\n  },\r\n  data(): DataType {\r\n    return {\r\n      vue: this,\r\n      file: null\r\n    };\r\n  },\r\n  methods: {\r\n    ondragover(e: DragEvent): void {\r\n      if (e.dataTransfer) e.dataTransfer.dropEffect = \"copy\";\r\n    },\r\n    ondrop(e: DragEvent): void {\r\n      if (e.dataTransfer) {\r\n        const file = e.dataTransfer.files[0] || null;\r\n        this.file = file;\r\n      } else {\r\n        this.file = null;\r\n      }\r\n    },\r\n    loadFile(e: Event): void {\r\n      if (e.target instanceof HTMLInputElement) {\r\n        const file = e.target.files ? e.target.files[0] : null;\r\n        this.file = file;\r\n      } else {\r\n        this.file = null;\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    file(newFile: File | null) {\r\n      if (!(newFile === null)) {\r\n        this.$emit(\"fileRecieve\", newFile);\r\n      } else {\r\n        alert(\"\");\r\n      }\r\n    }\r\n  }\r\n});\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfigureUploader.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfigureUploader.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ConfigureUploader.vue?vue&type=template&id=54d224da&\"\nimport script from \"./ConfigureUploader.vue?vue&type=script&lang=ts&\"\nexport * from \"./ConfigureUploader.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h3',{staticClass:\"configure-context-title\"},[_vm._v(\"Options\")]),_c('div',{staticClass:\"configure-design-item\"},[_c('div',{staticClass:\"configure-design-text\"},[_vm._v(\"Direction:\")]),_c('div',{staticClass:\"configure-options\"},[_c('div',{staticClass:\"configure-radio\"},[_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.isReverse),expression:\"isReverse\"}],staticClass:\"uk-radio\",attrs:{\"type\":\"radio\",\"name\":\"editor-direction\"},domProps:{\"value\":false,\"checked\":_vm._q(_vm.isReverse,false)},on:{\"change\":function($event){_vm.isReverse=false}}}),_vm._v(\"Upward \")])]),_c('div',{staticClass:\"configure-radio\"},[_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.isReverse),expression:\"isReverse\"}],staticClass:\"uk-radio\",attrs:{\"type\":\"radio\",\"name\":\"editor-direction\"},domProps:{\"value\":true,\"checked\":_vm._q(_vm.isReverse,true)},on:{\"change\":function($event){_vm.isReverse=true}}}),_vm._v(\"Downward \")])])])]),_c('div',{staticClass:\"configure-design-item\"},[_c('div',{staticClass:\"configure-design-text\"},[_vm._v(\"Freeze Highlight:\")]),_c('div',{staticClass:\"configure-options\"},[_c('div',{staticClass:\"configure-radio\"},[_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.isHighlightedFreeze),expression:\"isHighlightedFreeze\"}],staticClass:\"uk-radio\",attrs:{\"type\":\"radio\",\"name\":\"editor-highlighted-freeze\"},domProps:{\"value\":true,\"checked\":_vm._q(_vm.isHighlightedFreeze,true)},on:{\"change\":function($event){_vm.isHighlightedFreeze=true}}}),_c('span',{staticClass:\"configure-radio-text\"},[_vm._v(\"On\")])])]),_c('div',{staticClass:\"configure-radio\"},[_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.isHighlightedFreeze),expression:\"isHighlightedFreeze\"}],staticClass:\"uk-radio\",attrs:{\"type\":\"radio\",\"name\":\"editor-highlighted-freeze\"},domProps:{\"value\":false,\"checked\":_vm._q(_vm.isHighlightedFreeze,false)},on:{\"change\":function($event){_vm.isHighlightedFreeze=false}}}),_c('span',{staticClass:\"configure-radio-text\"},[_vm._v(\"Off\")])])])])]),_c('div',{staticClass:\"configure-design-item\"},[_c('div',{staticClass:\"configure-design-text-long\"},[_vm._v(\" Simultaneous Threshold(msec): \")]),_c('div',{staticClass:\"configure-options\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.simultaneousThreshold),expression:\"simultaneousThreshold\",modifiers:{\"number\":true}}],staticClass:\"uk-input uk-form-small\",attrs:{\"type\":\"number\",\"min\":\"-1\",\"max\":\"1000\",\"step\":\"1\"},domProps:{\"value\":(_vm.simultaneousThreshold)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.simultaneousThreshold=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\n\r\nexport default Vue.extend({\r\n  name: \"ConfigureDesign\",\r\n  data() {\r\n    return {\r\n      simultaneousThreshold: 0\r\n    };\r\n  },\r\n  mounted() {\r\n    this.simultaneousThreshold = JSON.parse(\r\n      localStorage.getItem(\"simultaneousThreshold\") ?? \"30\"\r\n    );\r\n  },\r\n  watch: {\r\n    simultaneousThreshold(newValue) {\r\n      localStorage.setItem(\"simultaneousThreshold\", JSON.stringify(newValue));\r\n    }\r\n  },\r\n  computed: {\r\n    isReverse: {\r\n      get(): boolean {\r\n        const isReverseStr: string =\r\n          localStorage.getItem(\"isReverse\") ?? \"false\";\r\n        return JSON.parse(isReverseStr);\r\n      },\r\n\r\n      set(newValue: boolean): boolean {\r\n        localStorage.setItem(\"isReverse\", JSON.stringify(newValue));\r\n        return newValue;\r\n      }\r\n    },\r\n\r\n    isHighlightedFreeze: {\r\n      get(): boolean {\r\n        const isHighlightedFreezeStr: string =\r\n          localStorage.getItem(\"isHighlightedFreeze\") ?? \"true\";\r\n        return JSON.parse(isHighlightedFreezeStr);\r\n      },\r\n\r\n      set(newValue: boolean): boolean {\r\n        localStorage.setItem(\"isHighlightedFreeze\", JSON.stringify(newValue));\r\n        return newValue;\r\n      }\r\n    }\r\n  }\r\n});\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfigureDesign.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfigureDesign.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ConfigureDesign.vue?vue&type=template&id=cf410954&\"\nimport script from \"./ConfigureDesign.vue?vue&type=script&lang=ts&\"\nexport * from \"./ConfigureDesign.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\nimport ConfigureUploader from \"./ConfigureUploader.vue\";\r\nimport ConfigureDesign from \"./ConfigureDesign.vue\";\r\n\r\nexport default Vue.extend({\r\n  name: \"ConfigureMain\",\r\n  components: {\r\n    ConfigureUploader,\r\n    ConfigureDesign\r\n  },\r\n  data() {\r\n    return {\r\n      confTitle: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    onConfFileRecieve(file: File) {\r\n      const storage = localStorage;\r\n      const mimeTypePattern = \"(application/json|text/plain)\";\r\n      if (!file.type.match(mimeTypePattern))\r\n        alert(\"\");\r\n      else {\r\n        const reader = new FileReader();\r\n        reader.onload = () => {\r\n          const result = reader.result;\r\n          if (typeof result == \"string\") {\r\n            try {\r\n              JSON.parse(result);\r\n              storage.setItem(\"customKeyConfig\", result);\r\n              alert(\"\");\r\n            } catch {\r\n              alert(\"JSON\");\r\n            }\r\n          }\r\n        };\r\n        reader.readAsText(file);\r\n      }\r\n    },\r\n\r\n    resetConf() {\r\n      const storage = localStorage;\r\n      storage.removeItem(\"customKeyConfig\");\r\n      alert(\"\");\r\n    }\r\n  }\r\n});\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfigureMain.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfigureMain.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ConfigureMain.vue?vue&type=template&id=6121c6e8&\"\nimport script from \"./ConfigureMain.vue?vue&type=script&lang=ts&\"\nexport * from \"./ConfigureMain.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\nimport ConfigureMain from \"@/components/configure/ConfigureMain.vue\";\r\n\r\nexport default Vue.extend({\r\n  name: \"Configure\",\r\n  components: {\r\n    ConfigureMain\r\n  }\r\n});\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Configure.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Configure.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Configure.vue?vue&type=template&id=7b07ae4e&\"\nimport script from \"./Configure.vue?vue&type=script&lang=ts&\"\nexport * from \"./Configure.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\r\nimport Editor from \"./pages/Editor.vue\";\r\nimport Start from \"./pages/Start.vue\";\r\nimport Configure from \"./pages/Configure.vue\";\r\nimport Router from \"vue-router\";\r\nimport { CustomKeyKind } from \"./model/KeyKind\";\r\n\r\nVue.config.productionTip = false;\r\n\r\nVue.use(Router);\r\n\r\ntype PropsType = {\r\n  loadScoreDataStr: string;\r\n  loadMusicUrl: string;\r\n  selectedKey: CustomKeyKind;\r\n};\r\n\r\nexport default new Router({\r\n  routes: [\r\n    {\r\n      path: \"/\",\r\n      name: \"start\",\r\n      component: Start\r\n    },\r\n    {\r\n      path: \"/editor\",\r\n      name: \"editor\",\r\n      component: Editor,\r\n      props(routes): PropsType {\r\n        return {\r\n          loadScoreDataStr: routes.params.scoreData,\r\n          loadMusicUrl: routes.params.musicUrl,\r\n          selectedKey: (routes.params.key || \"7\") as CustomKeyKind\r\n        };\r\n      }\r\n    },\r\n    {\r\n      path: \"/configure\",\r\n      name: \"configure\",\r\n      component: Configure\r\n    }\r\n  ]\r\n});\r\n","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport UIkit from \"uikit\";\nimport Icons from \"uikit/dist/js/uikit-icons\";\n\nimport \"uikit/dist/css/uikit.min.css\";\nimport \"uikit/dist/css/uikit-core.min.css\";\n\nimport sourceMapSupport from \"source-map-support\";\n\nsourceMapSupport.install();\n\nUIkit.use(Icons);\n\nVue.config.productionTip = false;\n\nnew Vue({\n  router,\n  render: h => h(App)\n}).$mount(\"#app\");\n"],"sourceRoot":""}