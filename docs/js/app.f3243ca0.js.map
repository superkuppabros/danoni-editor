{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?2064","webpack:///./src/App.vue","webpack:///./src/App.vue?96b3","webpack:///./src/App.vue?a286","webpack:///./src/pages/Editor.vue?05eb","webpack:///./src/components/editor/EditorController.vue?3776","webpack:///./src/components/editor/EditorMain.vue?bd80","webpack:///./src/model/PageScore.ts","webpack:///./src/components/editor/EditorConstant.ts","webpack:///./src/components/editor/service/MusicService.ts","webpack:///./src/components/editor/helper/toPx.ts","webpack:///./src/components/editor/service/NoteService.ts","webpack:///./src/components/editor/service/SpeedPieceService.ts","webpack:///./src/components/editor/service/PageScoreService.ts","webpack:///./src/components/editor/helper/Calculator.ts","webpack:///./src/components/editor/service/CurrentPositionService.ts","webpack:///./src/components/editor/SpeedPiece.vue?cd7b","webpack:///./src/components/editor/SpeedPiece.vue","webpack:///./src/components/editor/SpeedPiece.vue?b675","webpack:///./src/components/editor/SpeedPiece.vue?1995","webpack:///./src/model/KeyConfig.ts","webpack:///./src/components/common/createCustomKeyConfig.ts","webpack:///./src/components/editor/EditorMain.vue","webpack:///./src/components/editor/EditorMain.vue?7838","webpack:///./src/components/editor/EditorMain.vue?7b67","webpack:///./src/components/editor/EditorOption.vue?e8da","webpack:///./src/components/editor/EditorOption.vue","webpack:///./src/components/editor/EditorOption.vue?55c1","webpack:///./src/components/editor/EditorOption.vue?133b","webpack:///./src/model/ScoreData.ts","webpack:///./src/components/editor/service/ScoreConvertService.ts","webpack:///./src/components/editor/service/LevelCalcService.ts","webpack:///./src/components/editor/EditorController.vue","webpack:///./src/components/editor/EditorController.vue?c5dc","webpack:///./src/components/editor/EditorController.vue?280c","webpack:///./src/pages/Editor.vue","webpack:///./src/pages/Editor.vue?9ca7","webpack:///./src/pages/Editor.vue?983f","webpack:///./src/pages/Start.vue?6e33","webpack:///./src/components/start/StartMain.vue?7c5e","webpack:///./src/components/start/StartUploader.vue?bc18","webpack:///./src/components/start/StartUploader.vue","webpack:///./src/components/start/StartUploader.vue?0c8c","webpack:///./src/components/start/StartUploader.vue?5c4e","webpack:///./src/components/start/StartMain.vue","webpack:///./src/components/start/StartMain.vue?834a","webpack:///./src/components/start/StartMain.vue?9ff1","webpack:///./src/pages/Start.vue","webpack:///./src/pages/Start.vue?249f","webpack:///./src/pages/Start.vue?dbc7","webpack:///./src/pages/Configure.vue?5bd9","webpack:///./src/components/configure/ConfigureMain.vue?e246","webpack:///./src/components/configure/ConfigureUploader.vue?7c40","webpack:///./src/components/configure/ConfigureUploader.vue","webpack:///./src/components/configure/ConfigureUploader.vue?9e7e","webpack:///./src/components/configure/ConfigureUploader.vue?ad6c","webpack:///./src/components/configure/ConfigureDesign.vue?eab2","webpack:///./src/components/configure/ConfigureDesign.vue","webpack:///./src/components/configure/ConfigureDesign.vue?e012","webpack:///./src/components/configure/ConfigureDesign.vue?33a6","webpack:///./src/components/configure/ConfigureMain.vue","webpack:///./src/components/configure/ConfigureMain.vue?cb8f","webpack:///./src/components/configure/ConfigureMain.vue?92ce","webpack:///./src/pages/Configure.vue","webpack:///./src/pages/Configure.vue?f052","webpack:///./src/pages/Configure.vue?0491","webpack:///./src/router.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_h","$createElement","_c","_self","staticRenderFns","extend","component","attrs","selectedKey","loadScoreDataStr","loadMusicUrl","pageNum","scoreData","keyConfig","keyKind","timing","scoreNumber","musicVolume","musicRate","on","pageMinus","pagePlus","$event","staticClass","_m","_v","_s","ref","domProps","getLabelNumByPageNum","callLabelOperation","labelMinus","labelNum","labelPlus","directives","rawName","expression","modifiers","target","composing","$set","_n","$forceUpdate","convertWithQuarters","save","displayScoreDataInfo","convert","preventDefault","keydownAction","_l","scores","page","speed","index","position","type","isReverse","model","callback","$$v","keyNum","notes","Array","fill","map","freezes","speeds","noteWidth","noteHeight","verticalSizeNum","editorHeight","quarterInterval","fps","canvasMarginHorizontal","canvasMarginVertical","noteColors","freezeColors","laneColors","audio","load","play","startTime","volume","playbackRate","duration","currentTime","setTimeout","pause","timer","clearTimeout","toPx","pos","stage","notesLayer","num","hasNote","lane","pageScore","isFreeze","includes","exists","add","remove","removedFreezes","filter","removedNotes","draw","colorGroup","color","note","Rect","x","y","width","height","id","clear","findOne","destroy","removeOnPosition","removedLanes","currentPosition","delta","newPosition","newPage","forEach","obj","editorWidth","hasSpeedPiece","some","radius","triangle","RegularPolygon","sides","rotation","copyScoreStore","displayPageScore","copy","cloneDeep","cut","DefaultPageScore","paste","positionToFrame","blankFrame","framePerPosition","bpm","startFrame","startNum","label","positionToSeconds","secondsToTimeStr","seconds","mm","Math","floor","sec","ss","currentPositionLayer","changeCurrentPosition","yValue","maybeLine","line","Line","points","stroke","strokeWidth","maybeTriangle","currentFrame","round","currentSeconds","currentTimeStr","displayedText","textWidth","textHeight","maybeText","text","Text","fontSize","align","move","musicAnimate","node","currentPositionLine","tween","Tween","style","top","inputValue","prop","event","props","Boolean","Number","propValue","String","computed","set","$emit","DefaultKeyConfig","keys","alternativeKeys","noteNames","freezeNames","createCustomKeyConfig","customKeyConfigStr","localStorage","getItem","JSON","parse","assign","loadScoreData","propScoreNumber","components","SpeedPiece","storedKeyKind","sessionStorage","setItem","Audio","isReverseStr","divisor","musicService","MusicService","musicTimer","currentPositionService","undefined","methods","baseLayerDraw","baseLayer","destroyChildren","xPos","filler","yPos","rect","playMusicLoop","startPosition","endPosition","endTime","loop","playDuration","stopMusicLoop","noteService","speedPieceService","laneArr","pageMove","changeDivisor","currentPositionIncrease","currentPositionDecrese","e","pageScoreService","positionLineMove","isRaise","ctrlKey","code","shiftKey","speedType","possiblyLane","max","indexOf","mounted","Stage","container","Layer","watch","inputScoreNumber","inputMusicVolume","inputMusicRate","timings","defaultPageScore","toFrameData","initialPageScore","sort","a","b","labelCounter","maxPageNum","frameScores","pageNoteFrames","notesArr","freezeNoteFrames","freezesArr","speedsNoteFrames","newSpeed","framesToOutputData","initialData","boosts","outputData","reduce","currentPage","concat","scorePostfix","noteStr","str","laneNum","join","freezeStr","speedStr","boostStr","replace","cutLastDefault","len","copiedScoreData","isEqual","pop","quarterNotes","pushQuartersPageNum","pushQuartersLane","newScoreData","quartersPageScore","stringify","calcFlattenData","noteFrames","freezeFrames","flattenData","allScorebook","frzStartData","frzEndData","laneFreezes","flattenDeep","calcLaneContinuous","laneContinuous","frames","_value","acc","continuousFrame","diff","adj","calcAdjustValue","unshift","currentFrzNum","uniqueScorebook","uniq","scoreDataInfo","level","single","double","overTriple","frame","decreaseFrzNum","f","hitsNum","min","doubleAdj","singleAdj","increaseFrzNum","calcLevel","totalNotes","adjFunc","sqrt","totalAdj","tripleCorrectedLevel","roundedLevel","countNotes","notesCountArr","freezesCountArr","createScoreDataInfoStr","levelStr","doubleStr","continuousStr","arrowsCount","sum","totalfreezes","arrowNumStr","notesStr","freezesStr","dataInfoStr","EditorMain","EditorOption","alert","scoreConvertService","labelMove","changeScoreData","writeClipBoard","message","navigator","clipboard","writeText","postfix","toString","converter","levelChecker","frameData","scoreDataInfoStr","labels","getNearestLabelNumByPageNum","labelOperation","labelFlag","oldTiming","newStartNum","newTiming","EditorController","beforeRouteLeave","to","from","next","answer","confirm","beforeunloadAlert","returnValue","created","addEventListener","destroyed","removeEventListener","musicTitle","onMusicFileRecieve","scoreTitle","onScoreFileRecieve","$$selectedVal","options","selected","val","multiple","path","params","localSaveDataStr","musicUrl","scoreDataStr","ondragover","ondrop","loadFile","msg","vue","file","dataTransfer","dropEffect","files","HTMLInputElement","newFile","StartUploader","keyKinds","mimeTypePattern","match","FileReader","onload","readAsDataURL","readAsText","removeItem","StartMain","confTitle","onConfFileRecieve","resetConf","_q","newValue","ConfigureUploader","ConfigureDesign","storage","ConfigureMain","config","productionTip","use","routes","Start","Editor","Configure","router","h","App","$mount"],"mappings":"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,QAEFC,gBAAiB,CAAC,GAAI,GAAI,GAAI,GAAI,OAAQ,GAAI,GAAI,OAAQ,IAC1DC,UAAW,CACT,YACA,YACA,UACA,aACA,aACA,aACA,aACA,WACA,eAEFC,YAAa,CACX,eACA,eACA,aACA,gBACA,gBACA,gBACA,gBACA,cACA,kBAEF/F,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGvC,GAAM,CACJQ,GAAI,EACJrB,IAAK,GACLyG,KAAM,CACJ,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,SACA,QAEFC,gBAAiB,CAAC,GAAI,GAAI,GAAI,OAAQ,GAAI,GAAI,GAAI,GAAI,GAAI,SAAU,IACpEC,UAAW,CACT,YACA,eACA,YACA,aACA,UACA,gBACA,aACA,aACA,aACA,WACA,eAEFC,YAAa,CACX,eACA,eACA,eACA,gBACA,aACA,eACA,gBACA,gBACA,gBACA,cACA,kBAEF/F,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAG7C,MAAO,CACLQ,GAAI,EACJrB,IAAK,GACLyG,KAAM,CACJ,OACA,OACA,SACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QAEFC,gBAAiB,CAAC,GAAI,GAAI,SAAU,GAAI,GAAI,GAAI,GAAI,OAAQ,GAAI,GAAI,IACpEC,UAAW,CACT,aACA,aACA,WACA,cACA,YACA,eACA,YACA,aACA,UACA,gBACA,cAEFC,YAAa,CACX,gBACA,gBACA,cACA,iBACA,eACA,eACA,eACA,gBACA,aACA,eACA,iBAEF/F,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAG7C,MAAO,CACLQ,GAAI,GACJrB,IAAK,GACLyG,KAAM,CACJ,OACA,OACA,OACA,OACA,OACA,OACA,OACA,SACA,OACA,OACA,UAEFC,gBAAiB,CACf,GACA,GACA,GACA,OACA,GACA,GACA,GACA,SACA,GACA,GACA,SAEFC,UAAW,CACT,YACA,eACA,YACA,aACA,UACA,gBACA,aACA,aACA,aACA,WACA,eAEFC,YAAa,CACX,eACA,eACA,eACA,gBACA,aACA,eACA,gBACA,gBACA,gBACA,cACA,kBAEF/F,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAG7C,MAAO,CACLQ,GAAI,GACJrB,IAAK,GACLyG,KAAM,CACJ,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QAEFC,gBAAiB,CACf,GACA,OACA,GACA,OACA,GACA,OACA,GACA,QACA,GACA,OACA,IAEFC,UAAW,CACT,YACA,YACA,WACA,UACA,aACA,aACA,aACA,aACA,YACA,WACA,eAEFC,YAAa,CACX,eACA,eACA,cACA,aACA,gBACA,gBACA,gBACA,gBACA,eACA,cACA,kBAEF/F,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAG7C,GAAM,CACJQ,GAAI,GACJrB,IAAK,GACLyG,KAAM,CACJ,OACA,OACA,OACA,OACA,OACA,QACA,OACA,SACA,OACA,OACA,SACA,QAEFC,gBAAiB,CAAC,OAAQ,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,SAAU,IACxEC,UAAW,CACT,WACA,YACA,eACA,YACA,aACA,UACA,gBACA,aACA,aACA,aACA,WACA,eAEFC,YAAa,CACX,YACA,eACA,eACA,eACA,gBACA,aACA,eACA,gBACA,gBACA,gBACA,cACA,kBAEF/F,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGhD,GAAM,CACJQ,GAAI,GACJrB,IAAK,GACLyG,KAAM,CACJ,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,YACA,OACA,OACA,SACA,QAEFC,gBAAiB,CACf,GACA,GACA,GACA,GACA,OACA,GACA,GACA,GACA,GACA,GACA,GACA,SACA,IAEFC,UAAW,CACT,YACA,YACA,UACA,aACA,aACA,aACA,aACA,WACA,cACA,aACA,aACA,WACA,eAEFC,YAAa,CACX,eACA,eACA,aACA,gBACA,gBACA,gBACA,gBACA,cACA,iBACA,gBACA,gBACA,cACA,kBAEF/F,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGnD,GAAM,CACJQ,GAAI,GACJrB,IAAK,GACLyG,KAAM,CACJ,OACA,OACA,OACA,OACA,OACA,QACA,OACA,SACA,OACA,OACA,OACA,SACA,OACA,QAEFC,gBAAiB,CACf,OACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,OACA,GACA,GACA,SACA,GACA,eAEFC,UAAW,CACT,WACA,YACA,eACA,YACA,aACA,UACA,gBACA,aACA,gBACA,aACA,aACA,WACA,cACA,kBAEFC,YAAa,CACX,YACA,eACA,eACA,eACA,gBACA,aACA,eACA,gBACA,gBACA,gBACA,gBACA,cACA,iBACA,iBAEF/F,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGtD,MAAO,CACLQ,GAAI,GACJrB,IAAK,GACLyG,KAAM,CACJ,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,SACA,QAEFC,gBAAiB,CACf,GACA,GACA,GACA,GACA,GACA,GACA,OACA,GACA,GACA,GACA,GACA,GACA,SACA,IAEFC,UAAW,CACT,WACA,aACA,WACA,aACA,gBACA,aACA,cACA,WACA,iBACA,cACA,YACA,YACA,UACA,cAEFC,YAAa,CACX,cACA,gBACA,cACA,gBACA,gBACA,gBACA,iBACA,cACA,gBACA,iBACA,eACA,eACA,aACA,iBAEF/F,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGtD,GAAM,CACJQ,GAAI,GACJrB,IAAK,GACLyG,KAAM,CACJ,OACA,OACA,SACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,SACA,QAEFC,gBAAiB,CACf,GACA,GACA,SACA,GACA,GACA,GACA,GACA,OACA,GACA,GACA,GACA,GACA,GACA,SACA,IAEFC,UAAW,CACT,aACA,aACA,WACA,cACA,YACA,eACA,YACA,aACA,UACA,gBACA,aACA,aACA,aACA,WACA,eAEFC,YAAa,CACX,gBACA,gBACA,cACA,iBACA,eACA,eACA,eACA,gBACA,aACA,eACA,gBACA,gBACA,gBACA,cACA,kBAEF/F,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGzD,MAAO,CACLQ,GAAI,GACJrB,IAAK,GACLyG,KAAM,CACJ,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,YACA,OACA,OACA,SACA,QAEFC,gBAAiB,CACf,GACA,GACA,GACA,GACA,GACA,GACA,GACA,OACA,GACA,GACA,GACA,GACA,GACA,GACA,SACA,IAEFC,UAAW,CACT,WACA,aACA,WACA,aACA,aACA,WACA,cACA,cACA,aACA,aACA,WACA,cACA,YACA,YACA,UACA,cAEFC,YAAa,CACX,cACA,gBACA,cACA,gBACA,gBACA,cACA,iBACA,iBACA,gBACA,gBACA,cACA,iBACA,eACA,eACA,aACA,iBAEF/F,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAG5D,GAAM,CACJQ,GAAI,GACJrB,IAAK,GACLyG,KAAM,CACJ,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QACA,OACA,UAEFC,gBAAiB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,QAClDC,UAAW,CACT,aACA,aACA,aACA,aACA,WACA,WACA,cACA,cACA,aACA,aACA,aACA,aACA,aACA,WACA,WACA,cACA,eAEFC,YAAa,CACX,gBACA,gBACA,gBACA,gBACA,cACA,cACA,iBACA,iBACA,gBACA,gBACA,gBA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","file":"js/app.f3243ca0.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\n\r\nexport default Vue.extend({\r\n  name: \"App\"\r\n});\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/ts-loader/index.js??ref--13-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/ts-loader/index.js??ref--13-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=dfedde86&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"editor\"}},[_c('editor-controller',{attrs:{\"selected-key\":_vm.selectedKey,\"load-score-data-str\":_vm.loadScoreDataStr,\"load-music-url\":_vm.loadMusicUrl}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"editor-controller\"}},[_c('editor-main',{attrs:{\"page-num\":_vm.pageNum,\"load-score-data\":_vm.scoreData,\"load-music-url\":_vm.loadMusicUrl,\"key-config\":_vm.keyConfig,\"selected-key\":_vm.keyKind,\"timing\":_vm.timing,\"prop-score-number\":_vm.scoreNumber,\"music-volume\":_vm.musicVolume,\"music-rate\":_vm.musicRate},on:{\"page-minus\":_vm.pageMinus,\"page-plus\":_vm.pagePlus}}),_c('editor-option',{attrs:{\"scoreNumber\":_vm.scoreNumber,\"musicVolume\":_vm.musicVolume,\"musicRate\":_vm.musicRate},on:{\"update:scoreNumber\":function($event){_vm.scoreNumber=$event},\"update:score-number\":function($event){_vm.scoreNumber=$event},\"update:musicVolume\":function($event){_vm.musicVolume=$event},\"update:music-volume\":function($event){_vm.musicVolume=$event},\"update:musicRate\":function($event){_vm.musicRate=$event},\"update:music-rate\":function($event){_vm.musicRate=$event}}}),_c('div',{attrs:{\"id\":\"editor-menu\"}},[_c('div',{staticClass:\"menu-item-container\",attrs:{\"id\":\"menu-page\"}},[_vm._m(0),_c('div',{staticClass:\"menu-move-display\"},[_c('div',{staticClass:\"menu-move-btn\",on:{\"click\":function($event){return _vm.pageMinus(5)}}},[_vm._v(\"\")]),_c('div',{staticClass:\"menu-move-btn\",on:{\"click\":function($event){return _vm.pageMinus(1)}}},[_vm._v(\"\")]),_c('div',{staticClass:\"menu-move-txt\"},[_vm._v(_vm._s(_vm.pageNum))]),_c('div',{staticClass:\"menu-move-btn\",on:{\"click\":function($event){return _vm.pagePlus(1)}}},[_vm._v(\"\")]),_c('div',{staticClass:\"menu-move-btn\",on:{\"click\":function($event){return _vm.pagePlus(5)}}},[_vm._v(\"\")])])]),_c('div',{staticClass:\"menu-item-container\",attrs:{\"id\":\"menu-label\"}},[_c('div',{staticClass:\"menu-move-header\"},[_c('div',{staticClass:\"menu-txt\"},[_vm._v(\"Label\")]),_c('input',{ref:\"label-checkbox\",staticClass:\"uk-checkbox\",attrs:{\"id\":\"menu-label-checkbox\",\"type\":\"checkbox\",\"disabled\":_vm.pageNum === 1},domProps:{\"checked\":_vm.getLabelNumByPageNum(_vm.pageNum) !== -1},on:{\"click\":_vm.callLabelOperation}})]),_c('div',{staticClass:\"menu-move-display\"},[_c('div',{staticClass:\"menu-move-btn\",on:{\"click\":function($event){return _vm.labelMinus(5)}}},[_vm._v(\"\")]),_c('div',{staticClass:\"menu-move-btn\",on:{\"click\":function($event){return _vm.labelMinus(1)}}},[_vm._v(\"\")]),_c('div',{staticClass:\"menu-move-txt\"},[_vm._v(_vm._s(_vm.labelNum))]),_c('div',{staticClass:\"menu-move-btn\",on:{\"click\":function($event){return _vm.labelPlus(1)}}},[_vm._v(\"\")]),_c('div',{staticClass:\"menu-move-btn\",on:{\"click\":function($event){return _vm.labelPlus(5)}}},[_vm._v(\"\")])])]),_c('div',{staticClass:\"menu-item-container\",attrs:{\"id\":\"menu-adj\"}},[_c('div',{staticClass:\"menu-txt\"},[_vm._v(\"Blank Frame\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.scoreData.blankFrame),expression:\"scoreData.blankFrame\",modifiers:{\"number\":true}}],staticClass:\"uk-input uk-form-small\",attrs:{\"type\":\"number\",\"step\":\"0.01\"},domProps:{\"value\":(_vm.scoreData.blankFrame)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.scoreData, \"blankFrame\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"menu-item-container\",attrs:{\"id\":\"menu-sn\"}},[_c('div',{staticClass:\"menu-txt\"},[_vm._v(\"Start Number\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.timing.startNum),expression:\"timing.startNum\",modifiers:{\"number\":true}}],staticClass:\"uk-input uk-form-small\",attrs:{\"type\":\"number\",\"step\":\"0.01\"},domProps:{\"value\":(_vm.timing.startNum)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.timing, \"startNum\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"menu-item-container\",attrs:{\"id\":\"menu-bpm\"}},[_c('div',{staticClass:\"menu-txt\"},[_vm._v(\"BPM\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.timing.bpm),expression:\"timing.bpm\",modifiers:{\"number\":true}}],staticClass:\"uk-input uk-form-small\",attrs:{\"type\":\"number\",\"step\":\"0.01\"},domProps:{\"value\":(_vm.timing.bpm)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.timing, \"bpm\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"menu-item-container\",attrs:{\"id\":\"menu-output\"}},[_c('a',{staticClass:\"menu-output-btn btn-orange\",attrs:{\"href\":\"#editor-option\",\"uk-toggle\":\"\"}},[_vm._v(\"OPTION\")]),_c('div',{staticClass:\"menu-output-btn btn-gray\",on:{\"click\":_vm.convertWithQuarters}},[_vm._v(\" TEST \")]),_c('div',{staticClass:\"menu-output-btn btn-blue\",on:{\"click\":_vm.save}},[_vm._v(\"SAVE\")]),_c('div',{staticClass:\"menu-output-btn btn-gray\",on:{\"click\":_vm.displayScoreDataInfo}},[_vm._v(\" CALC \")]),_c('div',{staticClass:\"menu-output-btn btn-red\",on:{\"click\":_vm.convert}},[_vm._v(\"GO!\")])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"menu-move-header\"},[_c('div',{staticClass:\"menu-txt\"},[_vm._v(\"Page\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"editor-main\"}},[_c('div',{ref:\"canvas\",attrs:{\"id\":\"canvas\",\"tabindex\":\"-1\"},on:{\"keydown\":function($event){$event.preventDefault();return _vm.keydownAction($event)}}}),_vm._l((_vm.scoreData.scores[_vm.page - 1].speeds),function(speed,index){return _c('speed-piece',{key:index,attrs:{\"position\":speed.position,\"type\":speed.type,\"isReverse\":_vm.isReverse},model:{value:(speed.value),callback:function ($$v) {_vm.$set(speed, \"value\", $$v)},expression:\"speed.value\"}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Speed } from \"./Speed\";\r\n\r\nexport interface PageScore {\r\n  notes: number[][];\r\n  freezes: number[][];\r\n  speeds: Speed[];\r\n}\r\n\r\nexport class DefaultPageScore implements PageScore {\r\n  constructor(private keyNum: number) {}\r\n\r\n  notes = new Array(this.keyNum).fill([]).map(() => []);\r\n  freezes = new Array(this.keyNum).fill([]).map(() => []);\r\n  speeds = [];\r\n}\r\n","export const noteWidth = 30;\r\nexport const noteHeight = 5;\r\nexport const verticalSizeNum = 384;\r\nexport const editorHeight = verticalSizeNum;\r\nexport const quarterInterval = verticalSizeNum / 8;\r\nexport const fps = 60;\r\n\r\nexport const canvasMarginHorizontal = 50;\r\nexport const canvasMarginVertical = 20;\r\n\r\nexport const noteColors = [\"#ff0000\", \"#0000ff\", \"#00cc00\", \"#ff9000\"];\r\nexport const freezeColors = [\"#ff4dd2\", \"#00ffff\", \"#ceff00\", \"#c99b7d\"];\r\nexport const laneColors = [\"#fff0ff\", \"#f0f0ff\", \"#f0fff0\", \"#fff0dd\"];\r\n","export class MusicService {\r\n  constructor(private audio: HTMLAudioElement) {\r\n    audio.load();\r\n  }\r\n\r\n  play(startTime: number, musicVolume: number, musicRate: number): void {\r\n    this.audio.volume = musicVolume;\r\n    this.audio.playbackRate = musicRate;\r\n\r\n    const duration = this.audio.duration;\r\n    if (duration > startTime) {\r\n      this.audio.currentTime = startTime;\r\n      if (startTime < 0) {\r\n        setTimeout(() => this.audio.play(), -startTime * 1000);\r\n      } else this.audio.play();\r\n    }\r\n  }\r\n\r\n  pause(timer?: number) {\r\n    this.audio.pause();\r\n    clearTimeout(timer);\r\n  }\r\n}\r\n","import { verticalSizeNum } from \"../EditorConstant\";\r\n\r\nexport default function toPx(pos: number, isReverse: boolean): number {\r\n  return isReverse ? pos : verticalSizeNum - pos;\r\n}\r\n","import Konva from \"konva\";\r\nimport { ScoreData } from \"@/model/ScoreData\";\r\nimport { CustomKeyConfig } from \"@/model/KeyConfig\";\r\nimport { CustomKeyKind } from \"@/model/KeyKind\";\r\nimport {\r\n  freezeColors,\r\n  noteColors,\r\n  noteWidth,\r\n  noteHeight,\r\n  verticalSizeNum\r\n} from \"../EditorConstant\";\r\nimport toPx from \"../helper/toPx\";\r\n\r\nexport class NoteService {\r\n  constructor(\r\n    private scoreData: ScoreData,\r\n    private keyConfig: CustomKeyConfig,\r\n    private keyKind: CustomKeyKind,\r\n    private isReverse: boolean,\r\n    private stage: Konva.Stage,\r\n    private notesLayer: Konva.Layer\r\n  ) {}\r\n\r\n  private keyNum = this.keyConfig[this.keyKind].num;\r\n\r\n  // \r\n  hasNote(\r\n    page: number,\r\n    lane: number,\r\n    position: number\r\n  ): { exists: boolean; isFreeze: boolean } {\r\n    const pageScore = this.scoreData.scores[page - 1];\r\n    const isFreeze = pageScore.freezes[lane].includes(position);\r\n    const exists = pageScore.notes[lane].includes(position) || isFreeze;\r\n    return { exists, isFreeze };\r\n  }\r\n\r\n  // \r\n  add(page: number, lane: number, position: number, isFreeze: boolean): void {\r\n    if (isFreeze) this.scoreData.scores[page - 1].freezes[lane].push(position);\r\n    else this.scoreData.scores[page - 1].notes[lane].push(position);\r\n  }\r\n\r\n  // \r\n  remove(page: number, lane: number, position: number): void {\r\n    const removedFreezes = this.scoreData.scores[page - 1].freezes[lane].filter(\r\n      pos => pos !== position\r\n    );\r\n    this.scoreData.scores[page - 1].freezes.splice(lane, 1, removedFreezes);\r\n\r\n    const removedNotes = this.scoreData.scores[page - 1].notes[lane].filter(\r\n      pos => pos !== position\r\n    );\r\n    this.scoreData.scores[page - 1].notes.splice(lane, 1, removedNotes);\r\n  }\r\n\r\n  // \r\n  draw(lane: number, position: number, isFreeze: boolean): void {\r\n    const stage = this.stage as Konva.Stage;\r\n    const notesLayer = this.notesLayer as Konva.Layer;\r\n    const colorGroup = this.keyConfig[this.keyKind].colorGroup;\r\n\r\n    const color = ((lane: number, isFreeze: boolean) => {\r\n      if (isFreeze) {\r\n        return freezeColors[colorGroup[lane]];\r\n      } else {\r\n        return noteColors[colorGroup[lane]];\r\n      }\r\n    })(lane, isFreeze);\r\n\r\n    const note = new Konva.Rect({\r\n      x: lane * noteWidth,\r\n      y: toPx(position, this.isReverse) - noteHeight / 2,\r\n      width: noteWidth,\r\n      height: noteHeight,\r\n      fill: color,\r\n      id: `note-${lane}-${position}`\r\n    });\r\n    notesLayer.add(note);\r\n    stage.add(notesLayer);\r\n  }\r\n\r\n  // \r\n  clear(lane: number, position: number): void {\r\n    const stage = this.stage;\r\n    const notesLayer = this.notesLayer;\r\n\r\n    const note = notesLayer.findOne(`#note-${lane}-${position}`);\r\n    note.destroy();\r\n    stage.add(notesLayer);\r\n  }\r\n\r\n  // \r\n  removeOnPosition(\r\n    page: number,\r\n    position: number\r\n  ): {\r\n    lane: number;\r\n    isFreeze: boolean;\r\n  }[] {\r\n    const keyNum = this.keyNum;\r\n    const removedLanes = [];\r\n    for (let lane = 0; lane < keyNum; lane++) {\r\n      if (this.hasNote(page, lane, position).exists) {\r\n        this.remove(page, lane, position);\r\n        removedLanes.push({\r\n          lane,\r\n          isFreeze: this.hasNote(page, lane, position).isFreeze\r\n        });\r\n      }\r\n    }\r\n    return removedLanes;\r\n  }\r\n\r\n  // \r\n  shift(page: number, currentPosition: number, delta: number): void {\r\n    let newPosition = currentPosition + delta;\r\n    let newPage = page;\r\n    if (newPosition < 0) {\r\n      if (page === 1) return;\r\n      else {\r\n        newPage--;\r\n        newPosition += verticalSizeNum;\r\n      }\r\n    } else if (newPosition >= verticalSizeNum) {\r\n      newPage++;\r\n      newPosition -= verticalSizeNum;\r\n    }\r\n\r\n    const removedLanes = this.removeOnPosition(page, currentPosition);\r\n    this.removeOnPosition(newPage, newPosition);\r\n    removedLanes.forEach(obj =>\r\n      this.add(newPage, obj.lane, newPosition, obj.isFreeze)\r\n    );\r\n  }\r\n}\r\n","import Konva from \"konva\";\r\nimport { ScoreData } from \"@/model/ScoreData\";\r\nimport { SpeedType } from \"@/model/Speed\";\r\nimport toPx from \"../helper/toPx\";\r\n\r\nexport class SpeedPieceService {\r\n  constructor(\r\n    private scoreData: ScoreData,\r\n    private editorWidth: number,\r\n    private isReverse: boolean,\r\n    private stage: Konva.Stage,\r\n    private notesLayer: Konva.Layer\r\n  ) {}\r\n\r\n  // \r\n  hasSpeedPiece(page: number, position: number): boolean {\r\n    return this.scoreData.scores[page - 1].speeds.some(\r\n      speed => speed.position === position\r\n    );\r\n  }\r\n\r\n  // \r\n  add(page: number, position: number, type: SpeedType, value = 1) {\r\n    this.scoreData.scores[page - 1].speeds.push({\r\n      position,\r\n      value,\r\n      type\r\n    });\r\n  }\r\n\r\n  // \r\n  remove(page: number, position: number) {\r\n    this.scoreData.scores[page - 1].speeds = this.scoreData.scores[\r\n      page - 1\r\n    ].speeds.filter(speed => speed.position !== position);\r\n  }\r\n\r\n  // \r\n  draw(position: number, type: SpeedType) {\r\n    const stage = this.stage as Konva.Stage;\r\n    const notesLayer = this.notesLayer as Konva.Layer;\r\n\r\n    const color = type === \"speed\" ? \"orange\" : \"purple\";\r\n    const radius = 6;\r\n    const triangle = new Konva.RegularPolygon({\r\n      sides: 3,\r\n      radius,\r\n      rotation: 30,\r\n      fill: color,\r\n      x: this.editorWidth + radius,\r\n      y: toPx(position, this.isReverse),\r\n      id: `speed-${position}`\r\n    });\r\n\r\n    notesLayer.add(triangle);\r\n    stage.add(notesLayer);\r\n  }\r\n\r\n  // \r\n  clear(position: number): void {\r\n    const stage = this.stage as Konva.Stage;\r\n    const notesLayer = this.notesLayer as Konva.Layer;\r\n\r\n    const note = notesLayer.findOne(`#speed-${position}`);\r\n    note.destroy();\r\n    stage.add(notesLayer);\r\n  }\r\n}\r\n","import { PageScore, DefaultPageScore } from \"@/model/PageScore\";\r\nimport { ScoreData } from \"@/model/ScoreData\";\r\nimport _ from \"lodash\";\r\n\r\nexport class PageScoreService {\r\n  constructor(\r\n    private scoreData: ScoreData,\r\n    private copyScoreStore: PageScore,\r\n    private keyNum: number,\r\n    private displayPageScore: (page: number) => void\r\n  ) {}\r\n\r\n  // \r\n  copy(page: number) {\r\n    const pageScore = _.cloneDeep(this.scoreData.scores[page - 1]);\r\n    this.copyScoreStore = pageScore;\r\n  }\r\n\r\n  // \r\n  cut(page: number) {\r\n    this.copy(page);\r\n    this.scoreData.scores.splice(\r\n      page - 1,\r\n      1,\r\n      new DefaultPageScore(this.keyNum)\r\n    );\r\n    this.displayPageScore(page);\r\n  }\r\n\r\n  // \r\n  paste(page: number) {\r\n    const pageScore = _.cloneDeep(this.copyScoreStore);\r\n    this.scoreData.scores.splice(page - 1, 1, pageScore);\r\n    this.displayPageScore(page);\r\n  }\r\n}\r\n","import { Timing } from \"@/model/Timing\";\r\nimport { fps, quarterInterval, verticalSizeNum } from \"../EditorConstant\";\r\n\r\nexport function positionToFrame(\r\n  timing: Timing,\r\n  page: number,\r\n  position: number,\r\n  blankFrame = 0\r\n): number {\r\n  const framePerPosition = (60 * fps) / quarterInterval / timing.bpm;\r\n  const startFrame =\r\n    blankFrame +\r\n    timing.startNum +\r\n    (page - timing.label) * verticalSizeNum * framePerPosition;\r\n  return startFrame + position * framePerPosition;\r\n}\r\n\r\nexport function positionToSeconds(\r\n  timing: Timing,\r\n  page: number,\r\n  position: number,\r\n  blankFrame = 0\r\n): number {\r\n  return positionToFrame(timing, page, position, blankFrame) / fps;\r\n}\r\n\r\nexport function secondsToTimeStr(seconds: number): string {\r\n  const mm = Math.floor(seconds / 60);\r\n  const sec = Math.floor(seconds % 60);\r\n  const ss = sec < 10 ? `0${sec}` : `${sec}`;\r\n  return `${mm}:${ss}`;\r\n}\r\n","import Konva from \"konva\";\r\nimport { ScoreData } from \"@/model/ScoreData\";\r\nimport { editorHeight, canvasMarginHorizontal } from \"../EditorConstant\";\r\nimport {\r\n  positionToFrame,\r\n  positionToSeconds,\r\n  secondsToTimeStr\r\n} from \"../helper/Calculator\";\r\nimport { Timing } from \"@/model/Timing\";\r\nimport toPx from \"../helper/toPx\";\r\n\r\nexport class CurrentPositionService {\r\n  constructor(\r\n    private scoreData: ScoreData,\r\n    private timing: Timing,\r\n    private editorWidth: number,\r\n    private isReverse: boolean,\r\n    private stage: Konva.Stage,\r\n    private currentPositionLayer: Konva.Layer,\r\n    private changeCurrentPosition: (newPos: number) => void\r\n  ) {}\r\n\r\n  // \r\n  draw(position: number, page: number): void {\r\n    const stage = this.stage;\r\n    const currentPositionLayer = this.currentPositionLayer;\r\n\r\n    const color = \"#d8d800\";\r\n    const yValue = toPx(position, this.isReverse);\r\n\r\n    const maybeLine = currentPositionLayer.findOne(\"#currentPositionLine\");\r\n    const line: Konva.Line =\r\n      maybeLine instanceof Konva.Line\r\n        ? maybeLine.y(yValue)\r\n        : new Konva.Line({\r\n            y: yValue,\r\n            points: [0, 0, this.editorWidth, 0],\r\n            stroke: color,\r\n            strokeWidth: 1.75,\r\n            id: \"currentPositionLine\"\r\n          });\r\n    const radius = 6;\r\n\r\n    const maybeTriangle = currentPositionLayer.findOne(\r\n      \"#currentPositionTriangle\"\r\n    );\r\n    const triangle: Konva.RegularPolygon =\r\n      maybeTriangle instanceof Konva.RegularPolygon\r\n        ? maybeTriangle.y(yValue)\r\n        : new Konva.RegularPolygon({\r\n            sides: 3,\r\n            radius,\r\n            rotation: -30,\r\n            fill: color,\r\n            x: -radius,\r\n            y: yValue,\r\n            id: `currentPositionTriangle`\r\n          });\r\n\r\n    const timing = this.timing;\r\n    const blankFrame = this.scoreData.blankFrame;\r\n    const currentFrame =\r\n      positionToFrame(timing, page, position, blankFrame) < 100000\r\n        ? Math.round(positionToFrame(timing, page, position, blankFrame) * 10) /\r\n          10\r\n        : Math.round(positionToFrame(timing, page, position, blankFrame));\r\n\r\n    const currentSeconds = positionToSeconds(\r\n      timing,\r\n      page,\r\n      position,\r\n      blankFrame\r\n    );\r\n    const currentTimeStr = secondsToTimeStr(currentSeconds);\r\n    const displayedText = `${currentFrame}\\n[${currentTimeStr}]`;\r\n    const textWidth = 40;\r\n    const textHeight = 22;\r\n\r\n    const maybeText = currentPositionLayer.findOne(\"#currentPositionText\");\r\n    const text: Konva.Text =\r\n      maybeText instanceof Konva.Text\r\n        ? maybeText.y(yValue - textHeight / 2).text(displayedText)\r\n        : new Konva.Text({\r\n            width: textWidth,\r\n            height: textHeight,\r\n            text: displayedText,\r\n            fill: \"black\",\r\n            fontSize: textHeight / 2,\r\n            align: \"center\",\r\n            x: -canvasMarginHorizontal + 2,\r\n            y: yValue - textHeight / 2,\r\n            id: `currentPositionText`\r\n          });\r\n\r\n    currentPositionLayer.add(line, triangle, text);\r\n    stage.add(currentPositionLayer);\r\n  }\r\n\r\n  // \r\n  move(position: number, page: number): void {\r\n    this.changeCurrentPosition(position);\r\n    this.draw(position, page);\r\n  }\r\n\r\n  // \r\n  musicAnimate(duration: number) {\r\n    const stage = this.stage;\r\n    const currentPositionLayer = this.currentPositionLayer;\r\n\r\n    const node = currentPositionLayer.findOne(\"#musicPosition\");\r\n    const currentPositionLine: Konva.Line =\r\n      node instanceof Konva.Line\r\n        ? node.y(toPx(0, this.isReverse))\r\n        : new Konva.Line({\r\n            y: toPx(0, this.isReverse),\r\n            points: [0, 0, this.editorWidth, 0],\r\n            stroke: \"#8000ff\",\r\n            strokeWidth: 1.75,\r\n            id: \"musicPosition\"\r\n          });\r\n\r\n    currentPositionLayer.add(currentPositionLine);\r\n    stage.add(currentPositionLayer);\r\n\r\n    const tween = new Konva.Tween({\r\n      node: currentPositionLine,\r\n      duration: (duration * 4) / 5 / 1000, // 108\r\n      x: 0,\r\n      y: toPx(editorHeight, this.isReverse)\r\n    });\r\n\r\n    setTimeout(() => {\r\n      tween.play();\r\n    }, duration / 5);\r\n  }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputValue),expression:\"inputValue\"}],staticClass:\"editor-speed-piece\",style:({ top: _vm.top + 'px' }),attrs:{\"type\":\"number\",\"step\":\"0.01\"},domProps:{\"value\":(_vm.inputValue)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.inputValue=$event.target.value}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\r\nimport Vue, { PropType } from \"vue\";\r\nimport { SpeedType } from \"../../model/Speed\";\r\nimport toPx from \"./helper/toPx\";\r\nexport default Vue.extend({\r\n  name: \"SpeedPiece\",\r\n  model: {\r\n    prop: \"propValue\",\r\n    event: \"changeSpeed\"\r\n  },\r\n  props: {\r\n    isReverse: Boolean,\r\n    position: Number,\r\n    propValue: Number,\r\n    type: { type: String as PropType<SpeedType> }\r\n  },\r\n  computed: {\r\n    top(): number {\r\n      return toPx(this.position, this.isReverse) + 15;\r\n    },\r\n    inputValue: {\r\n      get(): number {\r\n        return this.propValue;\r\n      },\r\n      set(inputValue: string) {\r\n        const value = Number(inputValue);\r\n        this.$emit(\"changeSpeed\", value);\r\n      }\r\n    }\r\n  }\r\n});\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeedPiece.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeedPiece.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SpeedPiece.vue?vue&type=template&id=6727b045&\"\nimport script from \"./SpeedPiece.vue?vue&type=script&lang=ts&\"\nexport * from \"./SpeedPiece.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { KeyKind, CustomKeyKind } from \"./KeyKind\";\r\n\r\nexport type KeyConfig = {\r\n  [keyKind in KeyKind]: {\r\n    id: number;\r\n    num: number;\r\n    keys: string[];\r\n    alternativeKeys: string[];\r\n    noteNames: string[];\r\n    freezeNames: string[];\r\n    colorGroup: number[];\r\n  };\r\n};\r\n\r\nexport type CustomKeyConfig = {\r\n  [customKeyKind in CustomKeyKind]: {\r\n    id: number;\r\n    num: number;\r\n    keys: string[];\r\n    alternativeKeys: string[];\r\n    noteNames: string[];\r\n    freezeNames: string[];\r\n    colorGroup: number[];\r\n  };\r\n};\r\n\r\nexport const DefaultKeyConfig: KeyConfig = {\r\n  \"5\": {\r\n    id: 1,\r\n    num: 5,\r\n    keys: [\"KeyJ\", \"KeyK\", \"KeyI\", \"KeyL\", \"KeyG\"],\r\n    alternativeKeys: [\"KeyS\", \"KeyD\", \"KeyE\", \"KeyF\", \"KeyH\"],\r\n    noteNames: [\r\n      \"left_data\",\r\n      \"down_data\",\r\n      \"up_data\",\r\n      \"right_data\",\r\n      \"space_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzLeft_data\",\r\n      \"frzDown_data\",\r\n      \"frzUp_data\",\r\n      \"frzRight_data\",\r\n      \"frzSpace_data\"\r\n    ],\r\n    colorGroup: [0, 0, 0, 0, 2]\r\n  },\r\n\r\n  \"7\": {\r\n    id: 2,\r\n    num: 7,\r\n    keys: [\"KeyS\", \"KeyD\", \"KeyF\", \"KeyG\", \"KeyJ\", \"KeyK\", \"KeyL\"],\r\n    alternativeKeys: [\"\", \"\", \"\", \"KeyH\", \"\", \"\", \"\"],\r\n    noteNames: [\r\n      \"left_data\",\r\n      \"leftdia_data\",\r\n      \"down_data\",\r\n      \"space_data\",\r\n      \"up_data\",\r\n      \"rightdia_data\",\r\n      \"right_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzLeft_data\",\r\n      \"frzLdia_data\",\r\n      \"frzDown_data\",\r\n      \"frzSpace_data\",\r\n      \"frzUp_data\",\r\n      \"frzRdia_data\",\r\n      \"frzRight_data\"\r\n    ],\r\n    colorGroup: [0, 1, 0, 2, 0, 1, 0]\r\n  },\r\n\r\n  \"7i\": {\r\n    id: 3,\r\n    num: 7,\r\n    keys: [\"KeyS\", \"KeyD\", \"KeyF\", \"KeyJ\", \"KeyK\", \"KeyI\", \"KeyL\"],\r\n    alternativeKeys: [\"KeyZ\", \"KeyX\", \"KeyC\", \"\", \"\", \"KeyO\", \"\"],\r\n    noteNames: [\r\n      \"left_data\",\r\n      \"leftdia_data\",\r\n      \"down_data\",\r\n      \"space_data\",\r\n      \"up_data\",\r\n      \"rightdia_data\",\r\n      \"right_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzLeft_data\",\r\n      \"frzLdia_data\",\r\n      \"frzDown_data\",\r\n      \"frzSpace_data\",\r\n      \"frzUp_data\",\r\n      \"frzRdia_data\",\r\n      \"frzRight_data\"\r\n    ],\r\n    colorGroup: [1, 1, 1, 0, 0, 0, 0]\r\n  },\r\n\r\n  \"8\": {\r\n    id: 4,\r\n    num: 8,\r\n    keys: [\"KeyS\", \"KeyD\", \"KeyF\", \"KeyG\", \"KeyJ\", \"KeyK\", \"KeyL\", \"Semicolon\"],\r\n    alternativeKeys: [\"\", \"\", \"\", \"KeyH\", \"\", \"\", \"\", \"\"],\r\n    noteNames: [\r\n      \"left_data\",\r\n      \"leftdia_data\",\r\n      \"down_data\",\r\n      \"space_data\",\r\n      \"up_data\",\r\n      \"rightdia_data\",\r\n      \"right_data\",\r\n      \"sleft_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzLeft_data\",\r\n      \"frzLdia_data\",\r\n      \"frzDown_data\",\r\n      \"frzSpace_data\",\r\n      \"frzUp_data\",\r\n      \"frzRdia_data\",\r\n      \"frzRight_data\",\r\n      \"sfrzLeft_data\"\r\n    ],\r\n    colorGroup: [0, 1, 0, 2, 0, 1, 0, 2]\r\n  },\r\n\r\n  \"9A\": {\r\n    id: 5,\r\n    num: 9,\r\n    keys: [\r\n      \"KeyS\",\r\n      \"KeyD\",\r\n      \"KeyE\",\r\n      \"KeyF\",\r\n      \"KeyG\",\r\n      \"KeyJ\",\r\n      \"KeyK\",\r\n      \"KeyI\",\r\n      \"KeyL\"\r\n    ],\r\n    alternativeKeys: [\"\", \"\", \"KeyR\", \"\", \"KeyH\", \"\", \"\", \"KeyO\", \"\"],\r\n    noteNames: [\r\n      \"left_data\",\r\n      \"down_data\",\r\n      \"up_data\",\r\n      \"right_data\",\r\n      \"space_data\",\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"sup_data\",\r\n      \"sright_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzLeft_data\",\r\n      \"frzDown_data\",\r\n      \"frzUp_data\",\r\n      \"frzRight_data\",\r\n      \"frzSpace_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\"\r\n    ],\r\n    colorGroup: [0, 0, 0, 0, 2, 1, 1, 1, 1]\r\n  },\r\n\r\n  \"9B\": {\r\n    id: 6,\r\n    num: 9,\r\n    keys: [\r\n      \"KeyA\",\r\n      \"KeyS\",\r\n      \"KeyD\",\r\n      \"KeyF\",\r\n      \"KeyG\",\r\n      \"KeyJ\",\r\n      \"KeyK\",\r\n      \"KeyL\",\r\n      \"Semicolon\"\r\n    ],\r\n    alternativeKeys: [\"\", \"\", \"\", \"\", \"KeyH\", \"\", \"\", \"\", \"\"],\r\n    noteNames: [\r\n      \"left_data\",\r\n      \"down_data\",\r\n      \"up_data\",\r\n      \"right_data\",\r\n      \"space_data\",\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"sup_data\",\r\n      \"sright_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzLeft_data\",\r\n      \"frzDown_data\",\r\n      \"frzUp_data\",\r\n      \"frzRight_data\",\r\n      \"frzSpace_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\"\r\n    ],\r\n    colorGroup: [1, 0, 1, 0, 2, 0, 1, 0, 1]\r\n  },\r\n\r\n  \"9i\": {\r\n    id: 7,\r\n    num: 9,\r\n    keys: [\r\n      \"KeyA\",\r\n      \"KeyS\",\r\n      \"KeyD\",\r\n      \"KeyF\",\r\n      \"KeyG\",\r\n      \"KeyJ\",\r\n      \"KeyK\",\r\n      \"KeyI\",\r\n      \"KeyL\"\r\n    ],\r\n    alternativeKeys: [\"\", \"\", \"\", \"\", \"KeyH\", \"\", \"\", \"KeyO\", \"\"],\r\n    noteNames: [\r\n      \"left_data\",\r\n      \"down_data\",\r\n      \"up_data\",\r\n      \"right_data\",\r\n      \"space_data\",\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"sup_data\",\r\n      \"sright_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzLeft_data\",\r\n      \"frzDown_data\",\r\n      \"frzUp_data\",\r\n      \"frzRight_data\",\r\n      \"frzSpace_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\"\r\n    ],\r\n    colorGroup: [1, 0, 1, 0, 2, 3, 3, 3, 3]\r\n  },\r\n\r\n  \"11\": {\r\n    id: 8,\r\n    num: 11,\r\n    keys: [\r\n      \"KeyS\",\r\n      \"KeyD\",\r\n      \"KeyF\",\r\n      \"KeyG\",\r\n      \"KeyJ\",\r\n      \"KeyK\",\r\n      \"KeyL\",\r\n      \"KeyU\",\r\n      \"KeyI\",\r\n      \"Digit8\",\r\n      \"KeyO\"\r\n    ],\r\n    alternativeKeys: [\"\", \"\", \"\", \"KeyH\", \"\", \"\", \"\", \"\", \"\", \"Digit9\", \"\"],\r\n    noteNames: [\r\n      \"left_data\",\r\n      \"leftdia_data\",\r\n      \"down_data\",\r\n      \"space_data\",\r\n      \"up_data\",\r\n      \"rightdia_data\",\r\n      \"right_data\",\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"sup_data\",\r\n      \"sright_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzLeft_data\",\r\n      \"frzLdia_data\",\r\n      \"frzDown_data\",\r\n      \"frzSpace_data\",\r\n      \"frzUp_data\",\r\n      \"frzRdia_data\",\r\n      \"frzRight_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\"\r\n    ],\r\n    colorGroup: [0, 1, 0, 2, 0, 1, 0, 3, 3, 3, 3]\r\n  },\r\n\r\n  \"11L\": {\r\n    id: 9,\r\n    num: 11,\r\n    keys: [\r\n      \"KeyW\",\r\n      \"KeyE\",\r\n      \"Digit3\",\r\n      \"KeyR\",\r\n      \"KeyS\",\r\n      \"KeyD\",\r\n      \"KeyF\",\r\n      \"KeyG\",\r\n      \"KeyJ\",\r\n      \"KeyK\",\r\n      \"KeyL\"\r\n    ],\r\n    alternativeKeys: [\"\", \"\", \"Digit4\", \"\", \"\", \"\", \"\", \"KeyH\", \"\", \"\", \"\"],\r\n    noteNames: [\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"sup_data\",\r\n      \"sright_data\",\r\n      \"left_data\",\r\n      \"leftdia_data\",\r\n      \"down_data\",\r\n      \"space_data\",\r\n      \"up_data\",\r\n      \"rightdia_data\",\r\n      \"right_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\",\r\n      \"frzLeft_data\",\r\n      \"frzLdia_data\",\r\n      \"frzDown_data\",\r\n      \"frzSpace_data\",\r\n      \"frzUp_data\",\r\n      \"frzRdia_data\",\r\n      \"frzRight_data\"\r\n    ],\r\n    colorGroup: [3, 3, 3, 3, 0, 1, 0, 2, 0, 1, 0]\r\n  },\r\n\r\n  \"11W\": {\r\n    id: 10,\r\n    num: 11,\r\n    keys: [\r\n      \"KeyS\",\r\n      \"KeyD\",\r\n      \"KeyF\",\r\n      \"KeyG\",\r\n      \"KeyJ\",\r\n      \"KeyK\",\r\n      \"KeyL\",\r\n      \"Digit2\",\r\n      \"KeyT\",\r\n      \"KeyY\",\r\n      \"Digit0\"\r\n    ],\r\n    alternativeKeys: [\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"KeyH\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"Digit1\",\r\n      \"\",\r\n      \"\",\r\n      \"Minus\"\r\n    ],\r\n    noteNames: [\r\n      \"left_data\",\r\n      \"leftdia_data\",\r\n      \"down_data\",\r\n      \"space_data\",\r\n      \"up_data\",\r\n      \"rightdia_data\",\r\n      \"right_data\",\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"sup_data\",\r\n      \"sright_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzLeft_data\",\r\n      \"frzLdia_data\",\r\n      \"frzDown_data\",\r\n      \"frzSpace_data\",\r\n      \"frzUp_data\",\r\n      \"frzRdia_data\",\r\n      \"frzRight_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\"\r\n    ],\r\n    colorGroup: [0, 1, 0, 2, 0, 1, 0, 2, 3, 3, 2]\r\n  },\r\n\r\n  \"11i\": {\r\n    id: 11,\r\n    num: 11,\r\n    keys: [\r\n      \"KeyS\",\r\n      \"KeyC\",\r\n      \"KeyD\",\r\n      \"KeyE\",\r\n      \"KeyF\",\r\n      \"KeyG\",\r\n      \"KeyJ\",\r\n      \"KeyM\",\r\n      \"KeyK\",\r\n      \"KeyI\",\r\n      \"KeyL\"\r\n    ],\r\n    alternativeKeys: [\r\n      \"\",\r\n      \"KeyX\",\r\n      \"\",\r\n      \"KeyR\",\r\n      \"\",\r\n      \"KeyH\",\r\n      \"\",\r\n      \"Comma\",\r\n      \"\",\r\n      \"KeyO\",\r\n      \"\"\r\n    ],\r\n    noteNames: [\r\n      \"left_data\",\r\n      \"down_data\",\r\n      \"gor_data\",\r\n      \"up_data\",\r\n      \"right_data\",\r\n      \"space_data\",\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"siyo_data\",\r\n      \"sup_data\",\r\n      \"sright_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzLeft_data\",\r\n      \"frzDown_data\",\r\n      \"frzGor_data\",\r\n      \"frzUp_data\",\r\n      \"frzRight_data\",\r\n      \"frzSpace_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzIyo_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\"\r\n    ],\r\n    colorGroup: [0, 0, 2, 0, 0, 2, 1, 1, 2, 1, 1]\r\n  },\r\n\r\n  \"12\": {\r\n    id: 12,\r\n    num: 12,\r\n    keys: [\r\n      \"KeyG\",\r\n      \"KeyN\",\r\n      \"KeyJ\",\r\n      \"KeyM\",\r\n      \"KeyK\",\r\n      \"Comma\",\r\n      \"KeyL\",\r\n      \"Period\",\r\n      \"KeyU\",\r\n      \"KeyI\",\r\n      \"Digit8\",\r\n      \"KeyO\"\r\n    ],\r\n    alternativeKeys: [\"KeyH\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"Digit9\", \"\"],\r\n    noteNames: [\r\n      \"oni_data\",\r\n      \"left_data\",\r\n      \"leftdia_data\",\r\n      \"down_data\",\r\n      \"space_data\",\r\n      \"up_data\",\r\n      \"rightdia_data\",\r\n      \"right_data\",\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"sup_data\",\r\n      \"sright_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"foni_data\",\r\n      \"frzLeft_data\",\r\n      \"frzLdia_data\",\r\n      \"frzDown_data\",\r\n      \"frzSpace_data\",\r\n      \"frzUp_data\",\r\n      \"frzRdia_data\",\r\n      \"frzRight_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\"\r\n    ],\r\n    colorGroup: [2, 0, 1, 0, 1, 0, 1, 0, 3, 3, 3, 3]\r\n  },\r\n\r\n  \"13\": {\r\n    id: 13,\r\n    num: 13,\r\n    keys: [\r\n      \"KeyA\",\r\n      \"KeyS\",\r\n      \"KeyD\",\r\n      \"KeyF\",\r\n      \"KeyG\",\r\n      \"KeyJ\",\r\n      \"KeyK\",\r\n      \"KeyL\",\r\n      \"Semicolon\",\r\n      \"KeyU\",\r\n      \"KeyI\",\r\n      \"Digit8\",\r\n      \"KeyO\"\r\n    ],\r\n    alternativeKeys: [\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"KeyH\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"Digit9\",\r\n      \"\"\r\n    ],\r\n    noteNames: [\r\n      \"left_data\",\r\n      \"down_data\",\r\n      \"up_data\",\r\n      \"right_data\",\r\n      \"space_data\",\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"sup_data\",\r\n      \"sright_data\",\r\n      \"tleft_data\",\r\n      \"tdown_data\",\r\n      \"tup_data\",\r\n      \"tright_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzLeft_data\",\r\n      \"frzDown_data\",\r\n      \"frzUp_data\",\r\n      \"frzRight_data\",\r\n      \"frzSpace_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\",\r\n      \"tfrzLeft_data\",\r\n      \"tfrzDown_data\",\r\n      \"tfrzUp_data\",\r\n      \"tfrzRight_data\"\r\n    ],\r\n    colorGroup: [0, 0, 0, 0, 2, 1, 1, 1, 1, 3, 3, 3, 3]\r\n  },\r\n\r\n  \"14\": {\r\n    id: 14,\r\n    num: 14,\r\n    keys: [\r\n      \"KeyG\",\r\n      \"KeyN\",\r\n      \"KeyJ\",\r\n      \"KeyM\",\r\n      \"KeyK\",\r\n      \"Comma\",\r\n      \"KeyL\",\r\n      \"Period\",\r\n      \"KeyY\",\r\n      \"KeyU\",\r\n      \"KeyI\",\r\n      \"Digit8\",\r\n      \"KeyO\",\r\n      \"KeyP\"\r\n    ],\r\n    alternativeKeys: [\r\n      \"KeyH\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"KeyT\",\r\n      \"\",\r\n      \"\",\r\n      \"Digit9\",\r\n      \"\",\r\n      \"BracketLeft\"\r\n    ],\r\n    noteNames: [\r\n      \"oni_data\",\r\n      \"left_data\",\r\n      \"leftdia_data\",\r\n      \"down_data\",\r\n      \"space_data\",\r\n      \"up_data\",\r\n      \"rightdia_data\",\r\n      \"right_data\",\r\n      \"sleftdia_data\",\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"sup_data\",\r\n      \"sright_data\",\r\n      \"srightdia_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"foni_data\",\r\n      \"frzLeft_data\",\r\n      \"frzLdia_data\",\r\n      \"frzDown_data\",\r\n      \"frzSpace_data\",\r\n      \"frzUp_data\",\r\n      \"frzRdia_data\",\r\n      \"frzRight_data\",\r\n      \"sfrzLdia_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\",\r\n      \"sfrzRdia_data\"\r\n    ],\r\n    colorGroup: [2, 0, 1, 0, 1, 0, 1, 0, 2, 3, 3, 3, 3, 2]\r\n  },\r\n\r\n  \"14i\": {\r\n    id: 15,\r\n    num: 14,\r\n    keys: [\r\n      \"KeyZ\",\r\n      \"KeyX\",\r\n      \"KeyC\",\r\n      \"KeyS\",\r\n      \"KeyD\",\r\n      \"KeyF\",\r\n      \"KeyG\",\r\n      \"KeyJ\",\r\n      \"KeyK\",\r\n      \"KeyL\",\r\n      \"KeyU\",\r\n      \"KeyI\",\r\n      \"Digit8\",\r\n      \"KeyO\"\r\n    ],\r\n    alternativeKeys: [\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"KeyH\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"Digit9\",\r\n      \"\"\r\n    ],\r\n    noteNames: [\r\n      \"gor_data\",\r\n      \"space_data\",\r\n      \"iyo_data\",\r\n      \"sleft_data\",\r\n      \"sleftdia_data\",\r\n      \"sdown_data\",\r\n      \"sspace_data\",\r\n      \"sup_data\",\r\n      \"srightdia_data\",\r\n      \"sright_data\",\r\n      \"left_data\",\r\n      \"down_data\",\r\n      \"up_data\",\r\n      \"right_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzGor_data\",\r\n      \"frzSpace_data\",\r\n      \"frzIyo_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzLdia_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzSpace_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRdia_data\",\r\n      \"sfrzRight_data\",\r\n      \"frzLeft_data\",\r\n      \"frzDown_data\",\r\n      \"frzUp_data\",\r\n      \"frzRight_data\"\r\n    ],\r\n    colorGroup: [2, 2, 2, 0, 1, 0, 2, 0, 1, 0, 3, 3, 3, 3]\r\n  },\r\n\r\n  \"15\": {\r\n    id: 16,\r\n    num: 15,\r\n    keys: [\r\n      \"KeyW\",\r\n      \"KeyE\",\r\n      \"Digit3\",\r\n      \"KeyR\",\r\n      \"KeyS\",\r\n      \"KeyD\",\r\n      \"KeyF\",\r\n      \"KeyG\",\r\n      \"KeyJ\",\r\n      \"KeyK\",\r\n      \"KeyL\",\r\n      \"KeyU\",\r\n      \"KeyI\",\r\n      \"Digit8\",\r\n      \"KeyO\"\r\n    ],\r\n    alternativeKeys: [\r\n      \"\",\r\n      \"\",\r\n      \"Digit4\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"KeyH\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"Digit9\",\r\n      \"\"\r\n    ],\r\n    noteNames: [\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"sup_data\",\r\n      \"sright_data\",\r\n      \"left_data\",\r\n      \"leftdia_data\",\r\n      \"down_data\",\r\n      \"space_data\",\r\n      \"up_data\",\r\n      \"rightdia_data\",\r\n      \"right_data\",\r\n      \"tleft_data\",\r\n      \"tdown_data\",\r\n      \"tup_data\",\r\n      \"tright_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\",\r\n      \"frzLeft_data\",\r\n      \"frzLdia_data\",\r\n      \"frzDown_data\",\r\n      \"frzSpace_data\",\r\n      \"frzUp_data\",\r\n      \"frzRdia_data\",\r\n      \"frzRight_data\",\r\n      \"tfrzLeft_data\",\r\n      \"tfrzDown_data\",\r\n      \"tfrzUp_data\",\r\n      \"tfrzRight_data\"\r\n    ],\r\n    colorGroup: [3, 3, 3, 3, 0, 1, 0, 2, 0, 1, 0, 3, 3, 3, 3]\r\n  },\r\n\r\n  \"16i\": {\r\n    id: 17,\r\n    num: 16,\r\n    keys: [\r\n      \"KeyZ\",\r\n      \"KeyX\",\r\n      \"KeyC\",\r\n      \"KeyA\",\r\n      \"KeyS\",\r\n      \"KeyD\",\r\n      \"KeyF\",\r\n      \"KeyG\",\r\n      \"KeyJ\",\r\n      \"KeyK\",\r\n      \"KeyL\",\r\n      \"Semicolon\",\r\n      \"KeyU\",\r\n      \"KeyI\",\r\n      \"Digit8\",\r\n      \"KeyO\"\r\n    ],\r\n    alternativeKeys: [\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"KeyH\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"Digit9\",\r\n      \"\"\r\n    ],\r\n    noteNames: [\r\n      \"gor_data\",\r\n      \"space_data\",\r\n      \"iyo_data\",\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"sup_data\",\r\n      \"sright_data\",\r\n      \"aspace_data\",\r\n      \"aleft_data\",\r\n      \"adown_data\",\r\n      \"aup_data\",\r\n      \"aright_data\",\r\n      \"left_data\",\r\n      \"down_data\",\r\n      \"up_data\",\r\n      \"right_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzGor_data\",\r\n      \"frzSpace_data\",\r\n      \"frzIyo_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\",\r\n      \"afrzSpace_data\",\r\n      \"afrzLeft_data\",\r\n      \"afrzDown_data\",\r\n      \"afrzUp_data\",\r\n      \"afrzRight_data\",\r\n      \"frzLeft_data\",\r\n      \"frzDown_data\",\r\n      \"frzUp_data\",\r\n      \"frzRight_data\"\r\n    ],\r\n    colorGroup: [2, 2, 2, 1, 0, 1, 0, 2, 0, 1, 0, 1, 3, 3, 3, 3]\r\n  },\r\n\r\n  \"17\": {\r\n    id: 18,\r\n    num: 17,\r\n    keys: [\r\n      \"KeyA\",\r\n      \"KeyZ\",\r\n      \"KeyS\",\r\n      \"KeyX\",\r\n      \"KeyD\",\r\n      \"KeyC\",\r\n      \"KeyF\",\r\n      \"KeyV\",\r\n      \"KeyG\",\r\n      \"KeyN\",\r\n      \"KeyJ\",\r\n      \"KeyM\",\r\n      \"KeyK\",\r\n      \"Comma\",\r\n      \"KeyL\",\r\n      \"Period\"\r\n    ],\r\n    alternativeKeys: [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"KeyH\"],\r\n    noteNames: [\r\n      \"aleft_data\",\r\n      \"bleft_data\",\r\n      \"adown_data\",\r\n      \"bdown_data\",\r\n      \"aup_data\",\r\n      \"bup_data\",\r\n      \"aright_data\",\r\n      \"bright_data\",\r\n      \"space_data\",\r\n      \"cleft_data\",\r\n      \"dleft_data\",\r\n      \"cdown_data\",\r\n      \"ddown_data\",\r\n      \"cup_data\",\r\n      \"dup_data\",\r\n      \"cright_data\",\r\n      \"dright_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"afrzLeft_data\",\r\n      \"bfrzLeft_data\",\r\n      \"afrzDown_data\",\r\n      \"bfrzDown_data\",\r\n      \"afrzUp_data\",\r\n      \"bfrzUp_data\",\r\n      \"afrzRight_data\",\r\n      \"bfrzRight_data\",\r\n      \"frzSpace_data\",\r\n      \"cfrzLeft_data\",\r\n      \"dfrzLeft_data\",\r\n      \"cfrzDown_data\",\r\n      \"dfrzDown_data\",\r\n      \"cfrzUp_data\",\r\n      \"dfrzUp_data\",\r\n      \"cfrzRight_data\",\r\n      \"dfrzRight_data\"\r\n    ],\r\n    colorGroup: [0, 1, 0, 1, 0, 1, 0, 1, 2, 1, 0, 1, 0, 1, 0, 1, 0]\r\n  }\r\n};\r\n","import {\r\n  KeyConfig,\r\n  CustomKeyConfig,\r\n  DefaultKeyConfig\r\n} from \"@/model/KeyConfig\";\r\n\r\nexport function createCustomKeyConfig(): CustomKeyConfig {\r\n  const customKeyConfigStr = localStorage.getItem(\"customKeyConfig\");\r\n  let keyConfig: KeyConfig;\r\n  if (customKeyConfigStr) {\r\n    const obj = JSON.parse(customKeyConfigStr) as CustomKeyConfig;\r\n    keyConfig = Object.assign(DefaultKeyConfig, obj);\r\n  } else {\r\n    keyConfig = DefaultKeyConfig;\r\n  }\r\n  return keyConfig;\r\n}\r\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue, { PropType } from \"vue\";\r\nimport Konva from \"konva\";\r\nimport { CustomKeyConfig } from \"@/model/KeyConfig\";\r\nimport { ScoreData } from \"@/model/ScoreData\";\r\nimport { CustomKeyKind } from \"@/model/KeyKind\";\r\nimport { PageScore, DefaultPageScore } from \"@/model/PageScore\";\r\nimport {\r\n  noteWidth,\r\n  editorHeight,\r\n  verticalSizeNum,\r\n  quarterInterval,\r\n  laneColors,\r\n  canvasMarginHorizontal,\r\n  canvasMarginVertical\r\n} from \"./EditorConstant\";\r\nimport { Timing } from \"../../model/Timing\";\r\nimport { MusicService } from \"./service/MusicService\";\r\nimport { SpeedType } from \"../../model/Speed\";\r\nimport { NoteService } from \"./service/NoteService\";\r\nimport { SpeedPieceService } from \"./service/SpeedPieceService\";\r\nimport { PageScoreService } from \"./service/PageScoreService\";\r\nimport { CurrentPositionService } from \"./service/CurrentPositionService\";\r\nimport SpeedPiece from \"./SpeedPiece.vue\";\r\nimport { positionToSeconds } from \"./helper/Calculator\";\r\nimport { createCustomKeyConfig } from \"../common/createCustomKeyConfig\";\r\n\r\ntype DataType = {\r\n  currentPosition: number;\r\n  scoreData: ScoreData;\r\n  divisor: number;\r\n  keyKind: CustomKeyKind;\r\n  keyNum: number;\r\n  page: number;\r\n  editorWidth: number;\r\n  isReverse: boolean;\r\n  musicTimer: number | null;\r\n  musicService: MusicService;\r\n  copyScoreStore: PageScore;\r\n  currentPositionService: CurrentPositionService;\r\n  noteService?: NoteService;\r\n  speedPieceService?: SpeedPieceService;\r\n  pageScoreService?: PageScoreService;\r\n  stage?: Konva.Stage;\r\n  baseLayer?: Konva.Layer;\r\n  notesLayer?: Konva.Layer;\r\n  currentPositionLayer?: Konva.Layer;\r\n};\r\n\r\nexport default Vue.extend({\r\n  name: \"EditorMain\",\r\n  props: {\r\n    pageNum: Number,\r\n    loadScoreData: { type: Object as PropType<ScoreData> },\r\n    loadMusicUrl: String,\r\n    keyConfig: { type: Object as PropType<CustomKeyConfig> },\r\n    selectedKey: String,\r\n    timing: { type: Object as PropType<Timing> },\r\n    propScoreNumber: Number,\r\n    musicVolume: Number,\r\n    musicRate: Number\r\n  },\r\n  components: { SpeedPiece },\r\n  data(): DataType {\r\n    const scoreData = this.loadScoreData;\r\n    const storedKeyKind = sessionStorage.getItem(\"keyKind\");\r\n    const keyKind = (scoreData.keyKind ||\r\n      storedKeyKind ||\r\n      this.selectedKey) as CustomKeyKind;\r\n    scoreData.keyKind = keyKind;\r\n    sessionStorage.setItem(\"keyKind\", keyKind); // key\r\n    const keyConfig = createCustomKeyConfig();\r\n    const keyNum = keyConfig[keyKind].num;\r\n    const audio = new Audio(this.loadMusicUrl);\r\n    const isReverseStr: string = localStorage.getItem(\"isReverse\") ?? \"false\";\r\n    const isReverse: boolean = JSON.parse(isReverseStr);\r\n\r\n    return {\r\n      currentPosition: 0,\r\n      scoreData,\r\n      divisor: 24,\r\n      keyKind,\r\n      page: 1,\r\n      keyNum,\r\n      isReverse,\r\n      editorWidth: noteWidth * keyConfig[keyKind].num,\r\n      musicService: new MusicService(audio),\r\n      musicTimer: null,\r\n      copyScoreStore: new DefaultPageScore(keyNum),\r\n      currentPositionService: (undefined as unknown) as CurrentPositionService\r\n    };\r\n  },\r\n  methods: {\r\n    // \r\n    baseLayerDraw(): void {\r\n      const divisor = this.divisor;\r\n      const keyNum = this.keyNum;\r\n      const editorWidth = this.editorWidth;\r\n\r\n      const stage = this.stage as Konva.Stage;\r\n      const baseLayer = this.baseLayer as Konva.Layer;\r\n      const notesLayer = this.notesLayer as Konva.Layer;\r\n      const currentPositionLayer = this.currentPositionLayer as Konva.Layer;\r\n\r\n      baseLayer.destroyChildren();\r\n\r\n      // \r\n      for (let lane = 0; lane < keyNum; lane++) {\r\n        const xPos = (lane + 1) * noteWidth;\r\n\r\n        const colorGroup = this.keyConfig[this.keyKind].colorGroup;\r\n        const color = laneColors[colorGroup[lane]];\r\n\r\n        const filler = new Konva.Rect({\r\n          x: xPos - noteWidth,\r\n          width: noteWidth,\r\n          height: editorHeight,\r\n          fill: color,\r\n          strokeWidth: 0\r\n        });\r\n        baseLayer.add(filler);\r\n\r\n        const line = new Konva.Line({\r\n          points: [xPos, 0, xPos, editorHeight],\r\n          stroke: \"#969696\",\r\n          strokeWidth: 0.5\r\n        });\r\n        baseLayer.add(line);\r\n      }\r\n\r\n      // \r\n      for (let i = 0; i < verticalSizeNum / divisor; i++) {\r\n        const yPos = (i + 1) * divisor;\r\n        const line = new Konva.Line({\r\n          points: [0, yPos, editorWidth, yPos],\r\n          stroke: \"#969696\",\r\n          strokeWidth: (divisor * (i + 1)) % quarterInterval == 0 ? 1 : 0.5\r\n        });\r\n        baseLayer.add(line);\r\n      }\r\n\r\n      // \r\n      const rect = new Konva.Rect({\r\n        width: editorWidth,\r\n        height: editorHeight,\r\n        stroke: \"black\",\r\n        strokeWidth: 1\r\n      });\r\n      baseLayer.add(rect);\r\n\r\n      stage.add(baseLayer);\r\n      stage.add(notesLayer);\r\n      stage.add(currentPositionLayer);\r\n    },\r\n\r\n    // \r\n    playMusicLoop(timing: Timing) {\r\n      const startPosition = -verticalSizeNum / 4;\r\n      const endPosition = verticalSizeNum;\r\n      const startTime = positionToSeconds(timing, this.page, startPosition);\r\n      const endTime = positionToSeconds(timing, this.page, endPosition);\r\n\r\n      const musicVolume = this.musicVolume;\r\n      const musicRate = this.musicRate;\r\n\r\n      const loop = (startTime: number, endTime: number) => {\r\n        const playDuration = ((endTime - startTime) * 1000) / musicRate;\r\n        this.musicService.play(startTime, musicVolume, musicRate);\r\n        this.currentPositionService.musicAnimate(playDuration);\r\n        if (this.musicTimer) {\r\n          const timer: number = setTimeout(() => {\r\n            this.musicService.pause();\r\n            loop(startTime, endTime);\r\n          }, playDuration);\r\n          this.musicTimer = timer;\r\n        }\r\n      };\r\n\r\n      this.musicTimer = 1;\r\n      loop(startTime, endTime);\r\n    },\r\n\r\n    // \r\n    stopMusicLoop(timer: number) {\r\n      const stage = this.stage as Konva.Stage;\r\n      const currentPositionLayer = this.currentPositionLayer as Konva.Layer;\r\n      const node = currentPositionLayer.findOne(\"#musicPosition\");\r\n      node.destroy();\r\n      stage.add(currentPositionLayer);\r\n\r\n      this.musicService.pause(timer);\r\n      this.musicTimer = null;\r\n    },\r\n\r\n    // \r\n    displayPageScore(page: number): void {\r\n      const stage = this.stage as Konva.Stage;\r\n      const notesLayer = this.notesLayer as Konva.Layer;\r\n      const noteService = this.noteService as NoteService;\r\n      const speedPieceService = this.speedPieceService as SpeedPieceService;\r\n\r\n      const pageScore = this.scoreData.scores[page - 1];\r\n\r\n      notesLayer.destroyChildren();\r\n      stage.add(notesLayer);\r\n\r\n      pageScore.notes.forEach((laneArr, lane) => {\r\n        laneArr.forEach(position => {\r\n          noteService.draw(lane, position, false);\r\n        });\r\n      });\r\n      pageScore.freezes.forEach((laneArr, lane) => {\r\n        laneArr.forEach(position => {\r\n          noteService.draw(lane, position, true);\r\n        });\r\n      });\r\n      pageScore.speeds.forEach(speed => {\r\n        speedPieceService.draw(speed.position, speed.type);\r\n      });\r\n    },\r\n\r\n    // \r\n    pageMove(page: number): void {\r\n      this.page = page;\r\n\r\n      //  + 1empty\r\n      if (!this.scoreData.scores[page]) this.scoreData.scores.length = page + 1;\r\n      this.scoreData.scores = [...this.scoreData.scores].map(pageScore => {\r\n        if (!pageScore) return new DefaultPageScore(this.keyNum);\r\n        else return pageScore;\r\n      });\r\n      this.displayPageScore(page);\r\n\r\n      // \r\n      if (this.musicTimer) {\r\n        this.stopMusicLoop(this.musicTimer);\r\n        this.playMusicLoop(this.timing);\r\n      }\r\n\r\n      this.currentPositionService.draw(this.currentPosition, page);\r\n    },\r\n    pageMinus(n: number, position = 0): void {\r\n      this.$emit(\"page-minus\", n);\r\n      this.currentPositionService.move(position, this.page);\r\n    },\r\n    pagePlus(n: number): void {\r\n      this.$emit(\"page-plus\", n);\r\n      this.currentPositionService.move(0, this.page);\r\n    },\r\n\r\n    // \r\n    changeDivisor(divisor: number) {\r\n      this.divisor = divisor;\r\n      if (this.currentPosition % divisor !== 0) {\r\n        this.currentPositionService.move(\r\n          Math.floor(this.currentPosition / divisor) * divisor,\r\n          this.page\r\n        );\r\n      }\r\n      this.baseLayerDraw();\r\n    },\r\n\r\n    // \r\n    currentPositionIncrease() {\r\n      this.currentPosition += this.divisor;\r\n      if (this.currentPosition >= verticalSizeNum) this.pagePlus(1);\r\n      else this.currentPositionService.move(this.currentPosition, this.page);\r\n    },\r\n\r\n    currentPositionDecrese() {\r\n      this.currentPosition -= this.divisor;\r\n      if (this.currentPosition < 0) {\r\n        if (this.page === 1) this.currentPosition = 0;\r\n        else this.pageMinus(1, this.currentPosition + verticalSizeNum);\r\n      } else this.currentPositionService.move(this.currentPosition, this.page);\r\n    },\r\n\r\n    // \r\n    keydownAction(e: KeyboardEvent): void {\r\n      const noteService = this.noteService as NoteService;\r\n      const speedPieceService = this.speedPieceService as SpeedPieceService;\r\n      const pageScoreService = this.pageScoreService as PageScoreService;\r\n\r\n      const page = this.page;\r\n      const currentPosition = this.currentPosition;\r\n      const divisor = this.divisor;\r\n\r\n      const positionLineMove = (isRaise: boolean) => {\r\n        return isRaise === this.isReverse\r\n          ? this.currentPositionDecrese\r\n          : this.currentPositionIncrease;\r\n      };\r\n\r\n      if (e.ctrlKey) {\r\n        switch (e.code) {\r\n          case \"Digit1\":\r\n            this.changeDivisor(quarterInterval);\r\n            break;\r\n          case \"Digit2\":\r\n            this.changeDivisor(quarterInterval / 2);\r\n            break;\r\n          case \"Digit3\":\r\n            this.changeDivisor(quarterInterval / 4);\r\n            break;\r\n          case \"Digit4\":\r\n            this.changeDivisor(quarterInterval / 3);\r\n            break;\r\n          case \"Digit5\":\r\n            this.changeDivisor(quarterInterval / 6);\r\n            break;\r\n          case \"Digit6\":\r\n            this.changeDivisor(quarterInterval / 12);\r\n            break;\r\n          case \"Digit7\":\r\n            this.changeDivisor(quarterInterval / 8);\r\n            break;\r\n          case \"KeyX\":\r\n            pageScoreService.cut(page);\r\n            break;\r\n          case \"KeyC\":\r\n            pageScoreService.copy(page);\r\n            break;\r\n          case \"KeyV\":\r\n            pageScoreService.paste(page);\r\n            break;\r\n          case \"ArrowUp\": {\r\n            const delta = this.isReverse ? -divisor : divisor;\r\n            noteService.shift(page, currentPosition, delta);\r\n            positionLineMove(true)();\r\n            this.displayPageScore(this.page);\r\n            break;\r\n          }\r\n          case \"ArrowDown\": {\r\n            const delta = this.isReverse ? divisor : -divisor;\r\n            noteService.shift(page, currentPosition, delta);\r\n            positionLineMove(false)();\r\n            this.displayPageScore(this.page);\r\n            break;\r\n          }\r\n        }\r\n      } else {\r\n        switch (e.code) {\r\n          case \"Enter\": {\r\n            if (!this.musicTimer) {\r\n              const timing = this.timing;\r\n              this.playMusicLoop(timing);\r\n            } else {\r\n              const timer = this.musicTimer;\r\n              this.stopMusicLoop(timer);\r\n            }\r\n            break;\r\n          }\r\n          case \"Backspace\":\r\n            noteService.removeOnPosition(this.page, this.currentPosition);\r\n            this.displayPageScore(this.page);\r\n            break;\r\n          case \"Space\": // ArrowUp\r\n            positionLineMove(true)();\r\n            break;\r\n          case \"ArrowUp\":\r\n            positionLineMove(true)();\r\n            break;\r\n          case \"KeyB\": // ArrowDown\r\n            positionLineMove(false)();\r\n            break;\r\n          case \"ArrowDown\":\r\n            positionLineMove(false)();\r\n            break;\r\n          case \"ArrowLeft\":\r\n            if (e.shiftKey) this.pageMinus(5);\r\n            else this.pageMinus(1);\r\n            break;\r\n          case \"ArrowRight\":\r\n            if (e.shiftKey) this.pagePlus(5);\r\n            else this.pagePlus(1);\r\n            break;\r\n          case \"Quote\":\r\n            {\r\n              const speedType: SpeedType = e.shiftKey ? \"boost\" : \"speed\";\r\n              const page = this.page;\r\n              const position = this.currentPosition;\r\n\r\n              if (speedPieceService.hasSpeedPiece(page, position)) {\r\n                speedPieceService.remove(page, position);\r\n                speedPieceService.clear(position);\r\n              } else {\r\n                speedPieceService.add(page, position, speedType);\r\n                speedPieceService.draw(position, speedType);\r\n              }\r\n            }\r\n            break;\r\n\r\n          default: {\r\n            const possiblyLane = Math.max(\r\n              this.keyConfig[this.keyKind].keys.indexOf(e.code),\r\n              this.keyConfig[this.keyKind].alternativeKeys.indexOf(e.code)\r\n            );\r\n            const isFreeze = e.shiftKey;\r\n            const page = this.page;\r\n            const position = this.currentPosition;\r\n\r\n            if (possiblyLane >= 0) {\r\n              if (noteService.hasNote(page, possiblyLane, position).exists) {\r\n                noteService.remove(page, possiblyLane, position);\r\n                noteService.clear(possiblyLane, position);\r\n              } else {\r\n                noteService.add(page, possiblyLane, position, isFreeze);\r\n                noteService.draw(possiblyLane, position, isFreeze);\r\n              }\r\n\r\n              this.currentPositionIncrease();\r\n            }\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  mounted(): void {\r\n    const stage = new Konva.Stage({\r\n      x: canvasMarginHorizontal,\r\n      y: canvasMarginVertical,\r\n      container: \"canvas\",\r\n      width: this.editorWidth + canvasMarginHorizontal * 2,\r\n      height: editorHeight + canvasMarginVertical * 2\r\n    });\r\n    const baseLayer = new Konva.Layer({\r\n      container: \"baseLayer\"\r\n    });\r\n    const currentPositionLayer = new Konva.Layer({\r\n      container: \"currentPositionLayer\"\r\n    });\r\n    const notesLayer = new Konva.Layer({\r\n      container: \"notesLayer\"\r\n    });\r\n\r\n    this.stage = stage;\r\n    this.baseLayer = baseLayer;\r\n    this.currentPositionLayer = currentPositionLayer;\r\n    this.notesLayer = notesLayer;\r\n\r\n    this.noteService = new NoteService(\r\n      this.scoreData,\r\n      this.keyConfig,\r\n      this.keyKind,\r\n      this.isReverse,\r\n      this.stage,\r\n      this.notesLayer\r\n    );\r\n\r\n    this.speedPieceService = new SpeedPieceService(\r\n      this.scoreData,\r\n      this.editorWidth,\r\n      this.isReverse,\r\n      this.stage,\r\n      this.notesLayer\r\n    );\r\n\r\n    this.pageScoreService = new PageScoreService(\r\n      this.scoreData,\r\n      this.copyScoreStore,\r\n      this.keyNum,\r\n      this.displayPageScore\r\n    );\r\n\r\n    this.currentPositionService = new CurrentPositionService(\r\n      this.scoreData,\r\n      this.timing,\r\n      this.editorWidth,\r\n      this.isReverse,\r\n      this.stage,\r\n      this.currentPositionLayer,\r\n      position => (this.currentPosition = position)\r\n    );\r\n\r\n    this.baseLayerDraw();\r\n    this.currentPositionService.draw(0, 1);\r\n    this.pageMove(1);\r\n    this.displayPageScore(1);\r\n  },\r\n\r\n  watch: {\r\n    pageNum(newPage: number): void {\r\n      this.pageMove(newPage);\r\n    },\r\n\r\n    scoreData(scoreData: ScoreData): void {\r\n      this.$emit(\"changeScoreData\", scoreData);\r\n    },\r\n\r\n    propScoreNumber(scoreNumber: number) {\r\n      this.scoreData.scoreNumber = scoreNumber;\r\n    }\r\n  }\r\n});\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorMain.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorMain.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EditorMain.vue?vue&type=template&id=4a6625c6&\"\nimport script from \"./EditorMain.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditorMain.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"uk-modal-dialog\",attrs:{\"id\":\"editor-option\",\"uk-modal\":\"\",\"container\":\"#editor-controller\"}},[_c('button',{staticClass:\"uk-modal-close-default\",attrs:{\"type\":\"button\",\"uk-close\":\"\"}}),_c('h2',{staticClass:\"uk-modal-title\"},[_vm._v(\"Option Settings\")]),_c('div',{staticClass:\"option-item-container\",attrs:{\"id\":\"option-score-number\"}},[_c('div',{staticClass:\"menu-txt\"},[_vm._v(\"Score No.\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.inputScoreNumber),expression:\"inputScoreNumber\",modifiers:{\"number\":true}}],staticClass:\"uk-input uk-form-small\",attrs:{\"type\":\"number\",\"min\":\"1\"},domProps:{\"value\":(_vm.inputScoreNumber)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.inputScoreNumber=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"option-item-container\",attrs:{\"id\":\"option-music-volume\"}},[_c('div',{staticClass:\"menu-txt\"},[_vm._v(\"Music Volume\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.inputMusicVolume),expression:\"inputMusicVolume\",modifiers:{\"number\":true}}],staticClass:\"uk-range uk-form-small\",attrs:{\"type\":\"range\",\"min\":\"0\",\"max\":\"1\",\"step\":\"0.05\"},domProps:{\"value\":(_vm.inputMusicVolume)},on:{\"__r\":function($event){_vm.inputMusicVolume=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"option-item-container\",attrs:{\"id\":\"option-music-rate\"}},[_c('div',{staticClass:\"menu-txt\"},[_vm._v(\"Music Speed\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.inputMusicRate),expression:\"inputMusicRate\",modifiers:{\"number\":true}}],staticClass:\"uk-input uk-form-small\",attrs:{\"type\":\"number\",\"min\":\"0.25\",\"max\":\"2\",\"step\":\"0.05\"},domProps:{\"value\":(_vm.inputMusicRate)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.inputMusicRate=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\nexport default Vue.extend({\r\n  name: \"EditorOption\",\r\n  props: {\r\n    scoreNumber: Number,\r\n    musicVolume: Number,\r\n    musicRate: Number\r\n  },\r\n  computed: {\r\n    inputScoreNumber: {\r\n      get(): number {\r\n        return this.scoreNumber;\r\n      },\r\n      set(scoreNumber: string) {\r\n        const value = Number(scoreNumber);\r\n        this.$emit(\"update:scoreNumber\", value);\r\n      }\r\n    },\r\n\r\n    inputMusicVolume: {\r\n      get(): number {\r\n        return this.musicVolume;\r\n      },\r\n      set(musicVolume: string) {\r\n        const value = Number(musicVolume);\r\n        this.$emit(\"update:musicVolume\", value);\r\n      }\r\n    },\r\n\r\n    inputMusicRate: {\r\n      get(): number {\r\n        return this.musicRate;\r\n      },\r\n      set(musicRate: string) {\r\n        const value = Number(musicRate);\r\n        this.$emit(\"update:musicRate\", value);\r\n      }\r\n    }\r\n  }\r\n});\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorOption.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorOption.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EditorOption.vue?vue&type=template&id=3aba1ab8&\"\nimport script from \"./EditorOption.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditorOption.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { Timing } from \"./Timing\";\r\nimport { PageScore, DefaultPageScore } from \"./PageScore\";\r\nimport { CustomKeyKind } from \"./KeyKind\";\r\n\r\nexport interface ScoreData {\r\n  keyKind?: CustomKeyKind;\r\n  blankFrame: number;\r\n  timings: Timing[];\r\n  scoreNumber?: number;\r\n  scores: PageScore[];\r\n}\r\n\r\nexport class DefaultScoreData implements ScoreData {\r\n  constructor(private keyNum: number) {}\r\n\r\n  blankFrame = 200;\r\n\r\n  timings: Timing[] = [\r\n    {\r\n      label: 1,\r\n      startNum: 0,\r\n      bpm: 140\r\n    }\r\n  ];\r\n\r\n  scoreNumber = 1;\r\n\r\n  scores: PageScore[] = [new DefaultPageScore(this.keyNum)];\r\n}\r\n","import _ from \"lodash\";\nimport { CustomKeyConfig } from \"@/model/KeyConfig\";\nimport { ScoreData } from \"@/model/ScoreData\";\nimport { CustomKeyKind } from \"@/model/KeyKind\";\nimport { PageScore, DefaultPageScore } from \"@/model/PageScore\";\nimport { quarterInterval } from \"../EditorConstant\";\nimport { Speed } from \"@/model/Speed\";\nimport { positionToFrame } from \"../helper/Calculator\";\n\nexport type FrameData = {\n  notes: number[][];\n  freezes: number[][];\n  speeds: Speed[];\n};\n\nexport type OutputData = {\n  notes: number[][];\n  freezes: number[][];\n  speeds: Speed[];\n  boosts: Speed[];\n};\n\nexport class ScoreConvertService {\n  constructor(\n    private keyKind: CustomKeyKind,\n    private keyConfig: CustomKeyConfig\n  ) {}\n\n  private keyNum = this.keyConfig[this.keyKind].num;\n  private defaultPageScore = new DefaultPageScore(this.keyNum);\n\n  toFrameData(scoreData: ScoreData): FrameData[] {\n    const initialPageScore = new DefaultPageScore(this.keyNum);\n    const blankFrame = scoreData.blankFrame;\n    const timings = scoreData.timings.sort((a, b) => a.label - b.label);\n    const scores = scoreData.scores;\n\n    let labelCounter = 0;\n    const maxPageNum = scores.length + 1;\n    const frameScores: PageScore[] = [];\n\n    for (let pageNum = 1; pageNum < maxPageNum; pageNum++) {\n      const pageScore = scores[pageNum - 1];\n      if (pageScore === undefined) frameScores.push(initialPageScore);\n      else {\n        if (timings[labelCounter] && pageNum === timings[labelCounter].label)\n          labelCounter++;\n        const timing = timings[labelCounter - 1];\n        const calculateFrame = (position: number) =>\n          Math.round(positionToFrame(timing, pageNum, position, blankFrame));\n\n        const pageNoteFrames = pageScore.notes.map(notesArr =>\n          notesArr.sort((a, b) => a - b).map(calculateFrame)\n        );\n        const freezeNoteFrames = pageScore.freezes.map(freezesArr =>\n          freezesArr.sort((a, b) => a - b).map(calculateFrame)\n        );\n        const speedsNoteFrames = pageScore.speeds.map(speed => {\n          const newSpeed: Speed = _.cloneDeep(speed);\n          newSpeed.position = calculateFrame(speed.position);\n          return newSpeed;\n        });\n        frameScores.push({\n          notes: pageNoteFrames,\n          freezes: freezeNoteFrames,\n          speeds: speedsNoteFrames\n        });\n      }\n    }\n    return frameScores;\n  }\n\n  framesToOutputData(frameScores: FrameData[]) {\n    const initialData = {\n      notes: new Array(this.keyNum).fill([]).map(() => []),\n      freezes: new Array(this.keyNum).fill([]).map(() => []),\n      speeds: [],\n      boosts: []\n    };\n\n    const outputData: OutputData = frameScores.reduce(\n      (data: OutputData, currentPage) => {\n        for (let i = 0; i < this.keyNum; i++) {\n          data.notes[i] = data.notes[i].concat(currentPage.notes[i]);\n          data.freezes[i] = data.freezes[i].concat(currentPage.freezes[i]);\n        }\n        data.speeds = data.speeds.concat(\n          currentPage.speeds.filter(speed => speed.type === \"speed\")\n        );\n        data.boosts = data.boosts.concat(\n          currentPage.speeds.filter(speed => speed.type === \"boost\")\n        );\n        return data;\n      },\n      initialData\n    );\n\n    return outputData;\n  }\n\n  convert(scoreData: ScoreData, scorePostfix = \"\"): string {\n    const frameScores = this.toFrameData(scoreData);\n    const data = this.framesToOutputData(frameScores);\n\n    data.speeds.sort((a, b) => a.position - b.position);\n    data.boosts.sort((a, b) => a.position - b.position);\n\n    const noteStr = data.notes.reduce(\n      (str, notesArr, laneNum) =>\n        `${str}${\n          this.keyConfig[this.keyKind].noteNames[laneNum]\n        }=${notesArr.join(\",\")}|`,\n      \"|\"\n    );\n\n    const freezeStr = data.freezes.reduce(\n      (str, freezesArr, laneNum) =>\n        `${str}${\n          this.keyConfig[this.keyKind].freezeNames[laneNum]\n        }=${freezesArr.join(\",\")}|`,\n      \"\"\n    );\n\n    const speedStr =\n      \"speed_data=\" +\n      data.speeds.map(speed => `${speed.position},${speed.value}`).join(\",\") +\n      \"|\";\n    const boostStr =\n      \"boost_data=\" +\n      data.boosts.map(speed => `${speed.position},${speed.value}`).join(\",\") +\n      \"|\";\n\n    return `\n${noteStr + freezeStr}\n|${speedStr + boostStr}`.replace(/_/g, `${scorePostfix}_`);\n  }\n\n  cutLastDefault(scoreData: ScoreData): ScoreData {\n    const len = scoreData.scores.length;\n    const copiedScoreData = _.cloneDeep(scoreData);\n    let i = len - 1;\n    while (i >= 0) {\n      if (_.isEqual(copiedScoreData.scores[i], this.defaultPageScore)) {\n        copiedScoreData.scores.pop();\n        i--;\n      } else break;\n    }\n    return copiedScoreData;\n  }\n\n  // \n  convertWithQuarters(scoreData: ScoreData, scorePostfix = \"\"): string {\n    const quarterNotes: number[] = [];\n    for (let i = 0; i < 8; i++) {\n      quarterNotes.push(i * quarterInterval);\n    }\n\n    // Todo: \n    const pushQuartersPageNum = 20;\n\n    // Todo: \n    const pushQuartersLane = 0;\n\n    const newScoreData = this.cutLastDefault(_.cloneDeep(scoreData));\n\n    for (let i = 0; i < pushQuartersPageNum; i++) {\n      const quartersPageScore: PageScore = new DefaultPageScore(this.keyNum);\n      quartersPageScore.notes[pushQuartersLane] = quarterNotes;\n      newScoreData.scores.push(quartersPageScore);\n    }\n\n    return this.convert(this.cutLastDefault(newScoreData), scorePostfix);\n  }\n\n  save(scoreData: ScoreData): string {\n    return JSON.stringify(this.cutLastDefault(scoreData));\n  }\n}\n","/**\r\n * \r\n * cf.) https://github.com/cwtickle/danoniplus/blob/v15.1.3/js/danoni_main.js#L1400-L1594\r\n */\r\n\r\nimport _ from \"lodash\";\r\n\r\nexport type FlattenData = {\r\n  allScorebook: number[];\r\n  frzStartData: number[];\r\n  frzEndData: number[];\r\n};\r\n\r\nexport type ScoreDataInfo = {\r\n  level: number;\r\n  single: number;\r\n  double: number;\r\n  overTriple: number;\r\n  laneContinuous: number;\r\n};\r\n\r\nexport class LevelCalcService {\r\n  // \r\n  calcFlattenData(\r\n    noteFrames: number[][],\r\n    freezeFrames: number[][]\r\n  ): FlattenData {\r\n    const flattenData: FlattenData = {\r\n      allScorebook: [],\r\n      frzStartData: [],\r\n      frzEndData: []\r\n    };\r\n\r\n    freezeFrames.forEach(laneFreezes => {\r\n      flattenData.frzStartData = flattenData.frzStartData.concat(\r\n        laneFreezes.filter((value, index) => index % 2 == 0)\r\n      );\r\n      flattenData.frzEndData = flattenData.frzEndData.concat(\r\n        laneFreezes.filter((value, index) => index % 2 == 1)\r\n      );\r\n    });\r\n\r\n    flattenData.frzStartData.sort();\r\n    flattenData.frzEndData.sort();\r\n    flattenData.allScorebook = _.flattenDeep(\r\n      noteFrames.concat(flattenData.frzStartData)\r\n    ).sort();\r\n\r\n    return flattenData;\r\n  }\r\n\r\n  // \r\n  calcLaneContinuous(noteFrames: number[][], freezeFrames: number[][]): number {\r\n    const keyNum = noteFrames.length;\r\n    let laneContinuous = 0;\r\n    for (let i = 0; i < keyNum; i++) {\r\n      const frames = noteFrames[i]\r\n        .concat(freezeFrames[i].filter((_value, index) => index % 2 == 0))\r\n        .sort();\r\n      laneContinuous += frames.reduce((acc, value, index) => {\r\n        const continuousFrame = 10; // \r\n        const diff = index !== 0 ? value - frames[index - 1] : continuousFrame;\r\n        const adj =\r\n          diff < continuousFrame\r\n            ? continuousFrame / diff ** 2 - 1 / continuousFrame\r\n            : 0;\r\n        return acc + adj;\r\n      }, 0);\r\n    }\r\n    return laneContinuous;\r\n  }\r\n\r\n  // \r\n  calcAdjustValue(flattenData: FlattenData): ScoreDataInfo {\r\n    const data = _.cloneDeep(flattenData);\r\n    const allScorebook = data.allScorebook;\r\n    const frzStartData = data.frzStartData;\r\n    const frzEndData = data.frzEndData;\r\n\r\n    allScorebook.unshift(allScorebook[0] - 100);\r\n    allScorebook.push(allScorebook[allScorebook.length - 1] + 100);\r\n    let currentFrzNum = 0;\r\n    const uniqueScorebook = _.uniq(allScorebook);\r\n    const scoreDataInfo: ScoreDataInfo = {\r\n      level: 0,\r\n      single: 0,\r\n      double: 0,\r\n      overTriple: 0,\r\n      laneContinuous: 0\r\n    };\r\n\r\n    uniqueScorebook.forEach((frame, index) => {\r\n      const decreaseFrzNum = frzEndData.filter(f => f < frame).length;\r\n      currentFrzNum -= decreaseFrzNum;\r\n      frzEndData.splice(0, decreaseFrzNum);\r\n\r\n      // 3\r\n\r\n      if (index !== uniqueScorebook.length - 1 && index !== 0) {\r\n        const hitsNum = allScorebook.filter(f => f === frame).length;\r\n        if (hitsNum + currentFrzNum > 2)\r\n          scoreDataInfo.overTriple += Math.min(\r\n            hitsNum,\r\n            hitsNum + currentFrzNum - 2\r\n          );\r\n        if (hitsNum >= 2 && currentFrzNum === 0) {\r\n          const doubleAdj =\r\n            40 /\r\n            ((frame - uniqueScorebook[index - 1]) *\r\n              (uniqueScorebook[index + 1] - frame));\r\n          scoreDataInfo.double += doubleAdj;\r\n        }\r\n        if (currentFrzNum < 2) {\r\n          const singleAdj =\r\n            2 / ((2 - currentFrzNum) * (uniqueScorebook[index + 1] - frame));\r\n          scoreDataInfo.single += singleAdj;\r\n        }\r\n      }\r\n\r\n      const increaseFrzNum = frzStartData.filter(f => f === frame).length;\r\n      currentFrzNum += increaseFrzNum;\r\n      frzStartData.splice(0, increaseFrzNum);\r\n    });\r\n    return scoreDataInfo;\r\n  }\r\n\r\n  calcLevel(noteFrames: number[][], freezeFrames: number[][]): ScoreDataInfo {\r\n    const flattenData = this.calcFlattenData(noteFrames, freezeFrames);\r\n    const laneContinuous = this.calcLaneContinuous(noteFrames, freezeFrames);\r\n    const scoreDataInfo = this.calcAdjustValue(flattenData);\r\n    scoreDataInfo.laneContinuous = laneContinuous;\r\n\r\n    const totalNotes = flattenData.allScorebook.length;\r\n    if (totalNotes === 0) return scoreDataInfo;\r\n    else if (totalNotes === 1)\r\n      return Object.assign(scoreDataInfo, { level: 0.01 });\r\n    else {\r\n      const adjFunc = (adj: number) =>\r\n        (adj / Math.sqrt(totalNotes - 1 - scoreDataInfo.overTriple)) * 4;\r\n      const totalAdj = adjFunc(\r\n        scoreDataInfo.single +\r\n          scoreDataInfo.double +\r\n          scoreDataInfo.laneContinuous\r\n      );\r\n      scoreDataInfo.single = adjFunc(scoreDataInfo.single);\r\n      scoreDataInfo.double = adjFunc(scoreDataInfo.double);\r\n      scoreDataInfo.laneContinuous = adjFunc(scoreDataInfo.laneContinuous);\r\n\r\n      const tripleCorrectedLevel =\r\n        (totalAdj * (totalNotes - 1)) /\r\n        (totalNotes - 1 - scoreDataInfo.overTriple);\r\n      const roundedLevel = Math.round(tripleCorrectedLevel * 100) / 100;\r\n\r\n      return Object.assign(scoreDataInfo, { level: roundedLevel });\r\n    }\r\n  }\r\n\r\n  countNotes(noteFrames: number[][], freezeFrames: number[][]) {\r\n    const notesCountArr = noteFrames.map(notes => notes.length);\r\n    const freezesCountArr = freezeFrames.map(freezes => freezes.length);\r\n    return { notesCountArr, freezesCountArr };\r\n  }\r\n\r\n  createScoreDataInfoStr(\r\n    noteFrames: number[][],\r\n    freezeFrames: number[][]\r\n  ): string {\r\n    const scoreDataInfo = this.calcLevel(noteFrames, freezeFrames);\r\n\r\n    const levelStr = `: ${scoreDataInfo.level}${\r\n      scoreDataInfo.overTriple > 0 ? \"*\" : \"\"\r\n    }`;\r\n    const doubleStr = `: ${scoreDataInfo.double}`;\r\n    const continuousStr = `: ${scoreDataInfo.laneContinuous}`;\r\n\r\n    const arrowsCount = this.countNotes(noteFrames, freezeFrames);\r\n    const totalNotes = _.sum(arrowsCount.notesCountArr);\r\n    const totalfreezes = _.sum(arrowsCount.freezesCountArr);\r\n    const arrowNumStr = `: ${totalNotes +\r\n      totalfreezes}(${totalNotes} + ${totalfreezes})`;\r\n    const notesStr = `: (${arrowsCount.notesCountArr.join(\"/\")})`;\r\n    const freezesStr = `: (${arrowsCount.freezesCountArr.join(\"/\")})`;\r\n\r\n    const dataInfoStr = `${levelStr}\r\n${doubleStr}\r\n${continuousStr}\r\n${arrowNumStr}\r\n${notesStr}\r\n${freezesStr}`;\r\n    return dataInfoStr;\r\n  }\r\n}\r\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\nimport EditorMain from \"./EditorMain.vue\";\r\nimport EditorOption from \"./EditorOption.vue\";\r\nimport { Timing } from \"../../model/Timing\";\r\nimport { ScoreData, DefaultScoreData } from \"../../model/ScoreData\";\r\nimport { ScoreConvertService } from \"./service/ScoreConvertService\";\r\nimport { LevelCalcService } from \"./service/LevelCalcService\";\r\nimport { CustomKeyKind } from \"../../model/KeyKind\";\r\nimport { CustomKeyConfig } from \"../../model/KeyConfig\";\r\nimport { fps, quarterInterval, verticalSizeNum } from \"./EditorConstant\";\r\nimport { createCustomKeyConfig } from \"../common/createCustomKeyConfig\";\r\n\r\ntype DataType = {\r\n  pageNum: number;\r\n  labelNum: number;\r\n  timing: Timing;\r\n  scoreData: ScoreData;\r\n  keyKind: CustomKeyKind;\r\n  keyConfig: CustomKeyConfig;\r\n  scoreNumber: number;\r\n  musicVolume: number;\r\n  musicRate: number;\r\n  scoreConvertService: ScoreConvertService;\r\n};\r\n\r\nexport default Vue.extend({\r\n  name: \"EditorController\",\r\n  components: {\r\n    EditorMain,\r\n    EditorOption\r\n  },\r\n  props: {\r\n    selectedKey: String,\r\n    loadScoreDataStr: String,\r\n    loadMusicUrl: String\r\n  },\r\n  data(): DataType {\r\n    const keyConfig = createCustomKeyConfig();\r\n    const keyKind = this.selectedKey as CustomKeyKind;\r\n    const keyNum = keyConfig[keyKind].num;\r\n    let scoreData;\r\n    try {\r\n      //TODO: \r\n      if (!this.loadScoreDataStr) scoreData = new DefaultScoreData(keyNum);\r\n      else\r\n        scoreData = (JSON.parse(this.loadScoreDataStr) as unknown) as ScoreData;\r\n    } catch {\r\n      alert(\"\");\r\n      scoreData = new DefaultScoreData(keyNum);\r\n    }\r\n\r\n    return {\r\n      pageNum: 1,\r\n      labelNum: 1,\r\n      timing: scoreData.timings[0],\r\n      scoreData,\r\n      keyKind,\r\n      keyConfig,\r\n      scoreNumber: scoreData.scoreNumber ? scoreData.scoreNumber : 1,\r\n      musicVolume: 1.0,\r\n      musicRate: 1.0,\r\n      scoreConvertService: new ScoreConvertService(keyKind, keyConfig)\r\n    };\r\n  },\r\n  methods: {\r\n    pageMinus(n: number): void {\r\n      this.pageNum = Math.max(1, this.pageNum - n);\r\n    },\r\n    pagePlus(n: number): void {\r\n      this.pageNum += n;\r\n    },\r\n    labelMinus(n: number): void {\r\n      this.labelNum = Math.max(1, this.labelNum - n);\r\n      this.labelMove(this.labelNum);\r\n      this.pageNum = this.scoreData.timings[this.labelNum - 1].label;\r\n    },\r\n    labelPlus(n: number): void {\r\n      this.labelNum = Math.min(\r\n        this.scoreData.timings.length,\r\n        this.labelNum + n\r\n      );\r\n      this.labelMove(this.labelNum);\r\n      this.pageNum = this.scoreData.timings[this.labelNum - 1].label;\r\n    },\r\n    labelMove(labelNum: number): void {\r\n      const timing = this.scoreData.timings[labelNum - 1];\r\n      this.labelNum = labelNum;\r\n      this.timing = timing;\r\n    },\r\n    changeScoreData(scoreData: ScoreData) {\r\n      this.scoreData = scoreData;\r\n    },\r\n\r\n    writeClipBoard(data: string, message: string): void {\r\n      if (navigator.clipboard) {\r\n        navigator.clipboard.writeText(data);\r\n        alert(message);\r\n      }\r\n    },\r\n\r\n    convert(): void {\r\n      // NOTE: scoreNo\r\n      const postfix =\r\n        this.scoreData.scoreNumber !== 1 && this.scoreData.scoreNumber\r\n          ? this.scoreData.scoreNumber.toString()\r\n          : \"\";\r\n      const converter = this.scoreConvertService;\r\n      const data: string = converter.convert(this.scoreData, postfix);\r\n      const message = \"\";\r\n      this.writeClipBoard(data, message);\r\n\r\n      // \r\n      localStorage.setItem(\"saveData\", converter.save(this.scoreData));\r\n    },\r\n    save(): void {\r\n      const converter = this.scoreConvertService;\r\n      const data: string = converter.save(this.scoreData);\r\n      const message = \"\";\r\n      this.writeClipBoard(data, message);\r\n    },\r\n    convertWithQuarters(): void {\r\n      // NOTE: scoreNo\r\n      const postfix =\r\n        this.scoreData.scoreNumber !== 1 && this.scoreData.scoreNumber\r\n          ? this.scoreData.scoreNumber.toString()\r\n          : \"\";\r\n      const converter = this.scoreConvertService;\r\n      const data: string = converter.convertWithQuarters(\r\n        this.scoreData,\r\n        postfix\r\n      );\r\n      const message = \"\";\r\n      this.writeClipBoard(data, message);\r\n    },\r\n\r\n    displayScoreDataInfo(): void {\r\n      const levelChecker = new LevelCalcService();\r\n      const frameData = this.scoreConvertService.toFrameData(this.scoreData);\r\n      const outputData = this.scoreConvertService.framesToOutputData(frameData);\r\n      const scoreDataInfoStr = levelChecker.createScoreDataInfoStr(\r\n        outputData.notes,\r\n        outputData.freezes\r\n      );\r\n      alert(scoreDataInfoStr);\r\n    },\r\n\r\n    getLabelNumByPageNum(pageNum: number): number {\r\n      const labels = this.scoreData.timings.map(timing => timing.label);\r\n      return labels.indexOf(pageNum);\r\n    },\r\n    getNearestLabelNumByPageNum(pageNum: number): number {\r\n      const labels = this.scoreData.timings.map(timing => timing.label);\r\n      const labelNum = labels.reduce(\r\n        (acc, label) => (label <= pageNum ? acc + 1 : acc),\r\n        0\r\n      );\r\n      return labelNum;\r\n    },\r\n    labelOperation(pageNum: number, labelFlag: boolean): void {\r\n      if (labelFlag) {\r\n        // \r\n        const labelNum = this.getLabelNumByPageNum(pageNum);\r\n        this.scoreData.timings.splice(labelNum, 1);\r\n        this.labelNum--;\r\n        this.timing = this.scoreData.timings[this.labelNum - 1];\r\n      } else {\r\n        // \r\n        const oldTiming = this.timing;\r\n        const framePerPosition = (60 * fps) / quarterInterval / oldTiming.bpm;\r\n        const newStartNum =\r\n          Math.round(\r\n            (oldTiming.startNum +\r\n              (pageNum - oldTiming.label) *\r\n                verticalSizeNum *\r\n                framePerPosition) *\r\n              100\r\n          ) / 100;\r\n        const newTiming: Timing = {\r\n          label: pageNum,\r\n          startNum: newStartNum,\r\n          bpm: oldTiming.bpm\r\n        };\r\n        this.scoreData.timings.splice(this.labelNum, 0, newTiming);\r\n        this.timing = newTiming;\r\n        this.labelNum++;\r\n      }\r\n    },\r\n    callLabelOperation(): void {\r\n      const pageNum = this.pageNum;\r\n      const labelFlag = this.getLabelNumByPageNum(pageNum) !== -1;\r\n      this.labelOperation(pageNum, labelFlag);\r\n      this.pageNum = pageNum;\r\n    }\r\n  },\r\n  watch: {\r\n    pageNum(newPage: number) {\r\n      const labelNum = this.getNearestLabelNumByPageNum(newPage);\r\n      this.labelNum = labelNum;\r\n      this.labelMove(labelNum);\r\n    }\r\n  },\r\n  mounted() {\r\n    if (!this.scoreData.scoreNumber) this.scoreData.scoreNumber = 1;\r\n  }\r\n});\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorController.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorController.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EditorController.vue?vue&type=template&id=0d7a8e49&\"\nimport script from \"./EditorController.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditorController.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\nimport EditorController from \"@/components/editor/EditorController.vue\";\r\n\r\nexport default Vue.extend({\r\n  name: \"Editor\",\r\n  components: {\r\n    EditorController\r\n  },\r\n  props: {\r\n    loadScoreDataStr: String,\r\n    loadMusicUrl: String,\r\n    selectedKey: String\r\n  },\r\n  beforeRouteLeave(to, from, next) {\r\n    const answer = window.confirm(\"\");\r\n    if (answer) next();\r\n    else next(false);\r\n  },\r\n\r\n  methods: {\r\n    beforeunloadAlert(event: BeforeUnloadEvent) {\r\n      event.returnValue = \"\";\r\n    }\r\n  },\r\n  created() {\r\n    window.addEventListener(\"beforeunload\", this.beforeunloadAlert);\r\n  },\r\n  destroyed() {\r\n    window.removeEventListener(\"beforeunload\", this.beforeunloadAlert);\r\n  }\r\n});\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Editor.vue?vue&type=template&id=71f92896&\"\nimport script from \"./Editor.vue?vue&type=script&lang=ts&\"\nexport * from \"./Editor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"start\"}},[_c('start-main')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"start-container\"}},[_c('div',{attrs:{\"id\":\"start-title\"}},[_vm._v(\"DancingOnigiri Editor\")]),_c('div',{attrs:{\"id\":\"start-menu\"}},[_c('start-uploader',{attrs:{\"msg\":_vm.musicTitle},on:{\"fileRecieve\":_vm.onMusicFileRecieve}}),_c('start-uploader',{attrs:{\"msg\":_vm.scoreTitle},on:{\"fileRecieve\":_vm.onScoreFileRecieve}}),_c('div',{attrs:{\"id\":\"start-go-next\"}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedKey),expression:\"selectedKey\"}],staticClass:\"uk-select uk-form-width-medium\",attrs:{\"id\":\"start-key-selector\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedKey=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.keyKinds),function(keyKind){return _c('option',{key:keyKind},[_vm._v(_vm._s(keyKind))])}),0),_c('router-link',{staticClass:\"start-btn btn-orange\",attrs:{\"to\":{\n          name: 'configure',\n          path: 'configure'\n        }}},[_vm._v(\"CONFIG\")]),_c('router-link',{staticClass:\"start-btn btn-blue\",attrs:{\"to\":{\n          name: 'editor',\n          path: 'editor',\n          params: {\n            scoreData: _vm.localSaveDataStr,\n            musicUrl: _vm.musicUrl,\n            key: _vm.selectedKey\n          }\n        }}},[_vm._v(\"REVIVAL\")]),_c('router-link',{staticClass:\"start-btn btn-red\",attrs:{\"to\":{\n          name: 'editor',\n          path: 'editor',\n          params: {\n            scoreData: _vm.scoreDataStr,\n            musicUrl: _vm.musicUrl,\n            key: _vm.selectedKey\n          }\n        }}},[_vm._v(\"START\")])],1),_c('div',{attrs:{\"id\":\"start-version\"}},[_vm._v(\"ver 2.6.0 created by SKB\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"start-uploader\",on:{\"dragover\":function($event){$event.preventDefault();return _vm.ondragover($event)},\"drop\":function($event){$event.preventDefault();return _vm.ondrop($event)}}},[_c('div',{staticClass:\"uk-placeholder uk-text-center uk-margin-remove-bottom start-droparea\",attrs:{\"uk-form-custom\":\"\"}},[_c('input',{ref:\"input\",attrs:{\"type\":\"file\"},on:{\"change\":_vm.loadFile}}),_c('span',{attrs:{\"uk-icon\":\"icon: upload\"}}),_c('span',{staticClass:\"uk-text-middle\"},[_vm._v(\" \"+_vm._s(_vm.msg)+\" \")]),_c('span',{staticClass:\"uk-text-middle uk-link\"},[_vm._v(\"\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\n\r\ntype DataType = {\r\n  vue: Vue;\r\n  file: File | null;\r\n};\r\n\r\nexport default Vue.extend({\r\n  name: \"StartUploader\",\r\n  props: {\r\n    msg: String\r\n  },\r\n  data(): DataType {\r\n    return {\r\n      vue: this,\r\n      file: null\r\n    };\r\n  },\r\n  methods: {\r\n    ondragover(e: DragEvent): void {\r\n      if (e.dataTransfer) e.dataTransfer.dropEffect = \"copy\";\r\n    },\r\n    ondrop(e: DragEvent): void {\r\n      if (e.dataTransfer) {\r\n        const file = e.dataTransfer.files[0] || null;\r\n        this.file = file;\r\n      } else {\r\n        this.file = null;\r\n      }\r\n    },\r\n    loadFile(e: Event): void {\r\n      if (e.target instanceof HTMLInputElement) {\r\n        const file = e.target.files ? e.target.files[0] : null;\r\n        this.file = file;\r\n      } else {\r\n        this.file = null;\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    file(newFile: File | null) {\r\n      if (!(newFile === null)) {\r\n        this.$emit(\"fileRecieve\", newFile);\r\n      } else {\r\n        alert(\"\");\r\n      }\r\n    }\r\n  }\r\n});\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StartUploader.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StartUploader.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StartUploader.vue?vue&type=template&id=2734a9a6&\"\nimport script from \"./StartUploader.vue?vue&type=script&lang=ts&\"\nexport * from \"./StartUploader.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\nimport StartUploader from \"./StartUploader.vue\";\r\nimport { CustomKeyKind } from \"@/model/KeyKind\";\r\nimport { CustomKeyConfig } from \"../../model/KeyConfig\";\r\nimport { createCustomKeyConfig } from \"../common/createCustomKeyConfig\";\r\n\r\ntype DataType = {\r\n  keyConfig: CustomKeyConfig;\r\n  musicTitle: string;\r\n  scoreTitle: string;\r\n  selectedKey: CustomKeyKind;\r\n  musicUrl: string | null;\r\n  scoreDataStr: string | null;\r\n};\r\n\r\nexport default Vue.extend({\r\n  name: \"StartMain\",\r\n  components: {\r\n    StartUploader\r\n  },\r\n  data(): DataType {\r\n    const keyConfig = createCustomKeyConfig();\r\n\r\n    return {\r\n      keyConfig,\r\n      musicTitle: \"\",\r\n      scoreTitle: \"\",\r\n      selectedKey: \"5\",\r\n      musicUrl: null,\r\n      scoreDataStr: null\r\n    };\r\n  },\r\n  computed: {\r\n    keyKinds(): CustomKeyKind[] {\r\n      const keyConfig = this.keyConfig as CustomKeyConfig;\r\n      const keys = Object.keys(keyConfig) as CustomKeyKind[];\r\n      keys.sort((a, b) => keyConfig[a].id - keyConfig[b].id);\r\n      return keys;\r\n    },\r\n\r\n    localSaveDataStr(): string {\r\n      return localStorage.getItem(\"saveData\") ?? \"\";\r\n    }\r\n  },\r\n  methods: {\r\n    onMusicFileRecieve(file: File) {\r\n      const mimeTypePattern = \"audio.*\";\r\n      if (!file.type.match(mimeTypePattern))\r\n        alert(\"\");\r\n      else {\r\n        const reader = new FileReader();\r\n        reader.onload = () => {\r\n          const result = reader.result;\r\n          if (typeof result == \"string\") {\r\n            this.musicUrl = result;\r\n            this.musicTitle = file.name;\r\n          }\r\n        };\r\n        reader.readAsDataURL(file);\r\n      }\r\n    },\r\n    onScoreFileRecieve(file: File) {\r\n      const mimeTypePattern = \"(application/json|text/plain)\";\r\n      if (!file.type.match(mimeTypePattern))\r\n        alert(\"\");\r\n      else {\r\n        const reader = new FileReader();\r\n        reader.onload = () => {\r\n          const result = reader.result;\r\n          if (typeof result == \"string\") {\r\n            this.scoreDataStr = result;\r\n            this.scoreTitle = file.name;\r\n          }\r\n        };\r\n        reader.readAsText(file);\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    sessionStorage.removeItem(\"keyKind\");\r\n  }\r\n});\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StartMain.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StartMain.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StartMain.vue?vue&type=template&id=32e77c70&\"\nimport script from \"./StartMain.vue?vue&type=script&lang=ts&\"\nexport * from \"./StartMain.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\nimport StartMain from \"@/components/start/StartMain.vue\";\r\n\r\nexport default Vue.extend({\r\n  name: \"Start\",\r\n  components: {\r\n    StartMain\r\n  }\r\n});\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Start.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Start.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Start.vue?vue&type=template&id=68ad6a46&\"\nimport script from \"./Start.vue?vue&type=script&lang=ts&\"\nexport * from \"./Start.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"configure\"}},[_c('configure-main')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"configure-container\"}},[_vm._m(0),_c('h3',{staticClass:\"configure-context-title\"},[_vm._v(\"Key Config\")]),_c('div',{attrs:{\"id\":\"configure-uploader\"}},[_c('configure-uploader',{attrs:{\"msg\":_vm.confTitle},on:{\"fileRecieve\":_vm.onConfFileRecieve}}),_c('div',{staticClass:\"start-btn btn-gray\",on:{\"click\":_vm.resetConf}},[_vm._v(\"RESET\")])],1),_c('configure-design'),_c('div',{attrs:{\"id\":\"start-go-next\"}},[_c('router-link',{staticClass:\"start-btn btn-blue\",attrs:{\"to\":{\n        name: 'start',\n        path: '/'\n      }}},[_vm._v(\"BACK\")])],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"configure-title\"}},[_c('h2',[_vm._v(\"Configure\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"configure-conf-select\"},on:{\"dragover\":function($event){$event.preventDefault();return _vm.ondragover($event)},\"drop\":function($event){$event.preventDefault();return _vm.ondrop($event)}}},[_c('div',{staticClass:\"uk-placeholder uk-text-center uk-margin-remove-bottom uk-form-width-medium\",attrs:{\"uk-form-custom\":\"\",\"id\":\"configure-droparea\"}},[_c('input',{ref:\"input\",attrs:{\"type\":\"file\",\"id\":\"configure-droparea-input\"},on:{\"change\":_vm.loadFile}}),_c('div',{attrs:{\"id\":\"configure-droparea-text\"}},[_c('span',{attrs:{\"uk-icon\":\"icon: upload\"}}),_c('span',{staticClass:\"uk-text-middle\"},[_vm._v(_vm._s(_vm.msg))]),_c('span',{staticClass:\"uk-text-middle uk-link\"},[_vm._v(\"\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\n\r\ntype DataType = {\r\n  vue: Vue;\r\n  file: File | null;\r\n};\r\n\r\nexport default Vue.extend({\r\n  name: \"ConfigureUploader\",\r\n  props: {\r\n    msg: String\r\n  },\r\n  data(): DataType {\r\n    return {\r\n      vue: this,\r\n      file: null\r\n    };\r\n  },\r\n  methods: {\r\n    ondragover(e: DragEvent): void {\r\n      if (e.dataTransfer) e.dataTransfer.dropEffect = \"copy\";\r\n    },\r\n    ondrop(e: DragEvent): void {\r\n      if (e.dataTransfer) {\r\n        const file = e.dataTransfer.files[0] || null;\r\n        this.file = file;\r\n      } else {\r\n        this.file = null;\r\n      }\r\n    },\r\n    loadFile(e: Event): void {\r\n      if (e.target instanceof HTMLInputElement) {\r\n        const file = e.target.files ? e.target.files[0] : null;\r\n        this.file = file;\r\n      } else {\r\n        this.file = null;\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    file(newFile: File | null) {\r\n      if (!(newFile === null)) {\r\n        this.$emit(\"fileRecieve\", newFile);\r\n      } else {\r\n        alert(\"\");\r\n      }\r\n    }\r\n  }\r\n});\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfigureUploader.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfigureUploader.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ConfigureUploader.vue?vue&type=template&id=54d224da&\"\nimport script from \"./ConfigureUploader.vue?vue&type=script&lang=ts&\"\nexport * from \"./ConfigureUploader.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h3',{staticClass:\"configure-context-title\"},[_vm._v(\"Design\")]),_c('div',{staticClass:\"configure-design-item\"},[_c('div',{staticClass:\"configure-design-text\"},[_vm._v(\"Direction:\")]),_c('div',[_c('label',{staticClass:\"configure-radio\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.isReverse),expression:\"isReverse\"}],staticClass:\"uk-radio\",attrs:{\"type\":\"radio\",\"name\":\"editor-direction\"},domProps:{\"value\":false,\"checked\":_vm._q(_vm.isReverse,false)},on:{\"change\":function($event){_vm.isReverse=false}}}),_vm._v(\"Upward \")]),_c('label',{staticClass:\"configure-radio\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.isReverse),expression:\"isReverse\"}],staticClass:\"uk-radio\",attrs:{\"type\":\"radio\",\"name\":\"editor-direction\"},domProps:{\"value\":true,\"checked\":_vm._q(_vm.isReverse,true)},on:{\"change\":function($event){_vm.isReverse=true}}}),_vm._v(\"Downward \")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\n\r\nexport default Vue.extend({\r\n  name: \"ConfigureDesign\",\r\n  computed: {\r\n    isReverse: {\r\n      get(): boolean {\r\n        const isReverseStr: string =\r\n          localStorage.getItem(\"isReverse\") ?? \"false\";\r\n        return JSON.parse(isReverseStr);\r\n      },\r\n\r\n      set(newValue: boolean): boolean {\r\n        localStorage.setItem(\"isReverse\", JSON.stringify(newValue));\r\n        return newValue;\r\n      }\r\n    }\r\n  }\r\n});\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfigureDesign.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfigureDesign.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ConfigureDesign.vue?vue&type=template&id=2e047c4e&\"\nimport script from \"./ConfigureDesign.vue?vue&type=script&lang=ts&\"\nexport * from \"./ConfigureDesign.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\nimport ConfigureUploader from \"./ConfigureUploader.vue\";\r\nimport ConfigureDesign from \"./ConfigureDesign.vue\";\r\n\r\nexport default Vue.extend({\r\n  name: \"ConfigureMain\",\r\n  components: {\r\n    ConfigureUploader,\r\n    ConfigureDesign\r\n  },\r\n  data() {\r\n    return {\r\n      confTitle: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    onConfFileRecieve(file: File) {\r\n      const storage = localStorage;\r\n      const mimeTypePattern = \"(application/json|text/plain)\";\r\n      if (!file.type.match(mimeTypePattern))\r\n        alert(\"\");\r\n      else {\r\n        const reader = new FileReader();\r\n        reader.onload = () => {\r\n          const result = reader.result;\r\n          if (typeof result == \"string\") {\r\n            try {\r\n              JSON.parse(result);\r\n              storage.setItem(\"customKeyConfig\", result);\r\n              alert(\"\");\r\n            } catch {\r\n              alert(\"JSON\");\r\n            }\r\n          }\r\n        };\r\n        reader.readAsText(file);\r\n      }\r\n    },\r\n\r\n    resetConf() {\r\n      const storage = localStorage;\r\n      storage.removeItem(\"customKeyConfig\");\r\n      alert(\"\");\r\n    }\r\n  }\r\n});\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfigureMain.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfigureMain.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ConfigureMain.vue?vue&type=template&id=6121c6e8&\"\nimport script from \"./ConfigureMain.vue?vue&type=script&lang=ts&\"\nexport * from \"./ConfigureMain.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\nimport ConfigureMain from \"@/components/configure/ConfigureMain.vue\";\r\n\r\nexport default Vue.extend({\r\n  name: \"Configure\",\r\n  components: {\r\n    ConfigureMain\r\n  }\r\n});\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Configure.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Configure.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Configure.vue?vue&type=template&id=7b07ae4e&\"\nimport script from \"./Configure.vue?vue&type=script&lang=ts&\"\nexport * from \"./Configure.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\r\nimport Editor from \"./pages/Editor.vue\";\r\nimport Start from \"./pages/Start.vue\";\r\nimport Configure from \"./pages/Configure.vue\";\r\nimport Router from \"vue-router\";\r\nimport { CustomKeyKind } from \"./model/KeyKind\";\r\n\r\nVue.config.productionTip = false;\r\n\r\nVue.use(Router);\r\n\r\ntype PropsType = {\r\n  loadScoreDataStr: string;\r\n  loadMusicUrl: string;\r\n  selectedKey: CustomKeyKind;\r\n};\r\n\r\nexport default new Router({\r\n  routes: [\r\n    {\r\n      path: \"/\",\r\n      name: \"start\",\r\n      component: Start\r\n    },\r\n    {\r\n      path: \"/editor\",\r\n      name: \"editor\",\r\n      component: Editor,\r\n      props(routes): PropsType {\r\n        return {\r\n          loadScoreDataStr: routes.params.scoreData,\r\n          loadMusicUrl: routes.params.musicUrl,\r\n          selectedKey: (routes.params.key || \"7\") as CustomKeyKind\r\n        };\r\n      }\r\n    },\r\n    {\r\n      path: \"/configure\",\r\n      name: \"configure\",\r\n      component: Configure\r\n    }\r\n  ]\r\n});\r\n","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport UIkit from \"uikit\";\nimport Icons from \"uikit/dist/js/uikit-icons\";\n\nimport \"uikit/dist/css/uikit.min.css\";\nimport \"uikit/dist/css/uikit-core.min.css\";\n\nUIkit.use(Icons);\n\nVue.config.productionTip = false;\n\nnew Vue({\n  router,\n  render: h => h(App)\n}).$mount(\"#app\");\n"],"sourceRoot":""}